(function(){})(this,this.document),function(){let t=window.scrollY;const e=document.querySelector('[data-js="top-menu"]')||document.querySelector("#topmenu");if(!e)return;const n=e.offsetHeight,s=()=>e.classList.add("bottom-line"),o=()=>e.classList.remove("bottom-line");window.addEventListener("scroll",function(){t=window.scrollY,t>=n?s():o()})}(),function(){var e,i,a,d,u,h,m,f,p,g,v,l=document.documentElement,o=window,r=o.scrollY||l.scrollTop,s=0,c=0,n=0,t=document.getElementById("topmenu");if(!t)return;m=300,f=200,d=function(){e=o.scrollY||l.scrollTop,e>r?s=2:s=1,s!==c?i=p():n=e,r=e,i&&(c=s)},p=function(){return i=!0,document.getElementById("layout").classList.contains("active")?(n=e,t.classList.remove("hide")):s===2&&e<10?(n=e,t.classList.add("relative")):s===2&&e-n>m?(n=e,t.classList.add("hide"),t.classList.remove("relative")):s===1&&n-e>f?(n=e,t.classList.remove("hide"),t.classList.remove("relative")):i=!1,i},u=o.matchMedia("(max-width: 47.9375em)"),a=!1,g=function(){if(a)return;a=!0,r=o.scrollY||l.scrollTop,s=0,c=0,n=r,o.addEventListener("scroll",d)},v=function(){if(!a)return;a=!1,t.classList.remove("hide"),t.classList.remove("relative"),o.removeEventListener("scroll",d)},h=function(e){e.matches?g():v()},u.addEventListener("change",h),h(u)}(),function(){"use strict";let n,e,t,i,a,r;function f(s){s&&s.stopPropagation();const o=e.hasAttribute("hidden");o?(m(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true")):(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function m(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function l(){const e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-toggle"]'),n=document.querySelector('[data-js="settings-overlay"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function d(e){localStorage.setItem("theme-mode",e),o(e),c(e),s(),l()}function o(e){if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-mode",e)}else document.documentElement.setAttribute("data-mode",e);g(e),v()}function c(e){a.forEach(t=>{const n=t.getAttribute("data-mode");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function p(e){localStorage.setItem("theme-palette",e),u(e),h(e),s(),l()}function u(e){document.documentElement.setAttribute("data-palette",e)}function h(e){r.forEach(t=>{const n=t.getAttribute("data-palette");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function g(e){if(!i)return;let t="";e==="light"?t="icon-light":e==="dark"?t="icon-dark":e==="system"&&(t="icon-system"),i.innerHTML=`<svg width="24" height="24" aria-hidden="true">
      <use href="/img/svg/sprite.svg#${t}"></use>
    </svg>`}function v(){const e=document.querySelector('meta[name="theme-color"]');if(!e)return;const t=document.documentElement.getAttribute("data-mode");t==="dark"?e.setAttribute("content","#18181b"):e.setAttribute("content","#FFFFFF")}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const e=localStorage.getItem("theme-mode")||"system";e==="system"&&o("system")}),document.addEventListener("DOMContentLoaded",function(){n=document.querySelector('[data-js="theme-toggle"]'),e=document.querySelector('[data-js="theme-panel"]'),t=document.querySelector('[data-js="theme-overlay"]'),i=document.querySelector('[data-js="theme-icon"]'),a=document.querySelectorAll('[data-js="mode-option"]'),r=document.querySelectorAll('[data-js="palette-option"]');const l=localStorage.getItem("theme-mode")||"system",m=localStorage.getItem("theme-palette")||"standard";if(o(l),u(m),c(l),h(m),n&&e){n.addEventListener("click",f),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()});let o=0,i=0;e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0})}a.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-mode");d(e)})}),r.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-palette");p(e)})})}),window.setTheme=d}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".language-toggle"),e=document.querySelector(".language-panel"),t=document.querySelector(".language-overlay");if(!n||!e)return;function a(s){s.stopPropagation();const o=e.hasAttribute("hidden");o?(r(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true")):(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function r(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}n.addEventListener("click",a),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()});let o=0,i=0;e&&t&&(e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0}))})}(),function(){"use strict";const e={PARAM_VIEW:"view",PARAM_REF:"ref",VIEW_CLIENT:"client",VIEW_EMPLOYER:"employer",LAYOUT_ID:"layout",CLASS_CLIENTPAGE:"clientpage",CLASS_EMPLOYERPAGE:"employerpage"};function u(){try{return new URLSearchParams(window.location.search)}catch(e){return console.error("Focus mode: Error parsing URL parameters",e),new URLSearchParams}}function o(){const s=u(),o=s.get(e.PARAM_VIEW),a=s.get("source"),n=window.location.pathname,r=n.includes("/clients/"),c=n.includes("/employer")||n.includes("/arbetsgivare");return o===e.VIEW_CLIENT||a==="client"||r?{type:e.VIEW_CLIENT,ref:s.get(e.PARAM_REF)||t(n,"clients")||i("clients")}:o===e.VIEW_EMPLOYER||c?{type:e.VIEW_EMPLOYER,ref:s.get(e.PARAM_REF)||t(n,"employers")||i("employers")}:null}function t(e,t){const s=new RegExp(`/${t}/([^/]+)`),n=e.match(s);return n?n[1]:null}function i(e){try{if(!document.referrer)return null;const n=new URL(document.referrer);return n.origin!==window.location.origin?null:t(n.pathname,e)}catch{return null}}function d(t){const n=document.getElementById(e.LAYOUT_ID);if(!n){console.warn("Focus mode: Layout element not found");return}t.type===e.VIEW_CLIENT?(n.classList.add(e.CLASS_CLIENTPAGE),console.log("Focus mode: Client mode activated",t.ref||"")):t.type===e.VIEW_EMPLOYER&&(n.classList.add(e.CLASS_EMPLOYERPAGE),console.log("Focus mode: Employer mode activated"))}function h(t){const n=new URLSearchParams;return n.set(e.PARAM_VIEW,t.type),t.ref&&n.set(e.PARAM_REF,t.ref),n.toString()}function r(t){const n=document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]');n.forEach(n=>{try{const o=n.getAttribute("href");if(!o||o.startsWith("#")||n.hasAttribute("data-focus-processed"))return;const s=new URL(o,window.location.origin),i=new URLSearchParams(s.search);i.set(e.PARAM_VIEW,t.type),t.ref&&i.set(e.PARAM_REF,t.ref),s.search=i.toString(),n.setAttribute("href",s.pathname+s.search+s.hash),n.setAttribute("data-focus-processed","true")}catch{}})}function n(t){t.type===e.VIEW_CLIENT&&t.ref&&c(t.ref),t.type===e.VIEW_EMPLOYER&&t.ref&&l(t.ref)}function c(e){const t=document.querySelector('[data-js="application-breadcrumb-back"]')||document.getElementById("client-breadcrumb-back");if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);const n=document.createElement("a"),s=`/clients/${encodeURIComponent(e)}/`;n.setAttribute("href",s);const o=decodeURIComponent(e).replace(/-/g," ");n.textContent=o,t.appendChild(n)}function l(e){const t=document.querySelector('[data-js="application-breadcrumb-back-employer"]')||document.getElementById("employer-breadcrumb-back");if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);const n=document.createElement("a"),s=`/employers/${encodeURIComponent(e)}/`;n.setAttribute("href",s);const o=decodeURIComponent(e).replace(/-/g," ");n.textContent=o,t.appendChild(n)}function a(t){if(t.type!==e.VIEW_CLIENT||!t.ref)return;const n=`/clients/${encodeURIComponent(t.ref)}/`,s={"application-toc-letter":`${n}#letter`,"application-toc-portfolio":`${n}#portfolio`,"application-toc-cv":`${n}#cv`,"application-toc-download":`${n}#download`,"application-toc-contact":`${n}#contact`};Object.entries(s).forEach(([e,t])=>{const n=document.querySelector(`[data-js="${e}"]`);n&&n.setAttribute("href",t)})}function s(){const e=o();if(!e){console.log("Focus mode: Standard mode (no focus context)");return}d(e),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{r(e),n(e),a(e)}):(r(e),n(e),a(e))}s(),window.FocusMode={getContext:o,refresh:s}}(),window.onscroll=function(){progressBar()};const brandParts=Array.from(document.querySelectorAll('[data-brand-part="true"]')),brandMark=document.querySelector('[data-js="brand-mark"]'),brandLineLeft=document.querySelector('[data-js="brand-line-left"]'),brandLineRight=document.querySelector('[data-js="brand-line-right"]'),brandLoop=document.querySelector('[data-js="brand-loop"]'),brandLink=document.querySelector('[data-js="brand-link"]'),brandWords=Array.from(document.querySelectorAll(".brand__word")),loopWidth=24,loopHeight=24;let brandWidth=0,leftMaxPx=0,rightMaxPx=0;function updateMetrics(){if(brandParts.length){const e=brandParts.reduce((e,t)=>e+t.offsetWidth,0);brandWidth=e+5}else brandWidth=0;const t=brandMark?brandMark.parentElement:null,e=t?t.closest(".top-menu__container"):null,n=e?e.querySelector(".top-menu__nav"):null,i=e?e.offsetWidth:t?t.offsetWidth:0,a=n?n.offsetWidth:0,s=e?parseFloat(getComputedStyle(e).columnGap):0,r=Number.isNaN(s)?0:s,c=Math.max(0,i-a-r),l=brandWords.reduce((e,t)=>e+t.offsetWidth,0),d=Math.max(0,c-l),o=Math.max(0,d-loopWidth);leftMaxPx=o*.3,rightMaxPx=o*.7}updateMetrics(),document.fonts&&document.fonts.ready&&document.fonts.ready.then(updateMetrics),window.addEventListener("resize",updateMetrics);function progressBar(){if(!brandMark||!brandLineLeft||!brandLineRight||!brandLoop||!brandLink)return;var o=document.body.scrollTop||document.documentElement.scrollTop,s=document.documentElement.scrollHeight-document.documentElement.clientHeight,e=s>0?o/s:0,e=Math.min(Math.max(e,0),1);const i=typeof window.matchMedia=="function"&&window.matchMedia("(max-width: 47.9375em)").matches;i&&(e=0);const t=leftMaxPx*e,a=rightMaxPx*e,n=loopWidth+t+a;brandMark.style.width=n+"px",brandMark.setAttribute("viewBox","0 0 "+n+" "+loopHeight),brandLineLeft.setAttribute("x2",t.toFixed(2)),brandLineRight.setAttribute("x1",(t+loopWidth).toFixed(2)),brandLineRight.setAttribute("x2",n.toFixed(2)),brandLoop.setAttribute("transform","translate("+t.toFixed(2)+" 0)");const r=e*100+"%",c=1-e;brandLink.style.width="calc("+brandWidth+"px * "+c+" + "+r+")"}progressBar(),function(){"use strict";function t(){const t=getComputedStyle(document.documentElement),e=parseFloat(t.scrollPaddingTop);return Number.isFinite(e)?e:0}function e(e,n){const s=t(),o=parseFloat(getComputedStyle(e).paddingTop)||0,i=e.getBoundingClientRect().top+window.pageYOffset+o-s;window.scrollTo({top:i,behavior:n||"smooth"})}function n(n){setTimeout(()=>{const s=t(),o=n.getBoundingClientRect().top+window.pageYOffset-s,i=Math.abs(window.pageYOffset-o);i>2&&e(n,"auto")},200)}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll('a[href*="#"]');if(t.forEach(t=>{t.addEventListener("click",function(t){const n=this.getAttribute("href");if(!n||n==="#")return;try{const i=new URL(n,window.location.href),a=i.pathname===window.location.pathname||n.startsWith("#");if(!a)return;const s=n.includes("#")?n.split("#")[1]:null;if(!s)return;const o=document.getElementById(s);if(o){t.preventDefault(),window.history.pushState?window.location.hash!=="#"+s&&window.history.pushState(null,null,"#"+s):window.location.hash=s,e(o,"smooth"),o.setAttribute("tabindex","-1");try{o.focus({preventScroll:!0})}catch{}}}catch(e){console.warn("Smooth scroll: URL parsing failed",e)}})}),window.location.hash){const s=window.location.hash.slice(1),t=document.getElementById(s);t&&setTimeout(()=>{e(t,"smooth"),t.setAttribute("tabindex","-1");try{t.focus({preventScroll:!0})}catch{}n(t)},100)}})}(),function(){"use strict";const e=5e3,t=500;function n(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return e.split("|").map(e=>e.trim()).filter(Boolean)}}document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="role-swapper"]');if(!s)return;const r=s.getAttribute("data-suffix")||"",l=window.matchMedia("(prefers-reduced-motion: reduce)").matches,o=Array.from(s.querySelectorAll("[data-role]")),d=s.getAttribute("data-start");if(o.length){const r=Number(s.getAttribute("data-interval"))||e,c=Number(s.getAttribute("data-fade"))||t;let n=o.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0),d==="random"&&(n=Math.floor(Math.random()*o.length));const i=o.reduce((e,t)=>Math.max(e,t.textContent.trim().length),0);i>0&&(s.style.minWidth=`${i}ch`),o.forEach(e=>{e.style.transitionDuration=`${c}ms`});const a=e=>{o.forEach((t,n)=>{const s=n===e;t.classList.toggle("is-active",s),t.setAttribute("aria-hidden",s?"false":"true")})};if(a(n),o.length<2||l)return;window.setInterval(()=>{n=(n+1)%o.length,a(n)},r);return}const c=s.querySelector('[data-js="role-swapper-text"]')||s,a=n(s.getAttribute("data-roles"));if(a.length<2)return;const u=e=>{const t=e.trim();return r&&t.endsWith(r)?t.slice(0,-r.length):t};if(l)return;const h=Number(s.getAttribute("data-interval"))||e,m=Number(s.getAttribute("data-fade"))||t;let i=a.indexOf(u(c.textContent));d==="random"?(i=Math.floor(Math.random()*a.length),c.textContent=a[i]+r):(i<0&&(i=0),c.textContent.trim()||(c.textContent=a[i]+r));function f(){s.style.opacity="0",window.setTimeout(()=>{i=(i+1)%a.length,c.textContent=a[i]+r,s.style.opacity="1"},m)}window.setInterval(f,h)})}(),function(){const e=document.querySelector('[data-js="ui-library-tabs"]');if(!e)return;const t=e.querySelectorAll(".tab-button"),s=e.querySelectorAll(".tab-panel");function n(e){t.forEach(t=>{const n=t.dataset.tab===e;t.classList.toggle("is-active",n),t.setAttribute("aria-selected",n?"true":"false")}),s.forEach(t=>{const n=t.dataset.panel===e;t.classList.toggle("is-active",n)});try{localStorage.setItem("ui-library-active-tab",e)}catch{}}function o(){try{const e=localStorage.getItem("ui-library-active-tab");e&&n(e)}catch{}}t.forEach(e=>{e.addEventListener("click",t=>{const s=e.dataset.tab;n(s)})}),o()}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector('[data-js="settings-toggle"]'),e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]');if(!n||!e)return;function r(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function c(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function a(){if(!e)return;e.style.transform="",e.style.transition="",t&&(t.style.opacity="",t.style.transition="")}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"),a())}function l(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(r(),c(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true"),a()):s()}n.addEventListener("click",l),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()});let o=0,i=0;e&&t&&(e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0}))})}(),function(){"use strict";const s=".reveal",e="is-revealed",o=e=>{if(window.requestAnimationFrame){window.requestAnimationFrame(()=>{window.requestAnimationFrame(e)});return}window.setTimeout(e,0)},t=t=>{if(t.classList.contains(e))return;o(()=>{t.classList.add(e)})},n=e=>{const s=e.querySelectorAll("img");if(!s.length){t(e);return}let n=0;s.forEach(s=>{if(s.complete)return;n+=1;const o=()=>{n-=1,n<=0&&t(e)};s.addEventListener("load",o,{once:!0}),s.addEventListener("error",o,{once:!0})}),n===0&&t(e)};document.addEventListener("DOMContentLoaded",function(){const l=document.querySelectorAll(".post-content"),o=new Set;l.forEach(e=>{Array.from(e.children).forEach(e=>{e.classList.contains("reveal")||e.classList.add("reveal"),o.add(e)})});const t=Array.from(document.querySelectorAll(s));if(!t.length)return;const d=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(d||!("IntersectionObserver"in window)){t.forEach(t=>t.classList.add(e));return}const u=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!e.isIntersecting)return;n(e.target),t.unobserve(e.target)})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),h=e=>{const t=e.getBoundingClientRect();return t.top<=window.innerHeight&&t.bottom>=0},i=e=>{const t=e.getBoundingClientRect();return t.height>0},m=e=>e.classList.contains("reveal--delay")||e.classList.contains("reveal--delay-2")||e.style.getPropertyValue("--reveal-delay"),f=window.matchMedia&&window.matchMedia("(max-width: 43.125em)").matches,a=t.filter(h);let r=0,c=0;a.forEach(e=>{if(!f&&!m(e)){const t=o.has(e);if(t){const t=Math.min(c*60,360);e.style.setProperty("--reveal-delay",`${t}ms`),i(e)&&(c+=1)}else{const t=Math.min(r*80,320);e.style.setProperty("--reveal-delay",`${t}ms`),i(e)&&(r+=1)}}n(e)}),t.forEach(e=>{if(a.includes(e))return;u.observe(e)})})}()