/* ============================================================================
   SEMANTIC TOKENS

   Canonical tokens live here. Mode/palette files can override these values.

   REDESIGN UPDATE: Added new semantic tokens for header dropdowns, footer,
   and homepage sections. Updated 2026-01-06.
   ============================================================================ */

:root {
  /* === TEXT === */
  --text-default: var(--gray-12);
  --text-muted: color-mix(
    in oklch,
    var(--gray-11) 60%,
    var(--surface-ink-strong)
  );
  --text-inverse: var(--gray-1);
  --text-link: var(--iris-11);
  --text-link-hover: var(--iris-12);
  --text-accent: var(--primary-strong);
  --text-tag: var(--iris-11);

  /* === BACKGROUND / SURFACE === */
  --bg-page: var(--white);
  --bg-surface: var(--iris-2);
  --bg-elevated: var(--gray-1);
  --bg-inverse: var(--gray-12);
  --bg-surface-subtle: var(--surface-elevated);
  --bg-tag: var(--iris-3);
  --bg-tag-hover: var(--iris-4);
  --bg-section-headline: var(--primary);
  --surface-page: var(--bg-page);
  --surface-default: var(--bg-surface);
  --surface-elevated: var(--bg-elevated);
  --surface-inverse: var(--bg-inverse);
  --surface-subtle: var(--bg-surface-subtle);
  --surface-tag: var(--bg-tag);
  --surface-tag-hover: var(--bg-tag-hover);
  --surface-headline: var(--bg-section-headline);
  --surface-ink-strong: var(--iris-11);

  /* === BORDER / OUTLINE === */
  --border-subtle: var(--gray-4);
  --border-default: var(--gray-6);
  --border-strong: var(--gray-8);

  /* === STATE (OVERLAYS) === */
  /* Global intensity knobs (normal). Can be overridden per document:
     html[data-state-intensity="soft|strong"] */
  --state-mix-page-hover: 6%;
  --state-mix-page-active: 12%;
  --state-mix-surface-hover: 8%;
  --state-mix-surface-active: 16%;
  --state-mix-brand-hover: 10%;
  --state-mix-brand-active: 18%;
  --state-mix-tag-hover: 10%;
  --state-mix-tag-active: 18%;

  /* Semantic per-surface overlays. */
  --state-page-hover: color-mix(
    in oklch,
    var(--text-default) var(--state-mix-page-hover),
    transparent
  );
  --state-page-active: color-mix(
    in oklch,
    var(--text-default) var(--state-mix-page-active),
    transparent
  );
  --state-surface-hover: color-mix(
    in oklch,
    var(--surface-ink-strong) var(--state-mix-surface-hover),
    transparent
  );
  --state-surface-active: color-mix(
    in oklch,
    var(--surface-ink-strong) var(--state-mix-surface-active),
    transparent
  );
  --state-primary-hover: color-mix(
    in oklch,
    var(--text-inverse) var(--state-mix-brand-hover),
    transparent
  );
  --state-primary-active: color-mix(
    in oklch,
    var(--text-inverse) var(--state-mix-brand-active),
    transparent
  );
  --state-brand-hover: var(--state-primary-hover);
  --state-brand-active: var(--state-primary-active);
  --state-focus: var(--iris-9);
  --state-selected: var(--text-accent);
  --text-disabled: var(--gray-7);
  --bg-disabled: var(--gray-3);
  --border-disabled: var(--gray-4);
  --ring-focus: 0 0 0 3px var(--state-focus);
  --ring-error: 0 0 0 3px var(--status-error-bg);
  --ring-selected: 0 0 0 3px var(--state-selected);
  --ring-selected-offset: 0 0 0 1px var(--surface-page);
  --ring-selected-emphasis: var(--ring-selected-offset), var(--ring-selected);
  --state-layer-duration: var(--motion-duration-base);
  --state-layer-ease: var(--motion-ease-standard);

  /* === MOTION === */
  --motion-duration-fast: 150ms;
  --motion-duration-base: 200ms;
  --motion-duration-slow: 300ms;
  --motion-duration-slower: 500ms;
  --motion-duration-xslow: 1000ms;
  --motion-duration-enter: 320ms;
  --motion-duration-exit: 240ms;
  --motion-duration-reveal: 600ms;
  --motion-duration-reveal-immediate: 400ms;
  --motion-stagger-step: 25ms;
  --motion-delay-reveal-step: 220ms;

  --motion-ease-standard: ease;
  --motion-ease-decelerate: ease-out;
  --motion-ease-accelerate: ease-in;
  --motion-ease-emphasized: cubic-bezier(0.22, 1, 0.36, 1);
  --motion-ease-exit: cubic-bezier(0.4, 0, 1, 1);
  --motion-ease-theme: cubic-bezier(0.075, 0.82, 0.165, 1);

  --motion-distance-sm: 8px;
  --motion-distance-md: 16px;

  /* === PRIMARY / SECONDARY ROLES (canonical) === */
  --primary: var(--iris-9);
  --primary-strong: var(--iris-11);
  --on-primary: var(--white);
  --action: var(--text-default);
  --on-action: var(--surface-page);
  --secondary: var(--iris-4);
  --secondary-strong: var(--iris-8);
  --on-secondary: var(--gray-12);

  /* === LEGACY ALIASES (compat) === */
  --accent-primary: var(--primary);
  --accent-primary-strong: var(--primary-strong);
  --accent-secondary: var(--secondary);
  --accent-secondary-strong: var(--secondary-strong);
  --brand-primary: var(--primary);
  --brand-on-primary: var(--on-primary);
  --brand-container: var(--iris-3);
  --brand-on-container: var(--iris-11);

  /* === COMPONENT ROLES === */
  --component-nav-cta-bg: var(--primary);
  --component-nav-cta-text: var(--on-primary);
  --component-toc-active-indicator: var(--primary);
  --component-section-headline-bg: var(--surface-headline);

  /* === STATUS === */
  --status-error-bg: var(--red-8);
  --status-error-border: var(--red-9);
  --status-error-text: var(--red-11);

  --status-success-bg: var(--green-2);
  --status-success-border: var(--green-8);
  --status-success-text: var(--green-11);

  --status-warning-bg: var(--amber-2);
  --status-warning-border: var(--amber-8);
  --status-warning-text: var(--amber-11);

  --status-info-bg: var(--blue-2);
  --status-info-border: var(--blue-8);
  --status-info-text: var(--blue-11);

  /* === TYPOGRAPHY (semantic) === */
  --font-display: var(--font-serif);
  --font-heading: var(--font-sans);
  --font-body: var(--font-serif);
  --font-ui: var(--font-sans);
  --display-weight: 400;
  --heading-weight: var(--sans-weight-medium);
  --heading-tracking: var(--tracking-normal);
  --headline-tracking: var(--tracking-normal);
  --type-scale-display: 1;
  --display-tracking: -0.035em;

  /* === IMAGE === */
  --image-background: var(--iris-12);
  --image-grayscale: 0%;
  --image-blend-mode: normal;

  /* === SHADOWS === */
  --shadow-01: rgba(0, 0, 0, 0.1) 0px 10px 15px -3px,
    rgba(0, 0, 0, 0.05) 0px 4px 6px -2px;
  --shadow-02: rgba(0, 0, 0, 0.12) 0px 8px 20px -6px,
    rgba(0, 0, 0, 0.08) 0px 2px 6px -2px;
  --shadow-03: rgba(0, 0, 0, 0.16) 0px 1px 2px 0px,
    rgba(0, 0, 0, 0.08) 0px 1px 1px 0px;
}

:root[data-state-intensity="soft"] {
  --state-mix-page-hover: 4%;
  --state-mix-page-active: 8%;
  --state-mix-surface-hover: 6%;
  --state-mix-surface-active: 12%;
  --state-mix-brand-hover: 8%;
  --state-mix-brand-active: 14%;
  --state-mix-tag-hover: 8%;
  --state-mix-tag-active: 14%;
}

:root[data-state-intensity="strong"] {
  --state-mix-page-hover: 8%;
  --state-mix-page-active: 16%;
  --state-mix-surface-hover: 10%;
  --state-mix-surface-active: 20%;
  --state-mix-brand-hover: 12%;
  --state-mix-brand-active: 22%;
  --state-mix-tag-hover: 12%;
  --state-mix-tag-active: 22%;
}
