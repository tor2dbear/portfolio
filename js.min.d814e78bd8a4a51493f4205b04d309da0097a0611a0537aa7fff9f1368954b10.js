(function(e,t){var a=t.getElementById("layout"),s=t.getElementById("menu"),o=t.getElementById("menuLink"),r=t.getElementById("main");body=t.body;function n(e,t){for(var n=e.className.split(/\s+/),o=n.length,s=0;s<o;s++)if(n[s]===t){n.splice(s,1);break}o===n.length&&n.push(t),e.className=n.join(" ")}function i(e){var t="active";e.preventDefault(),n(a,t),n(s,t),n(o,t),n(body,t)}o.onclick=function(e){i(e),body.classList.add("menuTransition"),setTimeout(function(){body.classList.remove("menuTransition")},1e3)},r.onclick=function(e){s.className.indexOf("active")!==-1&&i(e)}})(this,this.document);let scrollpos=window.scrollY;const header=document.querySelector("#topmenu"),header_height=header.offsetHeight,add_class_on_scroll=()=>header.classList.add("bottom-line"),remove_class_on_scroll=()=>header.classList.remove("bottom-line");window.addEventListener("scroll",function(){scrollpos=window.scrollY,scrollpos>=header_height?add_class_on_scroll():remove_class_on_scroll()}),function(){var e,o,r=document.documentElement,c=window,i=c.scrollY||r.scrollTop,n=0,a=0,t=0,s=document.getElementById("topmenu"),l=300,d=200,u=function(){e=c.scrollY||r.scrollTop,e>i?n=2:n=1,n!==a?o=h():t=e,i=e,o&&(a=n)},h=function(){return o=!0,document.getElementById("layout").classList.contains("active")?(t=e,s.classList.remove("hide")):n===2&&e<10?(t=e,s.classList.add("relative")):n===2&&e-t>l?(t=e,s.classList.add("hide"),s.classList.remove("relative")):n===1&&t-e>d?(t=e,s.classList.remove("hide"),s.classList.remove("relative")):o=!1,o};window.addEventListener("scroll",u)}();var storedTheme,toggle=document.getElementById("theme-toggle"),delay=document.body,storedPalette=localStorage.getItem("palette")||"standard";storedPalette&&document.documentElement.setAttribute("data-palette",storedPalette),toggle.onclick=function(){var t=document.documentElement.getAttribute("data-palette"),e="standard";delay.classList.add("darkmodeTransition"),setTimeout(function(){delay.classList.remove("darkmodeTransition")},1e3),t==="standard"&&(e="pantone"),document.documentElement.setAttribute("data-palette",e),localStorage.setItem("palette",e)},document.getElementById("theme-menu-toggle").addEventListener("click",function(){const e=document.querySelector(".theme-menu-container"),t=e.getAttribute("data-visible")==="true";toggleMenu(!t)}),document.getElementById("overlay").addEventListener("click",function(){closeMenu()});let touchStartY=0,touchEndY=0,touchStartTime=0;const menu=document.getElementById("theme-menu"),overlay=document.getElementById("overlay");menu.addEventListener("touchstart",function(e){window.matchMedia("(max-width: 767px)").matches&&(touchStartY=e.changedTouches[0].screenY,touchStartTime=Date.now(),menu.style.transition="none",overlay.style.transition="none")}),menu.addEventListener("touchmove",function(e){if(window.matchMedia("(max-width: 767px)").matches){touchEndY=e.changedTouches[0].screenY;const t=touchEndY-touchStartY;if(t>0){menu.style.transform=`translateY(${t}px)`;const e=window.innerHeight-menu.getBoundingClientRect().height-.5*16,n=1-t/e;overlay.style.opacity=Math.max(n,0)}}}),menu.addEventListener("touchend",function(){if(window.matchMedia("(max-width: 767px)").matches){const e=touchEndY-touchStartY,t=Date.now(),n=(t-touchStartTime)/1e3;menu.style.transition="transform 0.3s ease-in-out",overlay.style.transition="opacity 0.3s ease-in-out",e>50?closeMenu(n):(menu.style.transform=`translateY(0)`,overlay.style.opacity=1)}});function toggleMenu(e,t=.3){const o=document.querySelector(".theme-menu-container"),n=document.getElementById("theme-menu"),s=document.getElementById("overlay");o.setAttribute("data-visible",e),s.setAttribute("data-visible",e),n.setAttribute("data-visible",e),window.matchMedia("(max-width: 767px)").matches&&document.body.setAttribute("data-no-scroll",e),e?(n.style.transform="translateY(0)",n.style.opacity="1",n.style.visibility="visible",n.style.transition=`transform ${t}s ease-in-out, opacity ${t}s ease-in-out, visibility ${t}s ease-in-out`,s.style.opacity="1",s.style.visibility="visible",s.style.transition=`opacity ${t}s ease-in-out, visibility ${t}s ease-in-out`):(n.style.transform="translateY(100%)",n.style.opacity="0",n.style.visibility="hidden",n.style.transition=`transform ${t}s ease-in-out, opacity ${t}s ease-in-out, visibility ${t}s ease-in-out`,s.style.opacity="0",s.style.visibility="hidden",s.style.transition=`opacity ${t}s ease-in-out, visibility ${t}s ease-in-out`)}function setTheme(e){localStorage.setItem("theme",e),applyTheme(e),closeMenu()}function applyTheme(e){e==="system"?updateSystemTheme():document.documentElement.setAttribute("data-mode",e),updateMenuIcon(e),updateThemeColor(e)}function updateSystemTheme(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-mode",e),updateThemeColor(e)}function updateMenuIcon(e){const n=document.getElementById("theme-menu-icon");let t="";e==="light"?t="/img/svg/light.svg":e==="dark"?t="/img/svg/dark.svg":e==="system"&&(t="/img/svg/system.svg"),fetch(t).then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg");n.innerHTML="",n.appendChild(t),t.style.stroke="currentColor"})}function updateThemeColor(e){const n=getComputedStyle(document.documentElement).getPropertyValue("--background-base").trim();let t=document.querySelector('meta[name="theme-color"]');if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.content=e==="dark"?"#18181b":"#FFFFFF"}else t.content=n}function closeMenu(e=.3){toggleMenu(!1,e)}const observer=new MutationObserver(function(e){e.forEach(function(e){if(e.type==="attributes"&&e.attributeName==="data-visible"){const n=document.querySelector(".theme-menu-container"),e=document.getElementById("theme-menu"),t=document.getElementById("overlay"),s=n.getAttribute("data-visible")==="true";s||(e.style.transform=`translateY(100%)`,e.style.opacity="0",e.style.visibility="hidden",e.style.transition=`transform 0.3s ease-in-out, opacity 0.3s ease-in-out, visibility 0.3s ease-in-out`,t.style.opacity="0",t.style.visibility="hidden",t.style.transition=`opacity 0.3s ease-in-out, visibility 0.3s ease-in-out`)}})});observer.observe(document.querySelector(".theme-menu-container"),{attributes:!0}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("theme")==="system"&&updateSystemTheme()}),storedTheme=localStorage.getItem("theme")||"system",applyTheme(storedTheme);function loadStaticSVGs(){const e=document.getElementById("light-icon"),t=document.getElementById("dark-icon"),n=document.getElementById("system-icon");fetch("/img/svg/light.svg").then(e=>e.text()).then(t=>{const n=(new DOMParser).parseFromString(t,"image/svg+xml").querySelector("svg");e&&(e.innerHTML="",e.appendChild(n),n.style.stroke="currentColor")}),fetch("/img/svg/dark.svg").then(e=>e.text()).then(e=>{const n=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg");t&&(t.innerHTML="",t.appendChild(n),n.style.stroke="currentColor")}),fetch("/img/svg/system.svg").then(e=>e.text()).then(e=>{const t=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg");n&&(n.innerHTML="",n.appendChild(t),t.style.stroke="currentColor")})}document.addEventListener("DOMContentLoaded",function(){loadStaticSVGs()}),function(){"use strict";const e={PARAM_VIEW:"view",PARAM_REF:"ref",VIEW_CLIENT:"client",VIEW_EMPLOYER:"employer",LAYOUT_ID:"layout",CLASS_CLIENTPAGE:"clientpage",CLASS_EMPLOYERPAGE:"employerpage"};function a(){try{return new URLSearchParams(window.location.search)}catch(e){return console.error("Focus mode: Error parsing URL parameters",e),new URLSearchParams}}function t(){const n=a(),s=n.get(e.PARAM_VIEW),o=n.get("source"),t=window.location.pathname,i=t.includes("/clients/"),c=t.includes("/employer")||t.includes("/arbetsgivare");return s===e.VIEW_CLIENT||o==="client"||i?{type:e.VIEW_CLIENT,ref:n.get(e.PARAM_REF)||r(t,"clients")}:s===e.VIEW_EMPLOYER||c?{type:e.VIEW_EMPLOYER,ref:null}:null}function r(e,t){const s=new RegExp(`/${t}/([^/]+)`),n=e.match(s);return n?n[1]:null}function c(t){const n=document.getElementById(e.LAYOUT_ID);if(!n){console.warn("Focus mode: Layout element not found");return}t.type===e.VIEW_CLIENT?(n.classList.add(e.CLASS_CLIENTPAGE),console.log("Focus mode: Client mode activated",t.ref||"")):t.type===e.VIEW_EMPLOYER&&(n.classList.add(e.CLASS_EMPLOYERPAGE),console.log("Focus mode: Employer mode activated"))}function l(t){const n=new URLSearchParams;return n.set(e.PARAM_VIEW,t.type),t.ref&&n.set(e.PARAM_REF,t.ref),n.toString()}function n(t){const s=l(t),n=document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]');n.forEach(n=>{try{const o=n.getAttribute("href");if(!o||o.startsWith("#")||n.hasAttribute("data-focus-processed"))return;const s=new URL(o,window.location.origin),i=new URLSearchParams(s.search);i.set(e.PARAM_VIEW,t.type),t.ref&&i.set(e.PARAM_REF,t.ref),s.search=i.toString(),n.setAttribute("href",s.pathname+s.search+s.hash),n.setAttribute("data-focus-processed","true")}catch{}})}function s(t){t.type===e.VIEW_CLIENT&&t.ref&&d(t.ref)}function d(e){const t=document.getElementById("client-breadcrumb-back");if(!t)return;for(;t.firstChild;)t.removeChild(t.firstChild);const n=document.createElement("a"),s=`/clients/${encodeURIComponent(e)}/`;n.setAttribute("href",s);const o=decodeURIComponent(e).replace(/-/g," ");n.textContent=o,t.appendChild(n)}function o(t){if(t.type!==e.VIEW_CLIENT||!t.ref)return;const n=`/clients/${encodeURIComponent(t.ref)}/`,s={"client-letter":`${n}#letter`,"client-portfolio":`${n}#portfolio`,"client-cv":`${n}#cv`,"client-download":`${n}#download`,"client-contact":`${n}#contact`};Object.entries(s).forEach(([e,t])=>{const n=document.getElementById(e);n&&n.setAttribute("href",t)})}function i(){const e=t();if(!e){console.log("Focus mode: Standard mode (no focus context)");return}c(e),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{n(e),s(e),o(e)}):(n(e),s(e),o(e))}i(),window.FocusMode={getContext:t,refresh:i}}(),window.onscroll=function(){progressBar()};let first=document.querySelector(".brand-first"),widthFirst=first.offsetWidth,second=document.querySelector(".brand-second"),widthSecond=second.offsetWidth,third=document.querySelector(".brand-third"),widthThird=third.offsetWidth,fourth=document.querySelector(".brand-fourth"),widthFourth=fourth.offsetWidth,fifth=document.querySelector(".brand-fifth"),widthFifth=fifth.offsetWidth,brandBase=widthFirst+widthSecond+widthThird+widthFourth+widthFifth,brandWidth=brandBase+5+"px";function progressBar(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=e/t*30+"%",o=e/t*70+"%",n=e/t*5.4+"rem",i=e/t*100+"%",a=1-e/t;document.getElementById("hyphen-left").style.width="calc("+s+" - "+n+")",document.getElementById("hyphen-right").style.width="calc("+o+" - "+n+")",document.getElementById("brand-link").style.width="calc("+brandWidth+" * "+a+" + "+i+")"}