(function(){})(this,this.document),function(){let t=window.scrollY;const e=document.querySelector('[data-js="top-menu"]')||document.querySelector("#topmenu");if(!e)return;const n=e.offsetHeight,s=()=>e.classList.add("bottom-line"),o=()=>e.classList.remove("bottom-line");window.addEventListener("scroll",function(){t=window.scrollY,t>=n?s():o()})}(),function(){var e,i,a,d,u,h,m,f,p,g,v,l=document.documentElement,o=window,r=o.scrollY||l.scrollTop,s=0,c=0,n=0,t=document.getElementById("topmenu");if(!t)return;m=300,f=200,d=function(){e=o.scrollY||l.scrollTop,e>r?s=2:s=1,s!==c?i=p():n=e,r=e,i&&(c=s)},p=function(){return i=!0,document.getElementById("layout").classList.contains("active")?(n=e,t.classList.remove("hide")):s===2&&e<10?(n=e,t.classList.add("relative")):s===2&&e-n>m?(n=e,t.classList.add("hide"),t.classList.remove("relative")):s===1&&n-e>f?(n=e,t.classList.remove("hide"),t.classList.remove("relative")):i=!1,i},u=o.matchMedia("(max-width: 47.9375em)"),a=!1,g=function(){if(a)return;a=!0,r=o.scrollY||l.scrollTop,s=0,c=0,n=r,o.addEventListener("scroll",d)},v=function(){if(!a)return;a=!1,t.classList.remove("hide"),t.classList.remove("relative"),o.removeEventListener("scroll",d)},h=function(e){e.matches?g():v()},u.addEventListener("change",h),h(u)}(),function(){"use strict";var u="pending-toast",C=2500,g=50,e=null,t=null,s=null,i=null,a=null,l=null,n="",r=0,c=0,o=!1;function O(e){return e.getAttribute("href")||e.getAttribute("xlink:href")||e.href&&e.href.baseVal||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||""}function w(){for(var e,n=document.querySelectorAll("script[src]"),t=n.length-1;t>=0;t-=1){if(e=n[t].getAttribute("src")||n[t].src||"",!e)continue;if(e.indexOf("/js")!==-1||e.indexOf("js.")!==-1)try{return new URL("img/svg/sprite.svg?v=20260211b",e).toString()}catch{}}return"/img/svg/sprite.svg?v=20260211b"}function p(){if(n)return n;for(var e,s=document.querySelectorAll("svg use"),t=0;t<s.length;t+=1)if(e=O(s[t]),e&&e.indexOf("sprite.svg")!==-1){n=e.split("#")[0];break}return n||(n=w()),n}function m(){o=!1,r=0,c=0}function v(t){if(!e||!e.classList.contains("toast--visible"))return;if(!t.changedTouches||!t.changedTouches.length)return;o=!0,r=t.changedTouches[0].clientX,c=t.changedTouches[0].clientY}function b(e){if(!o||!e.changedTouches||!e.changedTouches.length)return;var t=e.changedTouches[0].clientY-c,n=e.changedTouches[0].clientX-r;t<0&&Math.abs(t)>Math.abs(n)&&e.preventDefault()}function j(e){if(!o||!e.changedTouches||!e.changedTouches.length)return;var t=e.changedTouches[0].clientY-c,n=e.changedTouches[0].clientX-r;m(),t<=-g&&Math.abs(t)>Math.abs(n)&&h()}function y(){return e||(e=document.createElement("div"),e.className="toast",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),t=document.createElement("span"),t.className="toast__icon",s=document.createElement("span"),s.className="toast__text",i=document.createElement("span"),i.className="toast__title",a=document.createElement("span"),a.className="toast__value",s.appendChild(i),s.appendChild(a),e.appendChild(t),e.appendChild(s),document.body.appendChild(e),e.addEventListener("touchstart",v,{passive:!0}),e.addEventListener("touchmove",b,{passive:!1}),e.addEventListener("touchend",j,{passive:!0}),e.addEventListener("touchcancel",m,{passive:!0}),e)}function _(n){if(!t)return;if(t.innerHTML="",!n){t.style.display="none",e.classList.add("toast--no-icon");return}t.style.display="",e.classList.remove("toast--no-icon");var o,a=p(),i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg");s.setAttribute("aria-hidden","true"),o=document.createElementNS(i,"use"),o.setAttribute("href",a+"#"+n),s.appendChild(o),t.appendChild(s)}function f(e,t,n){var o=n&&n.duration||C,r=n&&n.icon||"",s=y();clearTimeout(l),s.classList.remove("toast--hiding","toast--visible"),i.textContent=e||"",a.textContent=t||"",_(r),void s.offsetWidth,s.classList.add("toast--visible"),l=setTimeout(function(){h()},o)}function h(){if(!e)return;clearTimeout(l),e.classList.remove("toast--visible"),e.classList.add("toast--hiding");var t=function(){e.classList.remove("toast--hiding")};e.addEventListener("animationend",t,{once:!0}),setTimeout(t,400)}function x(e,t,n){try{localStorage.setItem(u,JSON.stringify({title:e||"",value:t||"",icon:n||""}))}catch{}}function d(){try{t=localStorage.getItem(u),t&&localStorage.removeItem(u)}catch{return}if(t)try{var t,o,e=JSON.parse(t),n=e.title||"",s=e.icon||"";e.category&&(o=document.querySelector('[data-toast-category="'+e.category+'"]'),o&&(n=o.getAttribute("data-toast-label")||n,s=o.getAttribute("data-toast-icon")||s)),setTimeout(function(){f(n,e.value,{icon:s})},300)}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("pageshow",function(e){e.persisted&&d()}),window.Toast={show:f,hide:h,queue:x}}(),function(){"use strict";function t(e){return"var(--"+e+")"}function e(e,n){return t(e+"-"+n)}function s(e,n){if(!e)return"";if(e.indexOf(".")>-1){var o=e.split("."),s=o[0],i=o[1];if(n[s]&&n[s][i])return n[s][i]}return t(e)}function n(n){var o,h,m,r=n&&n.roles||{},l=n&&n.policies||{},d=n&&n.component_overrides||{},c=l.tone_mode||"mono",f=l.surface_profile||"standard",u=l.form_policy||"neutral",a={text:r.text||"gray",surface:r.surface||"gray",border:r.border||r.surface||"gray",primary:r.primary||"gray",secondary:c==="duo"?r.secondary||r.primary||"gray":r.primary||"gray"},i={text:{default:e(a.text,12),inverse:t("gray-1"),link:"",link_hover:"",accent:""},surface:{page:e(a.surface,1),surface:e(a.surface,2),tag:e(a.surface,3),tag_hover:e(a.surface,4),border_subtle:"",ink_strong:e(a.surface,11)},border:{subtle:"",default:e(a.border,6),strong:e(a.border,8)},primary:{base:e(a.primary,9),strong:e(a.primary,11),hover:e(a.primary,12),on:t("white")},secondary:{base:e(a.secondary,4),strong:e(a.secondary,8)},action:{base:"",on:""}};return i.text.link=i.primary.strong,i.text.link_hover=i.primary.hover,i.text.accent=i.primary.strong,i.surface.border_subtle=t("gray-4"),i.border.subtle=i.surface.border_subtle,i.action.base=i.text.default,i.action.on=i.surface.page,c==="duo"&&(i.action.base=i.primary.base,i.action.on=i.primary.on),f==="deep"&&(i.surface.page=e(a.surface,2),i.surface.surface=e(a.surface,4),i.surface.tag=e(a.surface,4),i.surface.tag_hover=e(a.surface,5),i.surface.border_subtle=e(a.surface,5),i.border.subtle=i.surface.border_subtle),o={},o["--primary"]=i.primary.base,o["--primary-strong"]=i.primary.strong,o["--on-primary"]=i.primary.on,o["--action"]=i.action.base,o["--on-action"]=i.action.on,o["--secondary"]=i.secondary.base,o["--secondary-strong"]=i.secondary.strong,o["--on-secondary"]=i.text.default,o["--accent-primary"]=o["--primary"],o["--accent-primary-strong"]=o["--primary-strong"],o["--accent-secondary"]=o["--secondary"],o["--accent-secondary-strong"]=o["--secondary-strong"],o["--text-accent"]=i.text.accent,o["--text-default"]=i.text.default,o["--text-tag"]=i.surface.ink_strong,o["--surface-ink-strong"]=i.surface.ink_strong,o["--text-muted"]="color-mix(in oklch, var(--gray-11) 60%, var(--surface-ink-strong))",o["--text-link"]=i.text.link,o["--text-link-hover"]=i.text.link_hover,o["--text-inverse"]=i.text.inverse,o["--surface-page"]=i.surface.page,o["--surface-default"]=i.surface.surface,o["--surface-tag"]=i.surface.tag,o["--surface-tag-hover"]=i.surface.tag_hover,o["--bg-page"]=o["--surface-page"],o["--bg-surface"]=o["--surface-default"],o["--bg-tag"]=o["--surface-tag"],o["--bg-tag-hover"]=o["--surface-tag-hover"],o["--border-subtle"]=i.border.subtle,o["--border-default"]=i.border.default,o["--border-strong"]=i.border.strong,o["--state-focus"]=i.primary.base,o["--state-selected"]=i.text.accent,o["--component-toc-active-indicator"]=c==="duo"?i.secondary.strong:i.primary.base,o["--component-section-headline-bg"]=c==="duo"?i.secondary.strong:i.primary.base,h=d.nav_cta_bg_source||"primary.base",m=d.nav_cta_text_source||"primary.on",o["--component-nav-cta-bg"]=s(h,i),o["--component-nav-cta-text"]=s(m,i),o["--component-form-bg"]=u==="surface-derived"?e(a.surface,3):t("gray-2"),o["--component-form-placeholder"]=u==="surface-derived"?o["--text-muted"]:t("gray-10"),o["--component-newsletter-bg"]=e(a.surface,12),o["--component-newsletter-text"]=e(a.surface,2),o["--component-newsletter-illustration-bg"]=e(a.surface,3),o["--component-newsletter-button-bg"]=e(a.surface,4),o["--component-newsletter-button-text"]=e(a.primary,11),o}function o(e){var t=n(e);return{"--surface-ink-strong":t["--surface-ink-strong"],"--surface-page":t["--surface-page"],"--surface-default":t["--surface-default"],"--surface-tag":t["--surface-tag"],"--surface-tag-hover":t["--surface-tag-hover"],"--text-tag":t["--text-tag"],"--text-muted":t["--text-muted"],"--action":t["--action"],"--on-action":t["--on-action"],"--component-toc-active-indicator":t["--component-toc-active-indicator"],"--component-section-headline-bg":t["--component-section-headline-bg"],"--component-nav-cta-bg":t["--component-nav-cta-bg"],"--component-nav-cta-text":t["--component-nav-cta-text"],"--component-form-placeholder":t["--component-form-placeholder"]}}function i(e){var t=e&&e.roles||{},n=e&&e.policies||{},s=e&&e.mode||"light",o=n.image_treatment||"none",i=t.surface||"gray",a=s==="dark";return o==="pantone-blend"?{"--image-grayscale":"100%","--image-blend-mode":"screen","--image-background":"var(--"+i+"-"+(a?"7":"12")+")"}:{"--image-grayscale":"0%","--image-blend-mode":"normal","--image-background":"transparent"}}function a(e){var a=e&&e.roles||{},s=e&&e.policies||{},o=s.tone_mode||"mono",t=n(e||{}),i=t["--primary-strong"]||t["--primary"]||"var(--gray-11)",r=t["--surface-page"]||t["--bg-page"]||"var(--gray-2)",c=t["--secondary-strong"]||t["--secondary"]||i;return{primary:i,surface:r,secondary:c,toneMode:o,seg1:"1",seg2:"1",seg3:o==="duo"?"1":"0",roles:a,policies:s}}window.ThemeDerive={derivePaletteTokens:n,deriveRuntimeTokens:o,deriveImageTokens:i,derivePreview:a}}(),function(){"use strict";var F="theme-coty-year",ae=["--secondary","--secondary-strong","--accent-secondary","--accent-secondary-strong","--component-toc-active-indicator","--component-section-headline-bg"],_=[98,96,92,84.95,81,73,64,55,44,32,21,10],y=[12,14,18,24,31,39,48,58,68,78,86,93],oe=9,e=[],ee=["--coty-role-mode","--coty-role-anchor-step","--coty-role-primary","--coty-role-primary-strong","--coty-role-surface","--coty-role-surface-strong","--coty-role-border-subtle","--coty-role-border-default","--coty-role-border-strong","--coty-role-on-primary","--coty-source-step","--coty-secondary-source-step","--border-subtle","--border-default","--border-strong","--primary","--primary-strong","--on-primary","--action","--on-action","--component-nav-cta-bg","--component-nav-cta-text","--on-secondary","--accent-primary","--accent-primary-strong","--secondary","--secondary-strong","--image-grayscale","--image-blend-mode","--image-background","--accent-secondary","--accent-secondary-strong","--component-toc-active-indicator","--component-section-headline-bg"];function k(){return(document.documentElement.getAttribute("data-palette")||"standard")==="pantone"}function t(e,t,n){return Math.max(t,Math.min(n,e))}function v(e){return Math.round(e*1e3)/1e3}function a(e){var t=e%360;return t<0?t+360:t}function G(e,t){for(var s,o=0,i=1/0,n=0;n<e.length;n+=1)s=Math.abs(e[n]-t),s<i&&(i=s,o=n);return o+1}function m(e){if(!e)return"";var t=String(e).trim().replace("#","");return t.length===3&&(t=t.split("").map(function(e){return e+e}).join("")),/^[0-9a-fA-F]{6}$/.test(t)?"#"+t.toUpperCase():""}function Q(e){var t=i(e);return t?{r:t.r/255,g:t.g/255,b:t.b/255}:null}function o(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function H(e){var n,s,i,t=Q(e);return t?(n=o(t.r),s=o(t.g),i=o(t.b),.2126*n+.7152*s+.0722*i):0}function g(e,t){var n=H(e),s=H(t),o=Math.max(n,s),i=Math.min(n,s);return(o+.05)/(i+.05)}function i(e){var t,n=m(e);return n?(t=n.slice(1),{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}):null}function b(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function r(e){var i=o(e.r/255),n=o(e.g/255),s=o(e.b/255),u=.4122214708*i+.5363325363*n+.0514459929*s,p=.2119034982*i+.6806995451*n+.1073969566*s,m=.0883024619*i+.2817188376*n+.6299787005*s,c=Math.cbrt(u),l=Math.cbrt(p),d=Math.cbrt(m),h=.2104542553*c+.793617785*l-.0040720468*d,t=1.9779984951*c-2.428592205*l+.4505937099*d,r=.0259040371*c+.7827717662*l-.808675766*d,f=Math.sqrt(t*t+r*r),a=Math.atan2(r,t)*(180/Math.PI);return a<0&&(a+=360),{l:h,c:f,h:a}}function X(e,n,s){var h=s*(Math.PI/180),o=n*Math.cos(h),i=n*Math.sin(h),a=e+.3963377774*o+.2158037573*i,r=e-.1055613458*o-.0638541728*i,c=e-.0894841775*o-1.291485548*i,l=a*a*a,d=r*r*r,u=c*c*c,m=4.0767416621*l-3.3077115913*d+.2309699292*u,f=-1.2684380046*l+2.6097574011*d-.3413193965*u,p=-.0041960863*l-.7034186147*d+1.707614701*u;return{r:t(b(m),0,1),g:t(b(f),0,1),b:t(b(p),0,1)}}function $(e,t,n){var u=n*(Math.PI/180),s=t*Math.cos(u),o=t*Math.sin(u),i=e+.3963377774*s+.2158037573*o,a=e-.1055613458*s-.0638541728*o,r=e-.0894841775*s-1.291485548*o,c=i*i*i,l=a*a*a,d=r*r*r;return{r:4.0767416621*c-3.3077115913*l+.2309699292*d,g:-1.2684380046*c+2.6097574011*l-.3413193965*d,b:-.0041960863*c-.7034186147*l+1.707614701*d}}function S(e,t,n){var s=$(e,t,n);return s.r>=0&&s.r<=1&&s.g>=0&&s.g<=1&&s.b>=0&&s.b<=1}function d(e,t,n){if(S(e,t,n))return t;for(var s,o=0,i=t,a=0;a<14;a+=1)s=(o+i)*.5,S(e,s,n)?o=s:i=s;return o}function J(e,t,n){var s=X(e,t,n),o=Math.round(s.r*255),i=Math.round(s.g*255),a=Math.round(s.b*255),r=((1<<24)+(o<<16)+(i<<8)+a).toString(16).slice(1).toUpperCase();return"#"+r}function h(e,t,n){return"oklch("+v(e*100)+"% "+v(t)+" "+v(n)+")"}function W(e){var t=String(e||"").match(/oklch\(\s*([0-9.]+)%\s+([0-9.]+)\s+([0-9.]+)\s*\)/i);return t?{l:Number(t[1])/100,c:Number(t[2]),h:Number(t[3])}:null}function x(e){var t,n=String(e||"").trim();return n?n.indexOf("#")===0?m(n)||"":(t=W(n),t?J(t.l,t.c,t.h):""):""}function I(e){var t=String(e||"").trim().match(/^var\(\s*(--[A-Za-z0-9-_]+)(?:\s*,\s*(.+))?\)$/);return t?{name:t[1],fallback:t[2]?String(t[2]).trim():""}:null}function w(e,t){var n,s,i,a,o=typeof t=="number"?t:0;return o>8?String(e||"").trim():(s=String(e||"").trim(),s?(n=I(s),n?(a=getComputedStyle(document.documentElement),i=a.getPropertyValue(n.name).trim(),i?w(i,o+1):n.fallback?w(n.fallback,o+1):""):s):"")}function Z(){var e,t=document.querySelector('[data-js="coty-data-json"]');if(!t)return null;try{return e=JSON.parse(t.textContent||"{}"),typeof e=="string"&&(e=JSON.parse(e)),!e||typeof e!="object"?null:Array.isArray(e.colors)?e:null}catch{return null}}function K(e){var t={};return e.forEach(function(e){var n=Number(e.year),s=m(e.hex);if(!n||!s)return;t[n]||(t[n]=[]),t[n].push({name:String(e.name||n),hex:s,role_mode:String(e.role_mode||""),anchor_step:Number(e.anchor_step||0),overrides:e.overrides&&typeof e.overrides=="object"?e.overrides:{},overrides_light:e.overrides_light&&typeof e.overrides_light=="object"?e.overrides_light:{},overrides_dark:e.overrides_dark&&typeof e.overrides_dark=="object"?e.overrides_dark:{}})}),Object.keys(t).map(function(e){var s,o,a=Number(e),i=t[a]||[];return i.length?(o=i[0],s=i[1]||null,{year:a,name:s?o.name+" + "+s.name:o.name,primary_name:o.name,primary_hex:o.hex,secondary_name:s?s.name:"",secondary_hex:s?s.hex:"",secondary_role_mode:s?s.role_mode||"":"",secondary_anchor_step:s?s.anchor_step||0:0,tone_mode:s?"duo":"mono",role_mode:o.role_mode||"",anchor_step:o.anchor_step||0,overrides:n(o.overrides||{}),overrides_light:n(o.overrides_light||{}),overrides_dark:n(o.overrides_dark||{}),hex:o.hex}):null}).filter(Boolean).sort(function(e,t){return t.year-e.year})}function n(e){var t={};return!e||typeof e!="object"?t:(Object.keys(e).forEach(function(n){var s=e[n];if(typeof s=="undefined"||s===null||s==="")return;t[String(n)]=String(s)}),t)}function l(e,t,n){var o,i,s=Number(e.anchor_step||0);return s>=1&&s<=12?s:(o=Number(n||0),i=t==="dark"?y:_,G(i,o)||oe)}function D(e,n,s){for(var i=new Array(12),r=Math.max(0,Math.min(11,n-1)),c=t(s,0,100),l=(e==="dark"?y:_).slice(),d=c-l[r],a=e==="dark"?4:3,u=t(d,-a,a),h=Math.abs(d)<=a,m=e==="dark"?4:2,f=e==="dark"?98:99,o=0;o<12;o+=1)i[o]=t(l[o]+u,m,f);return h&&(i[r]=c),i}function N(e,n,s){var o=Math.max(0,Math.min(11,n-1)),i=e==="dark"?y:_,a=t(s,0,100),r=Math.abs(a-i[o]),c=e==="dark"?4:3;return r<=c}function L(e,t){if(t<.018)return"low";var n=a(e);return n>=330||n<=95?"warm":n>=170&&n<=300?"cool":"neutral"}function R(e,t,n){if(n==="low")return 0;var o,i,s=0;return e>t?(o=t===11?0:(e-t)/(11-t),n==="warm"&&(s=-5*Math.pow(o,.8)),n==="cool"&&(s=2.5*Math.pow(o,.85)),n==="neutral"&&(s=-1.2*Math.pow(o,.9))):e<t&&(i=t===0?0:(t-e)/t,n==="warm"&&(s=1.5*Math.pow(i,.7)),n==="cool"&&(s=-1*Math.pow(i,.7)),n==="neutral"&&(s=.5*Math.pow(i,.8))),s}function P(e,n,s,o,i){for(var r,l,d,h,u=new Array(12),_=e[0],y=e[11],c=t(s,0,.32),m={low:.08,neutral:.22,cool:.3,warm:.36},j={low:.7,neutral:.84,cool:.88,warm:.9},b={low:.2,neutral:.42,cool:.46,warm:.5},v=m[i]+t((o-62)/26,0,1)*.28,f=j[i],p=b[i],g=i==="low"?Math.max(.0015,c*.35):Math.max(.004,c*.06),a=0;a<12;a+=1){if(a===n){u[a]=c;continue}l=e[a],r=1,l>o?(h=t((l-o)/Math.max(1,_-o),0,1),r=1-f*Math.pow(h,.7)):(d=t((o-l)/Math.max(1,o-y),0,1),r=1+v*Math.sin(Math.PI*Math.min(d,.78)),r*=1-p*Math.pow(d,2.1)),u[a]=t(c*r,g,.28)}return u}function u(e,n){var s,o,c,u,m,f,p,g,v,b,j,y,_,O,w=i(e.primary_hex||e.hex);if(!w)return null;for(s=r(w),u=a(s.h),p=s.c,m=s.l*100,b=L(u,p),c=l(e,n,m),g=Math.max(0,Math.min(11,c-1)),v=D(n,c,m),_=P(v,g,p,m,b),f={},o=0;o<12;o+=1)j=t(v[o]/100,0,1),y=a(u+R(o,g,b)),O=d(j,_[o],y),f["--coty-"+(o+1)]=h(j,O,y);return N(n,c,m)&&(f["--coty-"+c]=h(s.l,d(s.l,s.c,u),u)),f}function f(e,n){if(!e.secondary_hex)return null;var s,o,c,u,m,f,p,g,v,b,j,y,_,w,x,O=i(e.secondary_hex);if(!O)return null;for(o=r(O),m=a(o.h),v=o.c,c=o.l*100,b=L(m,v),_={anchor_step:e.secondary_anchor_step||0},u=l(_,n,c),g=Math.max(0,Math.min(11,u-1)),p=D(n,u,c),w=P(p,g,v,c,b),f={},s=0;s<12;s+=1)j=t(p[s]/100,0,1),y=a(m+R(s,g,b)),x=d(j,w[s],y),f["--coty-secondary-"+(s+1)]=h(j,x,y);return N(n,u,c)&&(f["--coty-secondary-"+u]=h(o.l,d(o.l,o.c,m),m)),f}function z(e,t,n){var u,h,m,s=Number(e.anchor_step||0),c=e.primary_hex||e.hex,d=i(c),f=d?r(d):{l:0},a=String(e.role_mode||"").toLowerCase(),p=a==="primary"||a==="surface",o=!1;return(!s||s<1||s>12)&&(s=l(e,n==="dark"?"dark":"light",f.l*100)),a==="primary"?o=!0:a==="surface"?o=!1:(a="auto",o=g(c,"#FFFFFF")>=4.5),u=t["--coty-9"]||t["--coty-"+s],h=t["--coty-"+s]||t["--coty-4"],m=t["--coty-"+Math.min(s+1,12)]||t["--coty-5"],{mode:o?"primary":"surface",requestedMode:a,manualMode:p,anchor:s,primary:o?c:u,primaryStrong:t["--coty-11"],surface:o?t["--coty-4"]:h,surfaceStrong:o?t["--coty-5"]:m}}function V(e,t){if(!e||!e.secondary_hex)return 0;var s,o,n=Number(e.secondary_anchor_step||0);return n>=1&&n<=12?n:(s=i(e.secondary_hex),s?(o=r(s),l({anchor_step:0},t,o.l*100)):0)}function T(){ae.forEach(function(e){document.documentElement.style.removeProperty(e)})}function E(){e.forEach(function(e){document.documentElement.style.removeProperty(e)}),e=[]}function U(){E(),T();for(var e=1;e<=12;e+=1)document.documentElement.style.removeProperty("--coty-"+e),document.documentElement.style.removeProperty("--coty-secondary-"+e);ee.forEach(function(e){document.documentElement.style.removeProperty(e)})}function C(e,t){if(!e)return;document.documentElement.style.setProperty("--palette-coty-bg",e["--coty-2"]),document.documentElement.style.setProperty("--palette-coty-accent",e["--coty-11"]),document.documentElement.style.setProperty("--palette-coty-primary",e["--coty-11"]),document.documentElement.style.setProperty("--palette-coty-surface",e["--coty-2"]),document.documentElement.style.setProperty("--palette-coty-secondary",t?t["--coty-secondary-8"]:e["--coty-8"]),document.documentElement.style.setProperty("--palette-coty-seg1","1"),document.documentElement.style.setProperty("--palette-coty-seg2","1"),document.documentElement.style.setProperty("--palette-coty-seg3",t?"1":"0"),document.documentElement.style.setProperty("--palette-pantone-bg",e["--coty-2"]),document.documentElement.style.setProperty("--palette-pantone-accent",e["--coty-11"]),document.documentElement.style.setProperty("--palette-pantone-primary",e["--coty-11"]),document.documentElement.style.setProperty("--palette-pantone-surface",e["--coty-2"]),document.documentElement.style.setProperty("--palette-pantone-secondary",t?t["--coty-secondary-8"]:e["--coty-8"]),document.documentElement.style.setProperty("--palette-pantone-seg1","1"),document.documentElement.style.setProperty("--palette-pantone-seg2","1"),document.documentElement.style.setProperty("--palette-pantone-seg3",t?"1":"0")}function M(e,t){var o,i,a,n=typeof t=="object"&&t?t:s(t);return n?(o=e==="dark"?"dark":"light",i=u(n,o),a=f(n,o),C(i,a),n):null}function B(e){return e?e.indexOf("--")===0?e:"--"+String(e).replace(/_/g,"-"):""}function p(e){if(typeof e!="string")return String(e);var t=e.trim();return t?t.indexOf("var(")===0?t:t.indexOf("--")===0?"var("+t+")":/^coty(-secondary)?-\d+$/.test(t)?"var(--"+t+")":t.indexOf("#")===0?t:(t.indexOf("hsl(")===0||t.indexOf("oklch(")===0||t.indexOf("rgb(")===0,t):""}function A(e,t){if(!e||!Array.isArray(t))return void 0;for(var s,n=0;n<t.length;n+=1)if(s=t[n],Object.prototype.hasOwnProperty.call(e,s))return e[s]}function Y(t){E();var g=(document.documentElement.getAttribute("data-mode")||"light")==="dark"?"dark":"light",j=n(t&&t.overrides),b=n(g==="dark"?t&&t.overrides_dark:t&&t.overrides_light),s=Object.assign({},j,b),i=Boolean(s["--primary"]||s.primary),o=Boolean(s["--primary-strong"]||s.primary_strong||s["primary-strong"]),v=Boolean(s["--on-primary"]||s.on_primary||s["on-primary"]),d=Boolean(s["--brand-primary"]||s.brand_primary||s["brand-primary"]),f=Boolean(s["--brand-on-primary"]||s.brand_on_primary||s["brand-on-primary"]),h=Boolean(s["--accent-primary"]||s.accent_primary||s["accent-primary"]),m=Boolean(s["--text-accent"]||s.text_accent||s["text-accent"]),u=Boolean(s["--secondary"]||s.secondary),r=Boolean(s["--secondary-strong"]||s.secondary_strong||s["secondary-strong"]),l=Boolean(s["--accent-secondary"]||s.accent_secondary||s["accent-secondary"]),c=Boolean(s["--accent-secondary-strong"]||s.accent_secondary_strong||s["accent-secondary-strong"]),a=Boolean(s["--accent-primary-strong"]||s.accent_primary_strong||s["accent-primary-strong"]),y=p(A(s,["--brand-primary","brand_primary","brand-primary"])),_=p(A(s,["--brand-on-primary","brand_on_primary","brand-on-primary"]));Object.keys(s).forEach(function(t){var n=B(t),o=p(s[t]);if(!n||!o)return;if(n==="--image-background"||n==="--image-blend-mode"||n==="--image-grayscale")return;document.documentElement.style.setProperty(n,o),e.push(n)}),h&&!d&&!i&&(document.documentElement.style.setProperty("--primary","var(--accent-primary)"),e.push("--primary")),d&&!i&&(document.documentElement.style.setProperty("--primary",y||"var(--primary)"),e.push("--primary")),i&&!h&&(document.documentElement.style.setProperty("--accent-primary","var(--primary)"),e.push("--accent-primary")),f&&!v&&(document.documentElement.style.setProperty("--on-primary",_||"var(--on-primary)"),e.push("--on-primary")),o&&!a&&(document.documentElement.style.setProperty("--accent-primary-strong","var(--primary-strong)"),e.push("--accent-primary-strong")),a&&!o&&(document.documentElement.style.setProperty("--primary-strong","var(--accent-primary-strong)"),e.push("--primary-strong")),(o||a)&&!m&&(document.documentElement.style.setProperty("--text-accent",o?"var(--primary-strong)":"var(--accent-primary-strong)"),e.push("--text-accent")),l&&!u&&(document.documentElement.style.setProperty("--secondary","var(--accent-secondary)"),e.push("--secondary")),u&&!l&&(document.documentElement.style.setProperty("--accent-secondary","var(--secondary)"),e.push("--accent-secondary")),c&&!r&&(document.documentElement.style.setProperty("--secondary-strong","var(--accent-secondary-strong)"),e.push("--secondary-strong")),r&&!c&&(document.documentElement.style.setProperty("--accent-secondary-strong","var(--secondary-strong)"),e.push("--accent-secondary-strong"))}function q(e,t){if(!e)return null;if(!t||typeof t!="object")return e;var o,a,r,c,l,d,u,h,s=Object.assign({},e),i=String(t.role_mode||"").toLowerCase();return i==="primary"||i==="surface"?s.role_mode=i:(i==="auto"||i==="")&&(s.role_mode=""),a=Number(t.anchor_step||0),a>=1&&a<=12?s.anchor_step=a:(t.anchor_step===""||a===0)&&(s.anchor_step=0),c=n(e.overrides||{}),l=n(e.overrides_light||{}),d=n(e.overrides_dark||{}),o=n(t.overrides||{}),u=n(t.overrides_light||{}),h=n(t.overrides_dark||{}),r=String(t.mode||"").toLowerCase(),s.overrides=Object.assign({},c,o),s.overrides_light=Object.assign({},l,u),s.overrides_dark=Object.assign({},d,h),r==="dark"&&Object.keys(o).length?s.overrides_dark=Object.assign({},s.overrides_dark,o):r==="light"&&Object.keys(o).length&&(s.overrides_light=Object.assign({},s.overrides_light,o)),s}function c(){var e=Z(),t=e?K(e.colors):[],n=e&&Number(e.meta&&e.meta.default_year)?Number(e.meta.default_year):t[0]?t[0].year:2026;return{entries:t,defaultYear:n}}function s(e){var t=c(),n=Number(e),s=t.entries.find(function(e){return e.year===n});return s||t.entries.find(function(e){return e.year===t.defaultYear})||null}function te(e,t){var o,n=typeof e=="object"&&e?e:s(e);return n?(o=t==="dark"?"dark":"light",u(n,o)):null}function ne(e,t){var o,n=typeof e=="object"&&e?e:s(e);return n?(o=t==="dark"?"dark":"light",f(n,o)):null}function se(e,t){var o,i,n=typeof e=="object"&&e?e:s(e);return n?(o=t==="dark"?"dark":"light",i=u(n,o),i?z(n,i,o):null):null}function j(e,t){var n,o,i,r,c,l,d,h,m,p,v,b,j,y,_,a=typeof t=="object"&&t?t:s(t);if(!a)return null;if(r=e==="dark"?"dark":"light",i=u(a,r),o=f(a,r),!i)return null;if(n=z(a,i,r),Object.keys(i).forEach(function(e){document.documentElement.style.setProperty(e,i[e])}),o)Object.keys(o).forEach(function(e){document.documentElement.style.setProperty(e,o[e])});else for(l=1;l<=12;l+=1)document.documentElement.style.removeProperty("--coty-secondary-"+l);return document.documentElement.setAttribute("data-coty-year",String(a.year)),C(i,o),document.documentElement.style.setProperty("--coty-role-mode",n.mode),document.documentElement.style.setProperty("--coty-role-anchor-step",String(n.anchor)),document.documentElement.style.setProperty("--coty-role-primary",n.primary),document.documentElement.style.setProperty("--coty-role-primary-strong",n.primaryStrong),document.documentElement.style.setProperty("--primary",n.primary),document.documentElement.style.setProperty("--primary-strong",n.primaryStrong),document.documentElement.style.setProperty("--coty-role-surface",n.surface),document.documentElement.style.setProperty("--coty-role-surface-strong",n.surfaceStrong),document.documentElement.style.setProperty("--coty-role-border-subtle",i["--coty-5"]||n.surfaceStrong),document.documentElement.style.setProperty("--coty-role-border-default",i["--coty-6"]||n.surfaceStrong),document.documentElement.style.setProperty("--coty-role-border-strong",i["--coty-8"]||n.primaryStrong),document.documentElement.style.setProperty("--border-subtle","var(--coty-role-border-subtle)"),document.documentElement.style.setProperty("--border-default","var(--coty-role-border-default)"),document.documentElement.style.setProperty("--border-strong","var(--coty-role-border-strong)"),document.documentElement.style.setProperty("--coty-source-step",String(n.anchor)),d=x(w(n.primary)),v=x(i["--coty-1"]),m=x(i["--coty-12"]),c="--coty-1",d&&v&&m&&(b=g(d,v),j=g(d,m),c=b>=j?"--coty-1":"--coty-12"),document.documentElement.style.setProperty("--coty-role-on-primary","var("+c+")"),document.documentElement.style.setProperty("--on-primary","var("+c+")"),o?(document.documentElement.style.setProperty("--action",n.primary),document.documentElement.style.setProperty("--on-action","var("+c+")")):(document.documentElement.style.setProperty("--action","var(--text-default)"),document.documentElement.style.setProperty("--on-action","var(--surface-page)")),document.documentElement.style.setProperty("--component-nav-cta-bg","var(--primary)"),document.documentElement.style.setProperty("--component-nav-cta-text","var(--on-primary)"),p=V(a,r),p?document.documentElement.style.setProperty("--coty-secondary-source-step",String(p)):document.documentElement.style.removeProperty("--coty-secondary-source-step"),document.documentElement.style.setProperty("--image-grayscale","100%"),document.documentElement.style.setProperty("--image-blend-mode","screen"),h=r==="dark"?5:9,o?(y="var(--coty-"+String(h)+")",_="var(--coty-secondary-"+String(h)+")",document.documentElement.style.setProperty("--image-background","linear-gradient(135deg, "+y+", "+_+")")):document.documentElement.style.setProperty("--image-background","var(--coty-"+String(h)+")"),o?(document.documentElement.style.setProperty("--secondary",o["--coty-secondary-4"]),document.documentElement.style.setProperty("--secondary-strong",o["--coty-secondary-8"]),document.documentElement.style.setProperty("--on-secondary","var(--coty-12)"),document.documentElement.style.setProperty("--component-toc-active-indicator",o["--coty-secondary-8"]),document.documentElement.style.setProperty("--component-section-headline-bg",o["--coty-secondary-8"])):(document.documentElement.style.removeProperty("--on-secondary"),T()),Y(a),a}function ie(){var e=Number(localStorage.getItem(F));return e||null}function O(){var e,t=Number(document.documentElement.getAttribute("data-coty-year"));return t||(e=ie(),e||c().defaultYear)}function re(e,t){var i,a,o=t||{},r=s(e),n=q(r,o.entryOverride);if(!n)return null;if(!o.skipStorage)try{localStorage.setItem(F,String(n.year))}catch{}return document.documentElement.setAttribute("data-coty-year",String(n.year)),i=(document.documentElement.getAttribute("data-mode")||o.mode||"light")==="dark"?"dark":"light",M(i,n),!o.forceApply&&!k()?n:(a=o.mode||document.documentElement.getAttribute("data-mode")||"light",j(a,n))}function ce(){var t,e=O();if(document.documentElement.setAttribute("data-coty-year",String(e)),!k())return;t=document.documentElement.getAttribute("data-mode")||"light",j(t,e)}window.CotyScaleActions={init:ce,setYear:re,clearRuntime:U,getCurrentYear:O,getEntry:s,getScaleForEntry:te,getSecondaryScaleForEntry:ne,getResolvedRolesForEntry:se,applyPreviewForMode:M,getEntries:function(){return c().entries},getDefaultYear:function(){return c().defaultYear},applyForMode:function(e){return j(e,O())}}}(),function(){"use strict";let s,e,t,y,v,h,i,d;const ee="theme-custom-palette",b="theme-coty-year";let a=[];function K(){const e=document.documentElement.getAttribute("data-grid-overlay");return e!==null&&e!=="closing"}function V(e){return!!e&&!e.hasAttribute("hidden")&&!!window.matchMedia("(min-width: 30em)").matches&&K()}function L(e){if(!e||e.__portalPlaceholder)return;const t=document.createComment("dropdown-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function I(e,t){if(!e||!t)return;const i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.width,a=window.innerWidth,n=8;let s=i.right-o;s<n&&(s=n),s+o>a-n&&(s=a-o-n),e.style.top=`${i.bottom+8}px`,e.style.left=`${Math.max(s,n)}px`,e.style.width=`${o}px`,e.style.right="auto",e.style.bottom="auto"}function B(e,t){if(!e)return;L(e),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal"),e.style.position="fixed",I(e,t)}function $(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function l(){if(!e)return;if(V(e)){B(e,s);return}$(e)}function R(e){if(!e)return;if(!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function q(o){o&&o.stopPropagation();const i=e.hasAttribute("hidden");i?(Q(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),s.setAttribute("aria-expanded","true"),l()):n()}function n(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),s.setAttribute("aria-expanded","false"),l())}function Q(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"),R(e))}function r(){const e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-toggle"]'),n=document.querySelector('[data-js="settings-overlay"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function O(e){localStorage.setItem("theme-mode",e),x(e),D(e),n(),r();var t=document.querySelector('[data-js="footer-mode"]'),s=t?t.getAttribute("data-category"):"",o=t?t.getAttribute("data-label-"+e)||e:e,i=t?t.getAttribute("data-toast-icon"):"";window.Toast&&window.Toast.show(s,o,{icon:i})}function x(e){var n=e;if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-mode",e)}else document.documentElement.setAttribute("data-mode",e);Y(e),G(),X(e);const t=window.CotyScaleActions||null;t&&typeof t.applyPreviewForMode=="function"&&t.applyPreviewForMode(document.documentElement.getAttribute("data-mode")||e,j()),t&&typeof t.applyForMode=="function"&&(document.documentElement.getAttribute("data-palette")||"standard")==="pantone"&&t.applyForMode(document.documentElement.getAttribute("data-mode")||e),(document.documentElement.getAttribute("data-palette")||"standard")==="custom"&&f(),window.dispatchEvent(new window.CustomEvent("theme:mode-changed",{detail:{requestedMode:n,mode:document.documentElement.getAttribute("data-mode")||"light"}}))}function D(e){v.forEach(t=>{const n=t.getAttribute("data-mode");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function _(e){if(e==="custom"&&!z())return;localStorage.setItem("theme-palette",e),C(e),m(e),window.dispatchEvent(new window.CustomEvent("theme:palette-changed",{detail:{palette:e}})),n(),r();var t=document.querySelector('[data-js="footer-palette"]'),o=t?t.getAttribute("data-category"):"",s=t?t.getAttribute("data-label-"+e)||e:e,s=M(s,e),i=t?t.getAttribute("data-toast-icon"):"";window.Toast&&window.Toast.show(o,s,{icon:i})}function C(e){e==="custom"?f()||(p(),e="standard",localStorage.setItem("theme-palette",e)):p(),document.documentElement.setAttribute("data-palette",e);const t=c();t&&(e==="pantone"?typeof t.applyForMode=="function"&&t.applyForMode(document.documentElement.getAttribute("data-mode")||"light"):typeof t.clearRuntime=="function"&&t.clearRuntime()),A(e)}function c(){return window.CotyScaleActions||null}function j(){const e=c();if(e&&typeof e.getCurrentYear=="function")return e.getCurrentYear();const t=Number(document.documentElement.getAttribute("data-coty-year"));if(t)return t;const n=Number(localStorage.getItem(b));return n||2026}function M(e,t){if(t!=="pantone")return e;const n=j();return e+" ("+n+")"}function m(e){h.forEach(t=>{const n=t.getAttribute("data-palette");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function g(){try{const t=localStorage.getItem(ee);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e.version>=2?!e.roles||typeof e.roles!="object"?null:e:!e.tokens||typeof e.tokens!="object"?null:e}catch{return null}}function z(){return Boolean(g())}function p(){a.forEach(e=>{document.documentElement.style.removeProperty(e)}),a=[]}function o(e,t){document.documentElement.style.setProperty(e,t),a.indexOf(e)===-1&&a.push(e)}function H(e){var n,s,t=window.ThemeDerive&&window.ThemeDerive.deriveImageTokens;if(typeof t=="function"){n=document.documentElement.getAttribute("data-mode")||"light",s=t({roles:e.roles||{},policies:e.policies||{},mode:n}),Object.entries(s).forEach(function(e){o(e[0],e[1])});return}o("--image-grayscale","0%"),o("--image-blend-mode","normal"),o("--image-background","transparent")}function U(e){var n,t=window.ThemeDerive&&window.ThemeDerive.deriveRuntimeTokens;if(typeof t!="function")return;n=t({roles:e.roles||{},policies:e.policies||{}}),Object.entries(n).forEach(function(e){var t=e[0],n=e[1];o(t,n)})}function P(e){return e?e.indexOf("--")===0?e:"--"+e.replace(/_/g,"-"):""}function k(e){var t=window.ThemeDerive&&window.ThemeDerive.derivePaletteTokens;return typeof t!="function"?null:!e||!e.roles?null:t({roles:e.roles,policies:e.policies||{},component_overrides:e.component_overrides||{}})}function N(e){var n,s,i,r,c,l,o=e.preview||{},a=window.ThemeDerive&&window.ThemeDerive.derivePreview,t=null;return typeof a=="function"&&e&&e.roles&&(t=a({roles:e.roles,policies:e.policies||{},component_overrides:e.component_overrides||{}})),n=k(e)||{},s=e.tokens||{},i=o.primary||o.accent||t&&t.primary||n["--primary-strong"]||s["--primary-strong"]||n["--accent-primary-strong"]||s["--accent-primary-strong"]||"var(--gray-11)",r=o.surface||o.bg||t&&t.surface||n["--surface-page"]||s["--surface-page"]||n["--bg-page"]||s["--bg-page"]||"var(--gray-2)",c=o.secondary||t&&t.secondary||n["--secondary-strong"]||s["--secondary-strong"]||n["--accent-secondary-strong"]||s["--accent-secondary-strong"]||i,l=o.tone_mode||t&&t.toneMode||e.policies&&e.policies.tone_mode||"mono",{primary:i,surface:r,secondary:c,toneMode:l}}function f(){const e=g();if(!e)return!1;if(p(),e.version>=2){var t,s=k(e)||{};Object.entries(s).forEach(function(e){var t=e[0],n=e[1];o(t,String(n))}),t=e.overrides||{},Object.keys(t).forEach(function(e){var s=P(e),n=t[e];if(!s||typeof n=="undefined"||n===null)return;o(s,String(n))})}else Object.entries(e.tokens).forEach(([e,t])=>{if(!e||typeof t=="undefined"||t===null)return;document.documentElement.style.setProperty(e,String(t)),a.push(e)});e.version>=2&&(U(e),H(e));const n=N(e);return document.documentElement.style.setProperty("--palette-custom-accent",n.primary),document.documentElement.style.setProperty("--palette-custom-bg",n.surface),!0}function E(){const e=g(),t=Boolean(e);if(t){const t=N(e),n=t.primary,s=t.surface,o=t.secondary,i=t.toneMode;document.documentElement.style.setProperty("--palette-custom-accent",n),document.documentElement.style.setProperty("--palette-custom-bg",s),document.documentElement.style.setProperty("--palette-custom-primary",n),document.documentElement.style.setProperty("--palette-custom-surface",s),document.documentElement.style.setProperty("--palette-custom-secondary",o),document.documentElement.style.setProperty("--palette-custom-seg1","1"),document.documentElement.style.setProperty("--palette-custom-seg2","1"),document.documentElement.style.setProperty("--palette-custom-seg3",i==="duo"?"1":"0")}const n=document.querySelectorAll('[data-role="palette-custom-option"]');n.forEach(e=>{t?e.removeAttribute("hidden"):e.setAttribute("hidden","")})}function T(){E();const e=document.documentElement.getAttribute("data-palette")||"standard";if(e==="custom"&&!f()){_("standard");return}m(e)}var W={refined:['400 1em "Playfair Display"'],expressive:['500 1em "Bricolage Grotesque"'],technical:['400 1em "JetBrains Mono"']};function F(e){localStorage.setItem("theme-typography",e),S(e);var i=document.querySelector('[data-js="typography-option"][data-typography="'+e+'"]'),t=i?i.getAttribute("aria-label"):e,a=document.querySelector('[data-toast-category="typography"]'),s=a?a.getAttribute("data-toast-label"):"",o=W[e];o&&o.length>0?Promise.all(o.map(function(e){return document.fonts.load(e)})).then(function(){u(e),n(),r(),window.Toast&&window.Toast.show(s,t)}).catch(function(){u(e),n(),r(),window.Toast&&window.Toast.show(s,t)}):(u(e),n(),r(),window.Toast&&window.Toast.show(s,t))}function u(e){document.documentElement.setAttribute("data-typography",e),Z(e)}function S(e){d.forEach(t=>{const n=t.getAttribute("data-typography");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function Y(){if(!y)return;y.innerHTML=`<svg width="24" height="24" aria-hidden="true">
      <use href="/img/svg/sprite.svg?v=20260212a#icon-theme-palette"></use>
    </svg>`}function G(){const e=document.querySelector('meta[name="theme-color"]');if(!e)return;const t=document.documentElement.getAttribute("data-mode");t==="dark"?e.setAttribute("content","#18181b"):e.setAttribute("content","#FFFFFF")}function X(e){const t=document.querySelector('[data-js="footer-mode"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}function A(e){const t=document.querySelector('[data-js="footer-palette"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=M(n,e)}function Z(e){const t=document.querySelector('[data-js="footer-typography"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const e=localStorage.getItem("theme-mode")||"system";e==="system"&&x("system")});function J(e){if(!i)return;i.forEach(t=>{t.value=String(e)})}function w(e,t){const o=t||{},s=c();let n=null;if(s&&typeof s.getEntry=="function"&&o.skipApply){const t=Number(e)||s.getCurrentYear();n=s.getEntry(t),n&&n.year&&document.documentElement.setAttribute("data-coty-year",String(n.year))}else if(s&&typeof s.setYear=="function")n=s.setYear(e,{entryOverride:o.entryOverride||null});else{const t=Number(e)||2026;document.documentElement.setAttribute("data-coty-year",String(t)),n={year:t}}if(!n||!n.year)return;try{localStorage.setItem(b,String(n.year))}catch{}J(n.year);const i=document.documentElement.getAttribute("data-palette")||"standard";o.activatePantone!==!1&&i!=="pantone"?(localStorage.setItem("theme-palette","pantone"),C("pantone"),m("pantone"),window.dispatchEvent(new window.CustomEvent("theme:palette-changed",{detail:{palette:"pantone"}}))):A(i),o.silent||window.dispatchEvent(new window.CustomEvent("theme:coty-year-changed",{detail:{year:n.year,name:n.name||""}}))}function te(){const e=c();if(!i||!i.length||!e||typeof e.getEntries!="function")return;const t=e.getEntries();if(!t||!t.length)return;i.forEach(e=>{e.innerHTML="",t.forEach(t=>{const n=document.createElement("option");n.value=String(t.year),n.textContent=String(t.year)+" â€” "+t.name,e.appendChild(n)}),e.addEventListener("change",function(){w(this.value)})});const n=Number(localStorage.getItem(b))||e.getCurrentYear();w(n,{silent:!0,activatePantone:!1,skipApply:!0})}document.addEventListener("DOMContentLoaded",function(){s=document.querySelector('[data-js="theme-toggle"]'),e=document.querySelector('[data-js="theme-panel"]'),t=document.querySelector('[data-js="theme-overlay"]'),y=document.querySelector('[data-js="theme-icon"]'),v=document.querySelectorAll('[data-js="mode-option"]'),h=document.querySelectorAll('[data-js="palette-option"]'),i=document.querySelectorAll('[data-js="coty-year-theme"]'),d=document.querySelectorAll('[data-js="typography-option"]');const r=localStorage.getItem("theme-mode")||"system",a=localStorage.getItem("theme-palette")||"standard",c=localStorage.getItem("theme-typography")||"editorial",f=a==="coty"?"pantone":a,o=f==="custom"&&!z()?"standard":f;if(o!==a&&localStorage.setItem("theme-palette",o),x(r),window.CotyScaleActions&&typeof window.CotyScaleActions.init=="function"&&window.CotyScaleActions.init(),te(),E(),C(o),u(c),D(r),m(o),S(c),window.ThemeActions={setMode:O,setPalette:_,setTypography:F,getPaletteOrder:function(){const e=new Set,t=[];return h.forEach(n=>{if(n.hasAttribute("hidden"))return;const s=n.getAttribute("data-palette");s&&!e.has(s)&&(e.add(s),t.push(s))}),t},getTypographyOrder:function(){const e=new Set,t=[];return d.forEach(n=>{const s=n.getAttribute("data-typography");s&&!e.has(s)&&(e.add(s),t.push(s))}),t},setCotyYear:w,getCotyYear:j,refreshCustomPalette:T},window.addEventListener("theme:custom-palette-updated",T),s&&e){s.addEventListener("click",q),l(),t&&t.addEventListener("click",n),document.addEventListener("click",function(t){!s.contains(t.target)&&!e.contains(t.target)&&n()});const a=function(){e.hasAttribute("hidden")||l()};window.addEventListener("resize",a),window.addEventListener("scroll",a,{passive:!0});const r=new MutationObserver(function(){a()});r.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});let o=0,i=0;e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const s=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",s>50?n():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0})}v.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-mode");O(e)})}),h.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-palette");_(e)})}),d.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-typography");F(e)})})}),window.setTheme=O}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".language-toggle"),e=document.querySelector(".language-panel"),t=document.querySelector(".language-overlay");if(window.LanguageActions=window.LanguageActions||{setLanguage:function(){}},!n||!e)return;function j(e){if(!e)return;try{localStorage.setItem("pending-toast",JSON.stringify({category:"language",value:e.trim(),icon:"icon-language-micro"}))}catch{}}function c(e){if(!e)return;const t=e.getAttribute("data-language-href");if(!t)return;const n=e.getAttribute("data-language-name")||"";j(n),window.location.href=t}function b(e){if(!e)return;const t=document.querySelector(`input[type="radio"][data-language-code="${e}"][data-language-href]`);if(!t)return;c(t)}function g(){const e=document.documentElement.getAttribute("data-grid-overlay");return e!==null&&e!=="closing"}function f(){return!e.hasAttribute("hidden")&&!!window.matchMedia("(min-width: 30em)").matches&&g()}function h(){if(e.__portalPlaceholder)return;const t=document.createComment("dropdown-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function u(){const i=n.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.width,a=window.innerWidth,t=8;let s=i.right-o;s<t&&(s=t),s+o>a-t&&(s=a-o-t),e.style.top=`${i.bottom+8}px`,e.style.left=`${Math.max(s,t)}px`,e.style.width=`${o}px`,e.style.right="auto",e.style.bottom="auto"}function d(){h(),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal"),e.style.position="fixed",u()}function l(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function a(){if(f()){d();return}l(e)}function m(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(p(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true"),a()):s()}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"),a())}function p(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"),l(e))}window.LanguageActions={setLanguage:b},n.addEventListener("click",m),a(),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()});const r=function(){e.hasAttribute("hidden")||a()};window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0});const v=new MutationObserver(function(){r()});v.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()}),document.querySelectorAll('input[type="radio"][data-language-href]').forEach(function(e){e.addEventListener("change",function(){c(e)})});let i=0,o=0;e&&t&&(e.addEventListener("touchstart",function(n){i=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){o=n.changedTouches[0].screenY;const s=o-i;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=o-i;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),i=0,o=0}))})}(),function(){"use strict";const e={PARAM_VIEW:"view",PARAM_REF:"ref",VIEW_CLIENT:"client",VIEW_EMPLOYER:"employer",LAYOUT_ID:"layout",CLASS_CLIENTPAGE:"clientpage",CLASS_EMPLOYERPAGE:"employerpage"};function u(){try{return new URLSearchParams(window.location.search)}catch(e){return console.error("Focus mode: Error parsing URL parameters",e),new URLSearchParams}}function s(){const s=u(),i=s.get(e.PARAM_VIEW),a=s.get("source"),n=window.location.pathname,r=n.includes("/clients/"),c=n.includes("/employer")||n.includes("/arbetsgivare");return i===e.VIEW_CLIENT||a==="client"||r?{type:e.VIEW_CLIENT,ref:s.get(e.PARAM_REF)||t(n,"clients")||o("clients")}:i===e.VIEW_EMPLOYER||c?{type:e.VIEW_EMPLOYER,ref:s.get(e.PARAM_REF)||t(n,"employers")||o("employers")}:null}function t(e,t){const s=new RegExp(`/${t}/([^/]+)`),n=e.match(s);return n?n[1]:null}function o(e){try{if(!document.referrer)return null;const n=new URL(document.referrer);return n.origin!==window.location.origin?null:t(n.pathname,e)}catch{return null}}function d(t){const n=document.getElementById(e.LAYOUT_ID);if(!n){console.warn("Focus mode: Layout element not found");return}t.type===e.VIEW_CLIENT?(n.classList.add(e.CLASS_CLIENTPAGE),console.log("Focus mode: Client mode activated",t.ref||"")):t.type===e.VIEW_EMPLOYER&&(n.classList.add(e.CLASS_EMPLOYERPAGE),console.log("Focus mode: Employer mode activated"))}function n(t){if(!t||!t.ref)return;const n=document.querySelector(".top-menu__item--contact .top-menu__link--button");if(!n)return;const a=window.location.pathname,c=a.startsWith("/sv/")?"/sv":"",l=t.type===e.VIEW_EMPLOYER?"employers":"clients",o=`${c}/${l}/${encodeURIComponent(t.ref)}/`,r=h(t),i=a.startsWith(o);i?n.setAttribute("href",`${o}?${r}#contact`):n.setAttribute("href",`${o}?${r}`);const s=n.querySelector(".top-menu__label--long"),d=n.querySelector('[data-focus-icon="contact-default"]'),u=n.querySelector('[data-focus-icon="contact-profile"]');if(s)if(i)s.textContent=s.getAttribute("data-focus-label")||s.getAttribute("data-focus-label-default")||s.textContent;else{const e=s.getAttribute("data-focus-label-template"),n=decodeURIComponent(t.ref).replace(/-/g," "),o=n.charAt(0).toUpperCase()+n.slice(1);s.textContent=e?e.replace("%s",o):s.textContent}i?n.classList.remove("is-focus-subpage"):n.classList.add("is-focus-subpage")}function h(t){const n=new URLSearchParams;return n.set(e.PARAM_VIEW,t.type),t.ref&&n.set(e.PARAM_REF,t.ref),n.toString()}function i(t){const n=document.querySelectorAll("a[href]");n.forEach(n=>{try{const o=n.getAttribute("href");if(!o||o.startsWith("#")||n.hasAttribute("data-focus-processed")||n.hasAttribute("data-focus-ignore")||n.closest('[data-focus-ignore="true"]'))return;const s=new URL(o,window.location.origin);if(s.origin!==window.location.origin)return;const i=new URLSearchParams(s.search);i.set(e.PARAM_VIEW,t.type),t.ref&&i.set(e.PARAM_REF,t.ref),s.search=i.toString(),n.setAttribute("href",s.pathname+s.search+s.hash),n.setAttribute("data-focus-processed","true")}catch{}})}function a(t){t.type===e.VIEW_CLIENT&&t.ref&&m(t.ref),t.type===e.VIEW_EMPLOYER&&t.ref&&f(t.ref)}function m(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back"]'),n=document.getElementById("client-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/clients/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function f(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back-employer"]'),n=document.getElementById("employer-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/employers/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function r(t){if(t.type!==e.VIEW_CLIENT||!t.ref)return;const n=`/clients/${encodeURIComponent(t.ref)}/`,s={"application-toc-letter":`${n}#letter`,"application-toc-portfolio":`${n}#portfolio`,"application-toc-cv":`${n}#cv`,"application-toc-download":`${n}#download`,"application-toc-contact":`${n}#contact`};Object.entries(s).forEach(([e,t])=>{const n=document.querySelector(`[data-js="${e}"]`);n&&n.setAttribute("href",t)})}function c(t){if(!t||!t.ref)return;if(t.type===e.VIEW_CLIENT){const s=document.querySelectorAll(".related-items__item.show-on-client"),e=document.querySelector(".related-items__title.show-on-client");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-clients")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}if(t.type===e.VIEW_EMPLOYER){const s=document.querySelectorAll(".related-items__item.show-on-employer"),e=document.querySelector(".related-items__title.show-on-employer");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-employers")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}}function l(){const e=s();if(!e){console.log("Focus mode: Standard mode (no focus context)");return}d(e),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{i(e),a(e),r(e),c(e),n(e)}):(i(e),a(e),r(e),c(e),n(e))}l(),window.FocusMode={getContext:s,refresh:l}}(),function(){"use strict";function t(){const t=getComputedStyle(document.documentElement),e=parseFloat(t.scrollPaddingTop);return Number.isFinite(e)?e:0}function e(e,n){const s=t(),o=parseFloat(getComputedStyle(e).paddingTop)||0,i=e.getBoundingClientRect().top+window.pageYOffset+o-s;window.scrollTo({top:i,behavior:n||"smooth"})}function n(n){setTimeout(()=>{const s=t(),o=n.getBoundingClientRect().top+window.pageYOffset-s,i=Math.abs(window.pageYOffset-o);i>2&&e(n,"auto")},200)}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll('a[href*="#"]');if(t.forEach(t=>{t.addEventListener("click",function(t){const n=this.getAttribute("href");if(!n||n==="#")return;try{const i=new URL(n,window.location.href),a=i.pathname===window.location.pathname||n.startsWith("#");if(!a)return;const s=n.includes("#")?n.split("#")[1]:null;if(!s)return;const o=document.getElementById(s);if(o){t.preventDefault(),window.history.pushState?window.location.hash!=="#"+s&&window.history.pushState(null,null,"#"+s):window.location.hash=s,e(o,"smooth"),o.setAttribute("tabindex","-1");try{o.focus({preventScroll:!0})}catch{}}}catch(e){console.warn("Smooth scroll: URL parsing failed",e)}})}),window.location.hash){const s=window.location.hash.slice(1),t=document.getElementById(s);t&&setTimeout(()=>{e(t,"smooth"),t.setAttribute("tabindex","-1");try{t.focus({preventScroll:!0})}catch{}n(t)},100)}})}(),function(){"use strict";const e=5e3,t=500;function n(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return e.split("|").map(e=>e.trim()).filter(Boolean)}}document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="role-swapper"]');if(!s)return;const r=s.getAttribute("data-suffix")||"",l=window.matchMedia("(prefers-reduced-motion: reduce)").matches,o=Array.from(s.querySelectorAll("[data-role]")),d=s.getAttribute("data-start");if(o.length){const r=Number(s.getAttribute("data-interval"))||e,c=Number(s.getAttribute("data-fade"))||t;let n=o.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0),d==="random"&&(n=Math.floor(Math.random()*o.length));const i=o.reduce((e,t)=>Math.max(e,t.textContent.trim().length),0);i>0&&(s.style.minWidth=`${i}ch`),o.forEach(e=>{e.style.transitionDuration=`${c}ms`});const a=e=>{o.forEach((t,n)=>{const s=n===e;t.classList.toggle("is-active",s),t.setAttribute("aria-hidden",s?"false":"true")})};if(a(n),o.length<2||l)return;window.setInterval(()=>{n=(n+1)%o.length,a(n)},r);return}const c=s.querySelector('[data-js="role-swapper-text"]')||s,a=n(s.getAttribute("data-roles"));if(a.length<2)return;const u=e=>{const t=e.trim();return r&&t.endsWith(r)?t.slice(0,-r.length):t};if(l)return;const h=Number(s.getAttribute("data-interval"))||e,m=Number(s.getAttribute("data-fade"))||t;let i=a.indexOf(u(c.textContent));d==="random"?(i=Math.floor(Math.random()*a.length),c.textContent=a[i]+r):(i<0&&(i=0),c.textContent.trim()||(c.textContent=a[i]+r));function f(){s.style.opacity="0",window.setTimeout(()=>{i=(i+1)%a.length,c.textContent=a[i]+r,s.style.opacity="1"},m)}window.setInterval(f,h)})}(),function(){const e=document.querySelector("[data-ui-library-tabs]");if(!e)return;const n=e.querySelectorAll(".tab-panel");function t(e){if(!e)return;const t=Array.from(e.children).filter(e=>e.matches("details"));if(t.length<2)return;t.sort((e,t)=>{const n=(e.dataset.sort||"").toLowerCase(),s=(t.dataset.sort||"").toLowerCase();return n.localeCompare(s,"en")}).forEach(t=>{e.appendChild(t)})}function s(){n.forEach(e=>t(e)),e.querySelectorAll("#panel-tokens .token-section").forEach(e=>{t(e)})}s();const o=e.querySelectorAll('[data-js="ui-library-toggle-demo"]');o.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("aria-pressed")==="true";e.setAttribute("aria-pressed",t?"false":"true")})});function i(){const t=window.getComputedStyle(document.documentElement),n=e.querySelectorAll("[data-token-value]");n.forEach(e=>{const n=e.getAttribute("data-token-value");if(!n)return;const s=t.getPropertyValue(n).trim();if(!s)return;e.textContent=s})}function a(){const t=e.querySelectorAll(".motion-demo-dot, .motion-distance-chip");t.forEach(e=>{e.classList.add("is-restarting"),void e.offsetWidth,e.classList.remove("is-restarting")})}const r=e.querySelectorAll('[data-js="motion-replay"]');r.forEach(e=>{e.addEventListener("click",()=>{a()})}),i()}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="settings-toggle"]'),e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]');if(!s||!e)return;function g(){return document.documentElement.hasAttribute("data-grid-overlay")}function p(e){if(!e||e.__portalPlaceholder)return;const t=document.createComment("settings-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function c(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.right="",e.style.bottom=""}function l(e){if(!e)return;p(e),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal")}function a(){const n=e&&!e.hasAttribute("hidden");if(n&&g()){l(e),t&&l(t);return}c(e),t&&c(t)}function u(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function m(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function d(){if(!e)return;e.style.transform="",e.style.transition="",t&&(t.style.opacity="",t.style.transition="")}function n(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),s.setAttribute("aria-expanded","false"),d(),a())}function h(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(u(),m(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),s.setAttribute("aria-expanded","true"),d(),a()):n()}s.addEventListener("click",h),t&&t.addEventListener("click",n),document.addEventListener("click",function(t){!s.contains(t.target)&&!e.contains(t.target)&&n()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});const r=function(){e.hasAttribute("hidden")||a()};window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0});const f=new MutationObserver(function(){r()});f.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]});let i=0,o=0;e&&t&&(e.addEventListener("touchstart",function(n){i=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){o=n.changedTouches[0].screenY;const s=o-i;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=o-i;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?n():(e.style.transform="translateY(0)",t.style.opacity="1"),i=0,o=0}))})}(),function(){"use strict";const o=".reveal",t="is-revealed",n=e=>{if(window.requestAnimationFrame){window.requestAnimationFrame(()=>{window.requestAnimationFrame(e)});return}window.setTimeout(e,0)},e=e=>{if(e.classList.contains(t))return;n(()=>{e.classList.add(t)})},s=t=>{const s=t.querySelectorAll("img");if(!s.length){e(t);return}let n=0;s.forEach(s=>{if(s.complete)return;n+=1;const o=()=>{n-=1,n<=0&&e(t)};s.addEventListener("load",o,{once:!0}),s.addEventListener("error",o,{once:!0})}),n===0&&e(t)};document.addEventListener("DOMContentLoaded",function(){const u=document.querySelectorAll(".post-content > *");u.forEach(e=>{e.classList.contains("reveal")||e.classList.add("reveal")});const a=document.querySelectorAll(".application-page .about-cv.reveal");a.length&&n(()=>{a.forEach(t=>{e(t)})});const i=Array.from(document.querySelectorAll(o));if(!i.length)return;const h=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(h||!("IntersectionObserver"in window)){i.forEach(e=>e.classList.add(t));return}const m=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(!t.isIntersecting)return;t.target.classList.contains("reveal--immediate")?e(t.target):t.target.classList.contains("reveal--no-wait")?e(t.target):s(t.target),n.unobserve(t.target)})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),f=e=>{const t=e.getBoundingClientRect();return t.top<=window.innerHeight&&t.bottom>=0},r=e=>{const t=e.getBoundingClientRect();return t.height>0},p=e=>e.classList.contains("reveal--delay")||e.classList.contains("reveal--delay-2")||e.classList.contains("reveal--immediate")||e.style.getPropertyValue("--reveal-delay"),g=window.matchMedia&&window.matchMedia("(max-width: 43.125em)").matches,c=i.filter(f);let l=0;const d=new WeakMap;c.forEach(t=>{if(!g&&!p(t)){const e=t.closest(".post-content");if(e){const n=d.get(e)||0,s=Math.min(n*60,320);t.style.setProperty("--reveal-delay",`${s}ms`),r(t)&&d.set(e,n+1)}else{const e=Math.min(l*80,320);t.style.setProperty("--reveal-delay",`${e}ms`),r(t)&&(l+=1)}}t.classList.contains("reveal--immediate")?e(t):t.classList.contains("reveal--no-wait")?e(t):s(t)}),i.forEach(e=>{if(c.includes(e))return;m.observe(e)})})}(),function(){"use strict";var l=1e4,c=!1,o={en:{success:"Thank you for subscribing!",error:"Something went wrong. Please try again.",invalidEmail:"Please enter a valid email address.",alreadySubscribed:"You're already subscribed!",timeout:"Request timed out. Please try again."},sv:{success:"Tack fÃ¶r din prenumeration!",error:"NÃ¥got gick fel. FÃ¶rsÃ¶k igen.",invalidEmail:"Ange en giltig e-postadress.",alreadySubscribed:"Du prenumererar redan!",timeout:"FÃ¶rfrÃ¥gan tog fÃ¶r lÃ¥ng tid. FÃ¶rsÃ¶k igen."}};function e(){c&&window.console&&console.log&&console.log.apply(console,["[Newsletter]"].concat(Array.prototype.slice.call(arguments)))}function r(){var e=document.documentElement.lang||"en";return e.indexOf("sv")===0?"sv":"en"}function t(e){var t=r();return o[t]&&o[t][e]||o.en[e]}function n(t,n,s){var o=t.querySelector(".mc-response--success")||t.querySelector("#mce-success-response"),i=t.querySelector(".mc-response--error")||t.querySelector("#mce-error-response");e("showResponse:",n,"isError:",s),o&&(o.style.display=s?"none":"block",s||(o.textContent=n)),i&&(i.style.display=s?"block":"none",s&&(i.textContent=n))}function d(e){for(var n=e.querySelectorAll(".mc-response, .response"),t=0;t<n.length;t++)n[t].style.display="none",n[t].textContent=""}function s(e,t){var s,n=e.querySelector('button[type="submit"], input[type="submit"]');n&&(n.disabled=t,t?(n.setAttribute("data-original-text",n.value||n.textContent),n.tagName==="INPUT"?n.value="...":n.textContent="..."):(s=n.getAttribute("data-original-text"),s&&(n.tagName==="INPUT"?n.value=s:n.textContent=s)))}function u(t,n,s){e("Building URL from:",t);var i,o=t;return o.indexOf("/subscribe/post?")!==-1?o=o.replace("/subscribe/post?","/subscribe/post-json?"):o.indexOf("/subscribe/post-json?")===-1&&o.indexOf("/subscribe/post-json")!==-1&&(o=o+"?"),o=o.replace(/[&?]c=[^&]*/g,""),o=o.replace(/&&/g,"&").replace(/\?&/g,"?").replace(/&$/g,"").replace(/\?$/g,""),i=o.indexOf("?")===-1?"?":"&",o=o+i+"c="+n,s&&(o=o+"&"+s),e("Final URL:",o),o}function i(t,n,s){e("Cleanup:",t),s&&clearTimeout(s);try{window[t]&&delete window[t]}catch{window[t]=void 0}n&&n.parentNode&&n.parentNode.removeChild(n)}function h(o){var a,r,c,h,m,f,p,g,v,b,y,_,w=o.querySelector('input[type="email"]'),j=w?w.value.trim():"";if(e("Submitting form, email:",j),!j||j.indexOf("@")===-1){n(o,t("invalidEmail"),!0);return}d(o),s(o,!0);for(b=[],p=o.querySelectorAll("input[name]"),m=0;m<p.length;m++){if(f=p[m],_=f.name,y=f.value,f.type==="submit")continue;b.push(encodeURIComponent(_)+"="+encodeURIComponent(y))}g=b.join("&"),e("Form params:",g),c="mc_resp_"+Date.now(),v=u(o.getAttribute("action"),c,g),r=document.createElement("script"),h=null,a=!1,window[c]=function(l){if(e("Callback received:",l),a){e("Already completed, ignoring");return}if(a=!0,s(o,!1),l&&l.result==="success")n(o,t("success"),!1),o.reset();else{var u,d=t("error");l&&l.msg&&(e("Error msg from Mailchimp:",l.msg),u=l.msg.toLowerCase(),u.indexOf("already subscribed")!==-1?d=t("alreadySubscribed"):u.indexOf("invalid")!==-1||u.indexOf("valid email")!==-1?d=t("invalidEmail"):d=l.msg.replace(/<[^>]*>/g,"").trim()),n(o,d,!0)}i(c,r,h)},h=setTimeout(function(){if(e("Timeout fired"),a)return;a=!0,s(o,!1),n(o,t("timeout"),!0),i(c,r,null)},l),r.onerror=function(l){if(e("Script error:",l),a)return;a=!0,s(o,!1),n(o,t("error"),!0),i(c,r,h)},e("Loading script:",v),r.src=v,document.body.appendChild(r)}function a(){var t,n=document.querySelectorAll("form[data-mc-form]");e("Found",n.length,"newsletter forms");for(t=0;t<n.length;t++)(function(e){e.addEventListener("submit",function(t){t.preventDefault(),h(e)})})(n[t])}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()}(),function(){function e(e,t){e.forEach(e=>{const n=e.getAttribute("data-toc-link")===t;e.classList.toggle("is-active",n),n?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")})}function t(){const o=document.querySelector(".toc");if(!o)return;const t=Array.from(o.querySelectorAll("[data-toc-link]"));if(!t.length)return;const i=Array.from(document.querySelectorAll("[data-toc-section]")),a=new Set(t.map(e=>e.getAttribute("data-toc-link"))),n=window.location.hash.replace("#","");if(n&&a.has(n))e(t,n);else{const n=t[0].getAttribute("data-toc-link");n&&e(t,n)}if(!("IntersectionObserver"in window)||!i.length)return;if(typeof IntersectionObserver!="function")return;let r=null;const s=new IntersectionObserver(n=>{n.forEach(n=>{if(!n.isIntersecting)return;const s=n.target.getAttribute("data-toc-section");if(!s||s===r||!a.has(s))return;r=s,e(t,s)})},{root:null,rootMargin:"0px 0px -60% 0px",threshold:.1});if(!s||typeof s.observe!="function")return;i.forEach(e=>s.observe(e))}document.addEventListener("DOMContentLoaded",t)}(),function(){const t=document.querySelector('[data-js="brand-loop"]');if(!t)return;const R=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(R)return;const v=t.getAttribute("data-curl-random");if(v===null||v==="false"||v==="0")return;const w=t.getAttribute("data-curl-base"),y=t.getAttribute("data-curl-variants");if(!w||!y)return;let c,r;try{c=atob(w),r=JSON.parse(atob(y))}catch{return}if(!Array.isArray(r)||r.length===0)return;const o=(e,t)=>{const n=Number.parseFloat(e);return Number.isFinite(n)?n:t},L=o(t.getAttribute("data-curl-base-min"),10),k=o(t.getAttribute("data-curl-base-max"),10),N=o(t.getAttribute("data-curl-transition-min"),.5),z=o(t.getAttribute("data-curl-transition-max"),.5),T=o(t.getAttribute("data-curl-alt-min"),2),F=o(t.getAttribute("data-curl-alt-max"),2),x=Math.max(2,Math.round(o(t.getAttribute("data-curl-dynamic-steps"),4))),p=(e,t)=>{const n=Math.min(e,t),s=Math.max(e,t);return n+Math.random()*(s-n)},M=e=>{const t=e.slice();for(let e=t.length-1;e>0;e-=1){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t},S=.2,A=e=>{if(l.length<2)return null;const t=l.filter(t=>t!==e);return t.length?t[Math.floor(Math.random()*t.length)]:null},j=e=>Number.isFinite(e.transition)?e.transition:p(N,z),h=r.find(e=>e.role==="bridge"||e.bridge===!0),l=h?r.filter(e=>e!==h):r;if(l.length===0)return;const i=h?h.d:null,O=M(l);let e=0;const C=[0],d=[c],_=[],a="0 0 1 1",m="0.42 0 1 1",g="0 0 0.58 1",s=(e,t,n=a)=>{d.push(e),C.push(t),_.push(n)},f=({variant:t,includeBaseHold:n,returnToBase:o,startFromBridge:r,transitionOut:l})=>{const f=n?p(L,k):0,h=j(t),v=p(T,F),u=t.d,b=t.d_alt||t.d;if(f>0&&(e+=f,s(c,e,a)),i){const t=d[d.length-1];(n||t===c)&&(e+=h,s(i,e,m)),e+=h,s(u,e,g)}else r?(e+=h,s(u,e,g)):(e+=h,s(u,e,a));if(t.type==="dynamic"){const t=v/x;for(let n=0;n<x;n+=1)e+=t,s(n%2===0?b:u,e,a)}else e+=v,s(u,e,a);if(o){const n=l??j(t);i?(e+=n,s(i,e,m),e+=n,s(c,e,g)):(e+=n,s(c,e,a))}else if(i){const n=l??j(t);e+=n,s(i,e,m)}},u=O.map(()=>Math.random()<S);if(l.length>1&&!u.some(Boolean)&&(u[Math.floor(Math.random()*u.length)]=!0),O.forEach((e,t)=>{const s=u[t],n=s?A(e):null;if(!n){f({variant:e,includeBaseHold:!0,returnToBase:!0,startFromBridge:!1});return}f({variant:e,includeBaseHold:!0,returnToBase:!1,startFromBridge:!1}),f({variant:n,includeBaseHold:!1,returnToBase:!0,startFromBridge:Boolean(i)})}),e<=0)return;const D=C.map(t=>(t/e).toFixed(6)),b=t.querySelector(".brand__mark-loop-path");if(!b)return;const E=b.querySelector("animate");E&&E.remove();const n=document.createElementNS("http://www.w3.org/2000/svg","animate");n.setAttribute("attributeName","d"),n.setAttribute("dur",`${e.toFixed(1)}s`),n.setAttribute("begin","0s"),n.setAttribute("repeatCount","indefinite"),n.setAttribute("calcMode","spline"),n.setAttribute("keyTimes",D.join(";")),n.setAttribute("keySplines",_.join(";")),n.setAttribute("values",d.join(";")),b.appendChild(n),typeof n.beginElement=="function"&&n.beginElement()}(),function(){var t="grid-overlay",e=!1;function n(){return document.documentElement.hasAttribute("data-grid-overlay")&&!e}function c(n){if(e=!1,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay",""),localStorage.setItem(t,"true"),s(!0),n&&window.Toast){var i=document.querySelector('[data-js="grid-toggle"]'),a=i?i.getAttribute("data-toast-title"):"Grid",r=i?i.getAttribute("data-toast-on"):"";window.Toast.show(a,r,{icon:"icon-grid-micro"})}o(!0)}function l(n){if(e)return;if(e=!0,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay","closing"),s(!1),n&&window.Toast){var a,i=document.querySelector('[data-js="grid-toggle"]'),r=i?i.getAttribute("data-toast-title"):"Grid",c=i?i.getAttribute("data-toast-off"):"";window.Toast.show(r,c,{icon:"icon-grid-micro"})}o(!1),a=document.querySelector(".grid-overlay__col:first-child"),a?(a.addEventListener("animationend",function(){document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1},{once:!0}),setTimeout(function(){e&&(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)},600)):(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)}function i(){n()?l(!0):c(!0)}function a(){if(!window.matchMedia("(max-width: 29.9375em)").matches)return;var e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]'),n=document.querySelector('[data-js="settings-toggle"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),e.style.transform="",e.style.transition=""),t&&!t.hasAttribute("hidden")&&(t.setAttribute("hidden",""),t.style.opacity="",t.style.transition=""),n&&n.setAttribute("aria-expanded","false")}function s(e){var t=document.querySelectorAll('[data-js="grid-toggle"]');t.forEach(function(t){t.setAttribute("aria-pressed",String(e))})}function o(e){var t,s,o,n=document.querySelector('[data-js="footer-grid"]');if(!n)return;t=document.querySelector('[data-js="grid-toggle"]'),s=t?t.getAttribute("data-toast-title"):"Grid",o=e?t?t.getAttribute("data-toast-on"):"":t?t.getAttribute("data-toast-off"):"",n.textContent=s+" "+o}function r(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.setProperty("--scrollbar-width",e+"px")}r(),window.addEventListener("resize",r),localStorage.getItem(t)==="true"&&document.documentElement.setAttribute("data-grid-overlay",""),document.addEventListener("DOMContentLoaded",function(){s(n()),o(n()),document.querySelectorAll('[data-js="grid-toggle"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i(),a()})})}),window.GridOverlayActions={toggle:function(){i(),a()},isActive:n}}(),function(){"use strict";var d=900,t=null,s=null,e=null;function y(){var e=document.querySelectorAll("[data-shortcut]");e.forEach(function(e){if(e.getAttribute("data-shortcut-rendered")==="true")return;var t,n=(e.getAttribute("data-shortcut")||"").trim();if(!n)return;if(t=n.split(/\s+/).filter(Boolean),t.length===0)return;e.textContent="",t.forEach(function(t){var n=document.createElement("span");n.className="shortcut-key",n.textContent=t,e.appendChild(n)}),e.setAttribute("data-shortcut-rendered","true")})}function u(e){if(!e)return!1;var t=e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="textarea"||t==="select"||Boolean(e.isContentEditable)}function l(){return e||(e=document.createElement("div"),e.className="chord-hud",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("hidden",""),document.body.appendChild(e),e)}function m(e){var t=l();function n(e,n){t.textContent="";var s,o=document.createElement("span");o.className="chord-hud__label",o.textContent=e,t.appendChild(o),s=document.createElement("span"),s.className="chord-hud__keys",n.forEach(function(e){var t=document.createElement("span");t.className="shortcut-key",t.textContent=e,s.appendChild(t)}),t.appendChild(s)}e==="T"&&n("Theme +",["L","D","S"]),e==="L"&&n("Language +",["E","S"]),e==="P"&&n("Palette +",["1","2","3","4","5"]),e==="F"&&n("Typography +",["1","2","3","4"]),t.removeAttribute("hidden")}function c(){if(!e)return;e.setAttribute("hidden","")}function n(){t=null,s&&(window.clearTimeout(s),s=null),c()}function a(e){t=e,m(e),s&&window.clearTimeout(s),s=window.setTimeout(n,d)}function o(){return window.ThemeActions||null}function h(){return window.GridOverlayActions||null}function r(){return window.LanguageActions||null}function f(e){var n,s,t=o();if(!t||typeof t.setPalette!="function"||typeof t.getPaletteOrder!="function")return;s=t.getPaletteOrder(),n=s[e],n&&t.setPalette(n)}function p(e){var n,s,t=o();if(!t||typeof t.setTypography!="function"||typeof t.getTypographyOrder!="function")return;s=t.getTypographyOrder().filter(function(e){return e!=="system"}),n=s[e],n&&t.setTypography(n)}function g(e){if(e==="G"){var t=h();return t&&typeof t.toggle=="function"&&t.toggle(),!0}return(e==="T"||e==="L"||e==="P"||e==="F")&&(a(e),!0)}function v(e){var s=o(),i=r();return t==="T"&&s&&typeof s.setMode=="function"?(e==="L"&&s.setMode("light"),e==="D"&&s.setMode("dark"),e==="S"&&s.setMode("system"),n(),!0):t==="L"&&i&&typeof i.setLanguage=="function"?(e==="E"&&i.setLanguage("en"),e==="S"&&i.setLanguage("sv"),n(),!0):t==="P"?(e>="1"&&e<="5"&&f(Number(e)-1),n(),!0):t==="F"?(e>="1"&&e<="4"&&p(Number(e)-1),n(),!0):(n(),!1)}function b(e){return!e||!e.key?"":e.key.length!==1?"":e.key.toUpperCase()}function j(e){if(e.defaultPrevented)return;if(e.repeat)return;if(u(e.target))return;if(e.key==="Escape"){t&&(e.preventDefault(),n());return}if(e.metaKey||e.ctrlKey||e.altKey)return;var s=b(e);if(!s)return;if(!t){g(s)&&e.preventDefault();return}v(s)&&e.preventDefault()}function i(){y(),document.addEventListener("keydown",j)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i,{once:!0}):i()}(),function(){function e(){const e=document.querySelector('[data-js="palette-generator-root"]');if(!e)return;const Ne=e.querySelector('[data-js="palette-baseline-json"]'),Le=e.querySelector('[data-js="palette-presets-json"]');if(!Ne||!Le)return;let c,_;try{c=JSON.parse(Ne.textContent||"{}"),_=JSON.parse(Le.textContent||"{}"),typeof c=="string"&&(c=JSON.parse(c)),typeof _=="string"&&(_=JSON.parse(_))}catch{return}const Ie=["gray","iris","green","amber","cloud","teal","blue","purple","orange","red"],Lt=["gray","iris","green","amber","cloud","coty","teal","blue","purple","orange","red"],r={text:e.querySelector('select[data-role="text"]'),surface:e.querySelector('select[data-role="surface"]'),border:e.querySelector('select[data-role="border"]'),primary:e.querySelector('select[data-role="primary"]'),secondary:e.querySelector('select[data-role="secondary"]')},Xe=e.querySelector('[data-js="palette-generator-tabs"]'),ze=Xe?Array.from(Xe.querySelectorAll(".tab-button[data-tab]")):[],_t=Array.from(e.querySelectorAll(".tab-panel[data-panel]")),o=e.querySelector('[data-js="palette-preset"]'),E=e.querySelector('[data-js="tone-mode-toggle"]'),X=Array.from(e.querySelectorAll('input[data-js="policy-surface-profile"]')),C=e.querySelector('[data-js="surface-derived-toggle"]'),s=e.querySelector('[data-js="coty-year"]'),Q=e.querySelector('[data-js="coty-controls"]'),W=e.querySelector('[data-js="coty-override-groups"]'),I=e.querySelector('[data-js="coty-role-mode"]'),u=e.querySelector('[data-js="coty-anchor-step"]'),ve=e.querySelector('[data-js="coty-source-step"]'),T=e.querySelector('[data-js="coty-reset-year"]'),R=e.querySelector('[data-js="coty-reset-all"]'),tt=e.querySelector('[data-js="coty-year-prev"]'),De=e.querySelector('[data-js="coty-year-next"]'),ae=e.querySelector('[data-js="coty-year-random"]'),U=e.querySelector('[data-js="coty-control-color-value"]'),$=e.querySelector('[data-js="coty-control-color-scope"]'),j=e.querySelector('[data-js="coty-control-color-token"]'),we=e.querySelector('[data-js="coty-control-color-token-row"]'),oe=e.querySelector('[data-js="coty-control-color-toggle"]'),ct=e.querySelector('[data-js="coty-control-color-reset"]'),rt=e.querySelector('[data-js="coty-control-color-count"]'),O=e.querySelector('[data-js="coty-diff"]'),Ee=e.querySelector('[data-js="coty-contrast-checks"]'),ne=e.querySelector('[data-js="coty-token-usage"]'),d=e.querySelector('[data-js="coty-token-usage-select"]'),A=e.querySelector('[data-js="coty-token-usage-list"]'),l={},k=e.querySelector('[data-js="palette-reset"]'),y=e.querySelector('[data-js="palette-save"]'),z=e.querySelector('[data-js="coty-apply-draft"]'),Ae=e.querySelector('[data-js="palette-copy"]'),te=e.querySelector('[data-js="palette-generator-footer-hint"]'),Me=e.querySelector('[data-js="palette-export"]'),Qe=e.querySelector('[data-js="palette-export-code"]'),Mt=e.getAttribute("data-toast-palette-saved")||"Palette saved",Ge=e.getAttribute("data-palette-custom-label")||"Custom palette",Fe=new Set,Te=new Set,Ke={},He="theme-custom-palette",Re="pantone-lab::",Ye="pantone-lab-control-color",lt=["","--coty-1","--coty-2","--coty-3","--coty-4","--coty-5","--coty-6","--coty-7","--coty-8","--coty-9","--coty-10","--coty-11","--coty-12"],yt=["--coty-secondary-1","--coty-secondary-2","--coty-secondary-3","--coty-secondary-4","--coty-secondary-5","--coty-secondary-6","--coty-secondary-7","--coty-secondary-8","--coty-secondary-9","--coty-secondary-10","--coty-secondary-11","--coty-secondary-12"],S=[{id:"text",label:"Text",fields:[{key:"text_default",token:"--text-default"},{key:"text_muted",token:"--text-muted"},{key:"text_link",token:"--text-link"},{key:"text_link_hover",token:"--text-link-hover"},{key:"text_inverse",token:"--text-inverse"},{key:"text_tag",token:"--text-tag"},{key:"text_accent",token:"--text-accent"},{key:"surface_ink_strong",token:"--surface-ink-strong"}]},{id:"surface",label:"Surface",fields:[{key:"surface_page",token:"--surface-page"},{key:"surface_default",token:"--surface-default"},{key:"surface_tag",token:"--surface-tag"},{key:"surface_tag_hover",token:"--surface-tag-hover"},{key:"component_form_bg",token:"--component-form-bg"},{key:"component_form_placeholder",token:"--component-form-placeholder"},{key:"image_background",token:"--image-background"},{key:"component_newsletter_bg",token:"--component-newsletter-bg"},{key:"component_newsletter_text",token:"--component-newsletter-text"},{key:"component_newsletter_illustration_bg",token:"--component-newsletter-illustration-bg"}]},{id:"border",label:"Border",fields:[{key:"border_subtle",token:"--border-subtle"},{key:"border_default",token:"--border-default"},{key:"border_strong",token:"--border-strong"}]},{id:"primary",label:"Primary",fields:[{key:"primary",token:"--primary",legacyKeys:["accent_primary","brand_primary"]},{key:"primary_strong",token:"--primary-strong",legacyKeys:["accent_primary_strong"]},{key:"on_primary",token:"--on-primary",legacyKeys:["brand_on_primary"]},{key:"action",token:"--action"},{key:"on_action",token:"--on-action"},{key:"component_nav_cta_bg",token:"--component-nav-cta-bg"},{key:"component_nav_cta_text",token:"--component-nav-cta-text"},{key:"state_focus",token:"--state-focus"},{key:"state_selected",token:"--state-selected"}]},{id:"secondary",label:"Secondary",fields:[{key:"secondary",token:"--secondary",legacyKeys:["accent_secondary"]},{key:"secondary_strong",token:"--secondary-strong",legacyKeys:["accent_secondary_strong"]},{key:"on_secondary",token:"--on-secondary"},{key:"component_toc_active_indicator",token:"--component-toc-active-indicator"},{key:"component_section_headline_bg",token:"--component-section-headline-bg"}]}],w=S.flatMap(e=>e.fields),Pe={"--text-default":[{file:"assets/css/style.css",selector:"body",note:"Global default text color."},{file:"assets/css/utilities/typography.css",selector:"text elements",note:"Typographic defaults and prose styles."},{file:"assets/css/components/theme-dropdown.css",selector:".theme-dropdown",note:"Theme menu text rendering."}],"--text-muted":[{file:"assets/css/pages/palette-generator.css",selector:".palette-generator__label",note:"Generator labels and helper text."},{file:"assets/css/style.css",selector:".meta and subdued text",note:"Muted metadata and secondary copy."}],"--text-link":[{file:"assets/css/utilities/typography.css",selector:"a",note:"Base link color."}],"--text-link-hover":[{file:"assets/css/utilities/typography.css",selector:"a:hover",note:"Link hover color."}],"--text-inverse":[{file:"assets/css/components/button.css",selector:"inverse content",note:"Text/icons on inverted surfaces and overlays."}],"--text-tag":[{file:"assets/css/components/tags.css",selector:".tag-link",note:"Tag pill text color."}],"--text-accent":[{file:"assets/css/tokens/legacy.css",selector:":root",note:"Legacy alias used by some components."}],"--surface-ink-strong":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Strong ink basis for derived muted text."}],"--surface-page":[{file:"assets/css/style.css",selector:"body",note:"Global page background."},{file:"assets/css/components/footer.css",selector:".footer",note:"Footer surface and separators."},{file:"assets/css/pages/palette-generator.css",selector:".palette-generator__export and code blocks",note:"Generator preview surfaces."}],"--surface-default":[{file:"assets/css/pages/palette-generator.css",selector:".palette-generator__panel",note:"Generator card/background surfaces."},{file:"assets/css/components/tabs.css",selector:".tabs-nav",note:"Tab container surfaces."},{file:"assets/css/components/download-card.css",selector:".download-card",note:"Content cards and utility surfaces."}],"--surface-tag":[{file:"assets/css/components/tags.css",selector:".tag-link",note:"Tag background color."}],"--surface-tag-hover":[{file:"assets/css/components/tags.css",selector:".tag-link:hover",note:"Tag hover/active background."}],"--border-subtle":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Default low-contrast borders."}],"--border-default":[{file:"assets/css/components/form.css",selector:".form-input, .form-textarea, .form-select",note:"Default control and field borders."},{file:"assets/css/components/theme-dropdown.css",selector:".theme-dropdown and select controls",note:"Default panel/control separators."}],"--border-strong":[{file:"assets/css/components/accordion.css",selector:".accordion*",note:"Strong separator and open-state emphasis."},{file:"assets/css/components/theme-dropdown.css",selector:".theme-dropdown",note:"Panel and interactive border contrast."}],"--component-form-bg":[{file:"assets/css/components/form.css",selector:".form-input, .form-textarea, .form-select",note:"Input field background."}],"--component-form-placeholder":[{file:"assets/css/components/form.css",selector:"::placeholder",note:"Placeholder text in form controls."}],"--image-background":[{file:"assets/css/style.css",selector:"picture::after, .video-wrapper::after",note:"Image treatment overlay background."},{file:"assets/js/coty-scale.js",selector:"runtime token assignment",note:"Pantone mode and duo-gradient defaults."}],"--component-newsletter-bg":[{file:"assets/css/components/footer.css",selector:".newsletter",note:"Newsletter card background."}],"--component-newsletter-text":[{file:"assets/css/components/footer.css",selector:".newsletter__title and copy",note:"Newsletter text color."}],"--component-newsletter-illustration-bg":[{file:"assets/css/components/footer.css",selector:".newsletter__illustration",note:"Newsletter illustration block bg."}],"--primary":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Primary role base used by roles and components."}],"--primary-strong":[{file:"assets/css/components/button.css",selector:".button interactions",note:"Primary role strong/hover states."}],"--on-primary":[{file:"assets/css/components/button.css",selector:".button--primary",note:"Text/icon color on primary backgrounds."},{file:"assets/js/coty-scale.js",selector:"runtime selection",note:"Set from COTY scale steps, not fixed white/black."}],"--action":[{file:"assets/css/components/button.css",selector:".button",note:"Default button background."}],"--on-action":[{file:"assets/css/components/button.css",selector:".button",note:"Default button text/icon color."}],"--secondary":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Secondary role base."}],"--secondary-strong":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Secondary role strong variant."}],"--on-secondary":[{file:"assets/css/tokens/semantic.css",selector:":root",note:"Text/icon color on secondary backgrounds."}],"--state-focus":[{file:"assets/css/utilities/typography.css",selector:":focus-visible outlines",note:"Focus ring and emphasis states."}],"--state-selected":[{file:"assets/css/pages/palette-generator.css",selector:".palette-generator__contrast-status[data-pass='true']",note:"Pass-state indicator color."}],"--component-nav-cta-bg":[{file:"assets/css/components/navigation.css",selector:".menu__cta",note:"Header CTA background."},{file:"assets/js/theme-derive.js",selector:"derived token mapping",note:"Mapped from primary role at runtime."}],"--component-nav-cta-text":[{file:"assets/css/components/navigation.css",selector:".menu__cta",note:"Header CTA text color."},{file:"assets/js/theme-derive.js",selector:"derived token mapping",note:"Mapped from primary role at runtime."}],"--component-toc-active-indicator":[{file:"assets/css/components/table-of-contents.css",selector:".table-of-contents .active",note:"Active ToC indicator."}],"--component-section-headline-bg":[{file:"assets/css/utilities/typography.css",selector:".section-headline",note:"Section headline background accent."}]},m={},n={enabled:!1,color:"#ff4d4d",scope:"primary",token:"--primary"};let re=!1,ce="palette",ge=null;function de(e){return!!e&&e.getAttribute("aria-pressed")==="true"}function M(e,t,n){if(!e)return;e.setAttribute("aria-pressed",t?"true":"false"),n&&(e.textContent=t?n.on:n.off)}function h(){return ce==="pantone"?"pantone":"palette"}function B(e){ce=e==="pantone"?"pantone":"palette",ze.forEach(e=>{const t=e.getAttribute("data-tab")===ce;e.classList.toggle("is-active",t),e.setAttribute("aria-selected",t?"true":"false")}),_t.forEach(e=>{const t=e.getAttribute("data-panel")===ce;e.classList.toggle("is-active",t)}),Ze(),Je()}function Ze(){const e=h()==="pantone"?Lt:Ie;Object.values(r).forEach(t=>{if(!t)return;const n=t.value;$e(t,e),e.includes(n)&&(t.value=n)})}function Je(){if(!y)return;const t=document.documentElement.lang==="sv",e=h()==="pantone";if(k&&(k.disabled=e,k.setAttribute("aria-disabled",e?"true":"false"),k.hidden=e,k.style.display=e?"none":"",k.setAttribute("aria-hidden",e?"true":"false")),y.disabled=e,y.setAttribute("aria-disabled",e?"true":"false"),y.hidden=e,y.style.display=e?"none":"",y.setAttribute("aria-hidden",e?"true":"false"),z&&(z.hidden=!e,z.style.display=e?"":"none",z.setAttribute("aria-hidden",e?"false":"true")),T&&(T.hidden=!e,T.style.display=e?"":"none",T.setAttribute("aria-hidden",e?"false":"true")),R&&(R.hidden=!e,R.style.display=e?"":"none",R.setAttribute("aria-hidden",e?"false":"true")),Ae&&(Ae.textContent=e?t?"Kopiera Pantone-utkast":"Copy Pantone draft":t?"Kopiera spec":"Copy spec"),te){const t=te.getAttribute("data-hint-palette")||"",n=te.getAttribute("data-hint-pantone")||"";te.textContent=e?n:t}y.title=e?t?"Spara palette gÃ¤ller bara Palette Builder. AnvÃ¤nd Pantone-utkast i Pantone Lab.":"Save palette is for Palette Builder only. Use Pantone draft in Pantone Lab.":""}function wt(){const e=X.find(e=>e.checked);return e?e.value:"standard"}function H(e){const t=new Set;return e.filter(e=>!!e&&!t.has(e)&&(t.add(e),!0))}function bt(){const e=S.find(e=>e.id==="text"),t=S.find(e=>e.id==="surface"),n=S.find(e=>e.id==="primary"),s=S.find(e=>e.id==="secondary"),o=S.find(e=>e.id==="border"),i=e?e.fields.map(e=>e.token):[],a=t?t.fields.map(e=>e.token):[],r=n?n.fields.map(e=>e.token):[],c=s?s.fields.map(e=>e.token):[],l=o?o.fields.map(e=>e.token):[];return{text:H(i),surface:H(a),border:H(l),primary:H(r.concat(c))}}function ht(){if(ge)return ge;const e=document.createElement("span");return e.style.position="absolute",e.style.visibility="hidden",e.style.pointerEvents="none",e.style.inset="-9999px auto auto -9999px",e.style.inlineSize="1px",e.style.blockSize="1px",e.style.color="#000",document.body.appendChild(e),ge=e,e}function ye(e,t,n){return Math.max(t,Math.min(n,e))}function _e(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function ue(e){const t=String(e||"").trim();return t?t.endsWith("%")?Number(t.slice(0,-1))/100*255:Number(t):NaN}function at(e){const t=String(e||"").trim();if(!t)return null;const s=t.match(/^rgba?\(([^)]+)\)$/i);if(s){const n=s[1].trim(),t=n.split("/")[0].trim(),e=t.includes(",")?t.split(",").map(e=>e.trim()):t.split(/\s+/).map(e=>e.trim());return e.length<3?null:{r:ue(e[0]),g:ue(e[1]),b:ue(e[2])}}const o=t.match(/^color\(\s*srgb\s+([^)]+)\)$/i);if(o){const n=o[1].split("/")[0].trim(),t=n.split(/\s+/).map(e=>e.trim());if(t.length<3)return null;const e=t.map(e=>e.endsWith("%")?Number(e.slice(0,-1))/100:Number(e));return e.some(e=>Number.isNaN(e))?null:{r:e[0]*255,g:e[1]*255,b:e[2]*255}}const n=t.match(/^oklch\(\s*([0-9.]+)%\s+([0-9.]+)\s+([0-9.]+)(?:deg)?(?:\s*\/\s*[0-9.]+%?)?\s*\)$/i);if(n){const e=Number(n[1])/100,t=Number(n[2]),s=Number(n[3])*(Math.PI/180);if([e,t,s].some(e=>Number.isNaN(e)))return null;const o=t*Math.cos(s),i=t*Math.sin(s),a=e+.3963377774*o+.2158037573*i,r=e-.1055613458*o-.0638541728*i,c=e-.0894841775*o-1.291485548*i,l=a*a*a,d=r*r*r,u=c*c*c,h=4.0767416621*l-3.3077115913*d+.2309699292*u,m=-1.2684380046*l+2.6097574011*d-.3413193965*u,f=-.0041960863*l-.7034186147*d+1.707614701*u;return{r:ye(_e(h),0,1)*255,g:ye(_e(m),0,1)*255,b:ye(_e(f),0,1)*255}}return null}function pt(e){const t=String(e||"").trim().match(/^var\(\s*(--[A-Za-z0-9-_]+)(?:\s*,\s*(.+))?\)$/);return t?{name:t[1],fallback:t[2]?String(t[2]).trim():""}:null}function Ce(e,t,n){const o=typeof n=="number"?n:0;if(o>8)return String(e||"").trim();const i=String(e||"").trim();if(!i)return"";const s=pt(i);if(!s)return i;const a=t.getPropertyValue(s.name).trim();return a?Ce(a,t,o+1):s.fallback?Ce(s.fallback,t,o+1):""}function ot(e){if(!e)return null;const t=ht(),o=getComputedStyle(document.documentElement),n=Ce(e,o,0);if(!n)return null;t.style.color="",t.style.color=String(n);const i=getComputedStyle(t).color,s=at(i);return s||at(n)}function nt(e){if(!e)return 0;const t=e=>{const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(e.r)+.7152*t(e.g)+.0722*t(e.b)}function gt(e,t){const n=ot(e),s=ot(t);if(!n||!s)return null;const o=nt(n),i=nt(s),a=Math.max(o,i),r=Math.min(o,i);return(a+.05)/(r+.05)}function vt(e){return!e||!isFinite(e)?"-":e.toFixed(2)+":1"}function mt(){if(!Ee)return;const e=document.documentElement.lang==="sv",n=[{label:"--surface-page / --text-default",foreground:"--text-default",background:"--surface-page",threshold:4.5,requirement:"text"},{label:"--surface-default / --text-default",foreground:"--text-default",background:"--surface-default",threshold:4.5,requirement:"text"},{label:"--primary / --on-primary",foreground:"--on-primary",background:"--primary",threshold:4.5,requirement:"text"},{label:"--action / --on-action",foreground:"--on-action",background:"--action",threshold:4.5,requirement:"text"},{label:"--component-nav-cta-bg / --component-nav-cta-text",foreground:"--component-nav-cta-text",background:"--component-nav-cta-bg",threshold:4.5,requirement:"text"},{label:"--surface-default / --border-default",foreground:"--border-default",background:"--surface-default",threshold:3,requirement:"non-text"},{label:"--surface-page / --border-strong",foreground:"--border-strong",background:"--surface-page",threshold:3,requirement:"non-text"}],t=getComputedStyle(document.documentElement);Ee.innerHTML="",n.forEach(n=>{const l=t.getPropertyValue(n.foreground).trim(),d=t.getPropertyValue(n.background).trim(),i=gt(l,d),c=Boolean(i&&i>=n.threshold),s=document.createElement("div");s.className="palette-generator__contrast-item";const a=document.createElement("div");a.className="palette-generator__contrast-pair",a.textContent=n.label;const r=document.createElement("div");r.className="palette-generator__contrast-ratio",r.textContent=(e?"Kontrast: ":"Contrast: ")+vt(i);const o=document.createElement("div");o.className="palette-generator__contrast-status",o.setAttribute("data-pass",c?"true":"false");const u=n.requirement==="non-text"?e?"AA UI/non-text (3:1)":"AA UI/non-text (3:1)":e?"AA normal text (4.5:1)":"AA normal text (4.5:1)";o.textContent=u+": "+(c?"Pass":"Fail"),s.appendChild(a),s.appendChild(r),s.appendChild(o),Ee.appendChild(s)})}function b(e){return e?String(e):"auto"}function Ft(e){const t=v(),s=window.CotyScaleActions;if(!t||!s||typeof s.getEntry!="function")return{lightChanged:!1,darkChanged:!1,lightBase:"auto",lightCurrent:"auto",darkBase:"auto",darkCurrent:"auto"};const o=s.getEntry(t);if(!o)return{lightChanged:!1,darkChanged:!1,lightBase:"auto",lightCurrent:"auto",darkBase:"auto",darkCurrent:"auto"};const n=w.find(t=>t.token===e);if(!n)return{lightChanged:!1,darkChanged:!1,lightBase:"auto",lightCurrent:"auto",darkBase:"auto",darkCurrent:"auto"};const i=g(be(o),t),a=g(f(t),t),r=b((i.overrides_light||{})[n.key]||""),c=b((a.overrides_light||{})[n.key]||""),l=b((i.overrides_dark||{})[n.key]||""),d=b((a.overrides_dark||{})[n.key]||"");return{lightChanged:r!==c,darkChanged:l!==d,lightBase:r,lightCurrent:c,darkBase:l,darkCurrent:d}}function $t(){if(!O)return;const t=document.documentElement.lang==="sv",n=v(),h=window.CotyScaleActions;if(!n||!h||typeof h.getEntry!="function"){O.textContent=t?"Ingen Ã¥rsdata tillgÃ¤nglig.":"No year data available.";return}const _=h.getEntry(n);if(!_){O.textContent=t?"Ingen Ã¥rsdata tillgÃ¤nglig.":"No year data available.";return}const o=g(be(_),n),i=g(f(n),n),r={};w.forEach(e=>{r[e.key]=e.token});const e=[];(o.role_mode||"auto")!==(i.role_mode||"auto")&&e.push({mode:"all",token:"--coty-role-mode",base:b(o.role_mode),current:b(i.role_mode)}),String(o.anchor_step||"")!==String(i.anchor_step||"")&&e.push({mode:"all",token:"--coty-anchor-step",base:b(o.anchor_step),current:b(i.anchor_step)}),["light","dark"].forEach(t=>{const n=o["overrides_"+t]||{},s=i["overrides_"+t]||{};Object.keys(r).forEach(o=>{const i=b(n[o]||""),a=b(s[o]||"");if(i===a)return;e.push({mode:t,token:r[o],base:i,current:a})})});const m=e.filter(e=>e.mode==="light").length,y=e.filter(e=>e.mode==="dark").length,j=e.filter(e=>e.mode==="all").length,p=e.slice();O.innerHTML="";const s=document.createElement("div");s.className="palette-generator__diff-summary";const a=document.createElement("span");a.className="palette-generator__diff-badge",a.textContent=t?"Totalt: "+e.length:"Total: "+e.length;const u=document.createElement("span");u.className="palette-generator__diff-badge",u.textContent=t?"Light: "+m:"Light: "+m;const d=document.createElement("span");d.className="palette-generator__diff-badge",d.textContent=t?"Dark: "+y:"Dark: "+y;const l=document.createElement("span");if(l.className="palette-generator__diff-badge",l.textContent=t?"Globalt: "+j:"Global: "+j,s.appendChild(a),s.appendChild(u),s.appendChild(d),s.appendChild(l),O.appendChild(s),!p.length){const e=document.createElement("p");e.className="palette-generator__hint",e.textContent=t?"Inga avvikelser mot bas fÃ¶r Ã¥r "+n+".":"No differences vs base for year "+n+".",O.appendChild(e);return}const c=document.createElement("div");c.className="palette-generator__diff-list",p.forEach(e=>{const s=document.createElement("article");s.className="palette-generator__diff-item";const n=document.createElement("div");n.className="palette-generator__diff-token",n.textContent=(e.mode==="all"?"[all] ":"["+e.mode+"] ")+e.token,n.tabIndex=0,n.setAttribute("role","button"),n.setAttribute("data-token",e.token),n.setAttribute("aria-label",(t?"Visa usage fÃ¶r ":"Show usage for ")+e.token),n.addEventListener("click",()=>{he(e.token,{focus:!0}),Z()}),n.addEventListener("keydown",t=>{if(t.key!=="Enter"&&t.key!==" ")return;t.preventDefault(),he(e.token,{focus:!0}),Z()});const o=document.createElement("div");o.className="palette-generator__diff-value";const a=document.createElement("strong");a.textContent="base: ";const r=document.createElement("span");r.textContent=e.base,o.appendChild(a),o.appendChild(r);const i=document.createElement("div");i.className="palette-generator__diff-value";const l=document.createElement("strong");l.textContent="current: ";const d=document.createElement("span");d.textContent=e.current,i.appendChild(l),i.appendChild(d),s.appendChild(n),s.appendChild(o),s.appendChild(i),c.appendChild(s)}),O.appendChild(c)}function ft(){if(!d)return;const e=H(w.map(e=>e.token).concat(Object.keys(Pe))),t=d.value;d.innerHTML="",e.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,d.appendChild(t)}),e.indexOf(t)>-1?d.value=t:d.value=e[0]||""}function Wt(){if(!ne)return;const e=ne.closest("details");e&&(e.open=!0),ne.scrollIntoView({behavior:"smooth",block:"nearest"})}function he(e,t){if(!d||!e)return;const n=d.querySelector('option[value="'+e+'"]');if(!n)return;d.value=e;const s=t||{};s.focus&&Wt()}function Z(){if(!ne||!A)return;const t=document.documentElement.lang==="sv",s=d?d.value:"";if(A.innerHTML="",!s){const e=document.createElement("p");e.className="palette-generator__hint",e.textContent=t?"VÃ¤lj en token.":"Select a token.",A.appendChild(e);return}const l=getComputedStyle(document.documentElement),u=l.getPropertyValue(s).trim()||"auto",o=Pe[s]||[],n=document.createElement("div");n.className="palette-generator__diff-summary";const i=document.createElement("span");i.className="palette-generator__diff-badge",i.textContent=(t?"Aktuellt vÃ¤rde: ":"Current value: ")+u;const a=document.createElement("span");a.className="palette-generator__diff-badge",a.textContent=(t?"Referenser: ":"References: ")+o.length;const e=Ft(s),r=document.createElement("span");r.className="palette-generator__diff-badge",r.textContent=t?"Light: "+(e.lightChanged?"Ã¤ndrad":"bas"):"Light: "+(e.lightChanged?"changed":"base");const c=document.createElement("span");if(c.className="palette-generator__diff-badge",c.textContent=t?"Dark: "+(e.darkChanged?"Ã¤ndrad":"bas"):"Dark: "+(e.darkChanged?"changed":"base"),n.appendChild(i),n.appendChild(a),n.appendChild(r),n.appendChild(c),A.appendChild(n),e.lightChanged||e.darkChanged){const n=document.createElement("article");n.className="palette-generator__usage-item";const s=document.createElement("div");s.className="palette-generator__usage-file",s.textContent=t?"Diff mot bas fÃ¶r token":"Diff against base for token",n.appendChild(s);const o=document.createElement("div");o.className="palette-generator__usage-selector",o.textContent="light: "+e.lightBase+" -> "+e.lightCurrent,n.appendChild(o);const i=document.createElement("div");i.className="palette-generator__usage-selector",i.textContent="dark: "+e.darkBase+" -> "+e.darkCurrent,n.appendChild(i),A.appendChild(n)}if(!o.length){const e=document.createElement("p");e.className="palette-generator__hint",e.textContent=t?"Ingen usage-mappning Ã¤nnu fÃ¶r denna token.":"No usage mapping yet for this token.",A.appendChild(e);return}o.forEach(e=>{const t=document.createElement("article");t.className="palette-generator__usage-item";const n=document.createElement("div");n.className="palette-generator__usage-file",n.textContent=e.file||"";const s=document.createElement("div");if(s.className="palette-generator__usage-selector",s.textContent=e.selector||"",t.appendChild(n),t.appendChild(s),e.note){const n=document.createElement("div");n.className="palette-generator__usage-note",n.textContent=e.note,t.appendChild(n)}A.appendChild(t)})}function Vt(){return{enabled:Boolean(n.enabled),color:n.color,scope:n.scope,token:n.token}}function K(){try{localStorage.setItem(Ye,JSON.stringify(Vt()))}catch{}}function Bt(){try{const t=localStorage.getItem(Ye);if(!t)return;const e=JSON.parse(t);if(!e||typeof e!="object")return;n.enabled=Boolean(e.enabled),n.color=typeof e.color=="string"?e.color:n.color,n.scope=typeof e.scope=="string"?e.scope:n.scope,n.token=typeof e.token=="string"?e.token:n.token}catch{}}function Be(){Te.forEach(e=>{document.documentElement.style.removeProperty(e)}),Te.clear()}function Ve(){const e=bt();return n.scope==="text"?e.text:n.scope==="surface"?e.surface:n.scope==="border"?e.border:n.scope==="token"?n.token?[n.token]:[]:e.primary}function It(){if(!rt)return;const e=document.documentElement.lang==="sv",t=Ve().length,s=n.enabled?e?"aktiv":"active":e?"av":"off";rt.textContent=e?"PÃ¥verkade tokens: "+t+" ("+s+")":"Affected tokens: "+t+" ("+s+")"}function We(){if(Be(),!n.enabled)return;if(h()!=="pantone")return;const e=Ve();e.forEach(e=>{document.documentElement.style.setProperty(e,n.color),Te.add(e)})}function Nt(){if(!j)return;const e=H(w.map(e=>e.token));j.innerHTML="",e.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,j.appendChild(t)}),e.indexOf(n.token)>-1?j.value=n.token:(n.token=e[0]||"",j.value=n.token)}function Y(){U&&(U.value=n.color),$&&($.value=n.scope),j&&(j.value=n.token),we&&(n.scope==="token"?we.removeAttribute("hidden"):we.setAttribute("hidden","")),oe&&M(oe,n.enabled,{on:document.documentElement.lang==="sv"?"Aktiv":"Active",off:document.documentElement.lang==="sv"?"Aktivera":"Enable"}),It()}function i(){se()==="pantone"?(J(),fe()):Ue(Se(),se(),Oe(se())),We(),$t(),mt(),Z(),qe(),et()}function L(e){return"var(--"+e+")"}function t(e,t){return L(e+"-"+t)}function p(e,t){document.documentElement.style.setProperty(e,t),Fe.add(e),Ke[e]=t}function J(){Fe.forEach(e=>{document.documentElement.style.removeProperty(e),delete Ke[e]}),Fe.clear()}function a(e,t){if(!e)return"";if(e.indexOf(".")>-1){const s=e.split("."),n=s[0],o=s[1];if(t[n]&&t[n][o])return t[n][o]}return L(e)}function xt(e,t){return typeof e!="string"?String(e):e.indexOf(".")>-1?a(e,t):e.indexOf("(")>-1?e:L(e)}function Se(){return{text:r.text.value,surface:r.surface.value,border:r.border.value,primary:r.primary.value,secondary:r.secondary.value}}function V(){return de(E)?"duo":"mono"}function ke(){try{const t=localStorage.getItem(He);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e}catch{return null}}function st(){return Boolean(ke())}function G(e){if(window.ThemeActions&&typeof window.ThemeActions.setPalette=="function"){window.ThemeActions.setPalette(e);return}document.documentElement.setAttribute("data-palette",e),window.CotyScaleActions&&(e==="pantone"&&typeof window.CotyScaleActions.applyForMode=="function"?window.CotyScaleActions.applyForMode(document.documentElement.getAttribute("data-mode")||"light"):e!=="pantone"&&typeof window.CotyScaleActions.clearRuntime=="function"&&window.CotyScaleActions.clearRuntime());try{localStorage.setItem("theme-palette",e)}catch{}}function xe(){if(!o)return;const t=st(),e=o.querySelector('option[value="custom"]');if(t&&!e){const e=document.createElement("option");e.value="custom",e.textContent=Ge,o.appendChild(e)}if(!t&&e){const t=o.value==="custom";e.remove(),t&&(o.value=o.options.length?o.options[0].value:"")}}function Oe(e){const t=_[e]||{},n=t.policies||{},s=e==="pantone";return{tone_mode:V(),surface_profile:wt()||x(n,"surface_profile","standard"),form_policy:de(C)?"surface-derived":"neutral",image_treatment:s?"pantone-blend":"none"}}function x(e,t,n){return!e||typeof e[t]=="undefined"?n:e[t]}function se(){return h()==="pantone"?"pantone":o?o.value:"standard"}function ie(){const t=V();if(!r.secondary||!r.primary)return;const e=t==="duo";r.secondary.disabled=!e,e||(r.secondary.value=r.primary.value)}function dt(e){return e?String(e).trim():""}function je(){const e=document.documentElement.getAttribute("data-mode")||"light";return e==="dark"?"dark":"light"}function St(){if(!W)return;W.innerHTML="",S.forEach(e=>{const t=document.createElement("details");t.className="accordion-nested palette-generator__coty-group",t.setAttribute("data-group-id",e.id),t.open=!0;const n=document.createElement("summary");n.className="accordion-nested__trigger";const s=document.createElement("h4");s.className="palette-generator__coty-group-title type-body-large",s.textContent=e.label,n.appendChild(s),t.appendChild(n);const o=document.createElement("div");o.className="accordion-nested__content palette-generator__grid palette-generator__grid--coty-overrides",e.fields.forEach(e=>{const t=document.createElement("div");t.className="palette-generator__row";const i="coty-override-"+e.key,n=document.createElement("label");n.className="palette-generator__label",n.setAttribute("for",i),n.textContent=e.token;const s=document.createElement("select");s.id=i,s.setAttribute("data-js","coty-override-"+e.key),t.appendChild(n),t.appendChild(s),o.appendChild(t),l[e.key]=s}),t.appendChild(o),W.appendChild(t)})}function v(){return s?Number(s.value)||0:0}function ut(e){const t=window.CotyScaleActions;if(!t||typeof t.getEntry!="function")return!1;const n=t.getEntry(Number(e)||v());return Boolean(n&&n.tone_mode==="duo")}function it(e){return ut(e)?lt.concat(yt):lt.slice()}function D(e){const t=it(e),n=new Set(t),s=ut(e);if(Object.keys(l).forEach(e=>{const s=l[e];if(!s)return;const o=s.value||"";s.innerHTML="",t.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e||"auto",s.appendChild(t)}),s.value=n.has(o)?o:""}),!W)return;const o=W.querySelectorAll('[data-group-id="secondary"]');o.forEach(e=>{s?e.removeAttribute("hidden"):e.setAttribute("hidden","")})}function et(){const e=getComputedStyle(document.documentElement).getPropertyValue("--coty-source-step").trim(),t=getComputedStyle(document.documentElement).getPropertyValue("--coty-secondary-source-step").trim(),n=document.documentElement.lang==="sv",s=n?" (source)":" (source)",o=n?" (sekundÃ¤r source)":" (secondary source)";Object.keys(l).forEach(n=>{const i=l[n];if(!i)return;Array.from(i.options).forEach(n=>{const i=n.value||"";if(!i){n.textContent="auto";return}let a=i;e&&i==="--coty-"+e&&(a+=s),t&&i==="--coty-secondary-"+t&&(a+=o),n.textContent=a})})}function be(e){const s=e&&e.overrides&&typeof e.overrides=="object"?e.overrides:{},t=e&&e.overrides_light&&typeof e.overrides_light=="object"?e.overrides_light:{},o=e&&e.overrides_dark&&typeof e.overrides_dark=="object"?e.overrides_dark:{},i=Object.keys(t).length?t:s,a=o,r=(e,t)=>{const n=[t.key,t.key.replace(/_/g,"-"),t.token].concat(t.legacyKeys||[]);for(let t=0;t<n.length;t+=1){const s=n[t];if(typeof e[s]!="undefined")return dt(e[s])}return""},n=e=>w.reduce((t,n)=>{const s=r(e,n);return s&&(t[n.key]=s),t},{});return{role_mode:e&&e.role_mode?String(e.role_mode):"auto",anchor_step:e&&e.anchor_step?Number(e.anchor_step):"",overrides_light:n(i),overrides_dark:n(a)}}function jt(e){const o=je(),t=Object.assign({role_mode:"auto",anchor_step:"",overrides_light:{},overrides_dark:{}},e||{}),n=o==="dark"?"overrides_dark":"overrides_light",s=Object.assign({},t[n]||{});Object.keys(l).forEach(e=>{s[e]=l[e]&&l[e].value||""}),t[n]=s;const i=u?u.value:t.anchor_step?String(t.anchor_step):"";return{role_mode:I&&I.value||t.role_mode||"auto",anchor_step:i,overrides_light:t.overrides_light||{},overrides_dark:t.overrides_dark||{}}}function P(e){const n=je(),t=e||{role_mode:"auto",anchor_step:"",overrides_light:{},overrides_dark:{}},s=n==="dark"?t.overrides_dark||{}:t.overrides_light||{};I&&(I.value=t.role_mode||"auto"),u&&(u.value=t.anchor_step?String(t.anchor_step):""),Object.keys(l).forEach(e=>{const t=l[e];if(!t)return;t.value=s[e]||""})}function f(e){const t=Number(e)||0;if(!t)return null;if(m[t])return m[t];const s=Ct(t);if(s)return m[t]=g(s,t),m[t];const n=window.CotyScaleActions,o=n&&typeof n.getEntry=="function"?n.getEntry(t):null,i=be(o);return m[t]=g(i,t),m[t]}function g(e,t){const n=e||{role_mode:"auto",anchor_step:"",overrides_light:{},overrides_dark:{}},s=String(n.role_mode||"auto").toLowerCase(),a=s==="primary"||s==="surface"?s:"auto",o=Number(n.anchor_step||0),r=o>=1&&o<=12?o:"",c=new Set(it(Number(t)||v())),i=e=>{const t={};return Object.keys(l).forEach(n=>{const s=dt(e&&e[n]);if(!s)return;if(!c.has(s))return;t[n]=s}),t},d=i(n.overrides_light||{}),u=i(n.overrides_dark||{});return{role_mode:a,anchor_step:r,overrides_light:d,overrides_dark:u}}function Ot(e){const t=je();return{mode:t,role_mode:e.role_mode,anchor_step:e.anchor_step,overrides_light:e.overrides_light||{},overrides_dark:e.overrides_dark||{}}}function pe(e){return Re+String(Number(e)||"")}function Ct(e){const t=Number(e)||0;if(!t)return null;try{const n=localStorage.getItem(pe(t));if(!n)return null;const e=JSON.parse(n);return!e||typeof e!="object"?null:g(e,t)}catch{return null}}function Et(e,t){const n=Number(e)||0;if(!n)return;try{localStorage.setItem(pe(n),JSON.stringify(g(t,n)))}catch{}}function kt(e){const t=Number(e)||0;if(!t)return;try{localStorage.removeItem(pe(t))}catch{}}function At(){try{const e=[];for(let t=0;t<localStorage.length;t+=1){const n=localStorage.key(t);n&&n.indexOf(Re)===0&&e.push(n)}e.forEach(e=>localStorage.removeItem(e))}catch{}}function fe(){const e=v();if(!e)return;const n=g(f(e),e),t=Ot(n);window.ThemeActions&&typeof window.ThemeActions.setCotyYear=="function"?window.ThemeActions.setCotyYear(e,{entryOverride:t,silent:!0}):window.CotyScaleActions&&typeof window.CotyScaleActions.setYear=="function"&&window.CotyScaleActions.setYear(e,{entryOverride:t,skipStorage:!0})}function ee(){if(!Q)return;Q.removeAttribute("hidden")}function qe(){if(!ve)return;const e=document.documentElement.lang==="sv",n=getComputedStyle(document.documentElement).getPropertyValue("--coty-source-step").trim(),s=getComputedStyle(document.documentElement).getPropertyValue("--coty-secondary-source-step").trim(),t=u?(u.value||"").trim():"";if(!n){ve.textContent=e?"Source: --coty-?":"Source: --coty-?";return}const o=e?"Source i skalan: --coty-":"Source in scale: --coty-",i=s?" Â· duo: --coty-secondary-"+s:"",a=t?e?" Â· manuell anchor: --coty-"+t:" Â· manual anchor: --coty-"+t:"";ve.textContent=o+n+i+a}function Tt(){if(h()!=="pantone")return"";const n=v();if(!n)return"";const o=window.CotyScaleActions,s=o&&typeof o.getEntry=="function"?o.getEntry(n):null;if(!s)return"";const e=g(f(n),n),t=["[[colors]]","year = "+n,'name = "'+(s.primary_name||s.name||"")+'"','hex = "'+(s.primary_hex||s.hex||"")+'"'];e.role_mode!=="auto"&&t.push('role_mode = "'+e.role_mode+'"'),e.anchor_step&&t.push("anchor_step = "+e.anchor_step);const i=w.map(e=>e.key).filter(t=>e.overrides_light&&e.overrides_light[t]),a=w.map(e=>e.key).filter(t=>e.overrides_dark&&e.overrides_dark[t]);return i.length&&(t.push(""),t.push("[colors.overrides_light]"),i.forEach(n=>{t.push(n+' = "'+e.overrides_light[n]+'"')})),a.length&&(t.push(""),t.push("[colors.overrides_dark]"),a.forEach(n=>{t.push(n+' = "'+e.overrides_dark[n]+'"')})),t.join(`
`)}function zt(){if(!s)return;const e=window.CotyScaleActions;if(!e||typeof e.getEntries!="function"){s.disabled=!0,Q&&Q.setAttribute("hidden","");return}const a=e.getEntries();if(s.innerHTML="",a.forEach(e=>{const t=document.createElement("option");t.value=String(e.year),t.textContent=String(e.year)+" â€” "+e.name,s.appendChild(t)}),u){u.innerHTML="";const e=document.createElement("option");e.value="",e.textContent="auto",u.appendChild(e);for(let e=1;e<=12;e+=1){const t=document.createElement("option");t.value=String(e),t.textContent=String(e),u.appendChild(t)}}s.value=String(e.getCurrentYear()),D(s.value),P(f(s.value)),i();const n=()=>{D(s.value),P(f(s.value)),i()};s.addEventListener("change",n);function t(e){if(!s)return;const t=Array.from(s.options).map(e=>e.value);if(!t.length)return;const o=t.indexOf(s.value),i=o<0?0:o,a=(i+e+t.length)%t.length;s.value=t[a],n()}tt&&tt.addEventListener("click",()=>t(-1)),De&&De.addEventListener("click",()=>t(1)),ae&&ae.addEventListener("click",()=>{if(!s)return;const e=Array.from(s.options).map(e=>e.value);if(e.length<=1)return;const o=s.value,t=e.filter(e=>e!==o),i=Math.floor(Math.random()*t.length);s.value=t[i],n()}),window.addEventListener("keydown",e=>{if(h()!=="pantone")return;const n=e.target,s=n&&n.tagName?n.tagName:"",o=n&&n.getAttribute&&n.getAttribute("contenteditable")==="true"||s==="INPUT"||s==="TEXTAREA"||s==="SELECT";if(o||!e.altKey)return;if(e.key==="ArrowLeft"){e.preventDefault(),t(-1);return}if(e.key==="ArrowRight"){e.preventDefault(),t(1);return}e.key.toLowerCase()==="r"&&ae&&(e.preventDefault(),ae.click())});const o=()=>{const e=v();if(!e)return;const t=f(e);m[e]=g(jt(t),e),Et(e,m[e]),i()};I&&I.addEventListener("change",o),u&&u.addEventListener("change",o),Object.keys(l).forEach(e=>{const t=l[e];if(!t)return;t.addEventListener("change",()=>{const t=w.find(t=>t.key===e);t&&he(t.token),o()})}),T&&T.addEventListener("click",()=>{const e=v();if(!e)return;delete m[e],kt(e),D(e),P(f(e)),i()}),R&&R.addEventListener("click",()=>{Object.keys(m).forEach(e=>{delete m[e]}),At();const e=v();D(e),P(f(e)),i()})}function Dt(){if(!U||!$||!j)return;Bt(),Nt(),Y(),U.addEventListener("input",()=>{n.color=U.value||"#ff4d4d",K(),i()}),$.addEventListener("change",()=>{n.scope=$.value||"primary",Y(),K(),i()}),j.addEventListener("change",()=>{n.token=j.value||"",K(),i()}),oe&&oe.addEventListener("click",()=>{n.enabled=!n.enabled,Y(),K(),i()}),ct&&ct.addEventListener("click",()=>{n.enabled=!1,Y(),K(),i()})}function Ue(e,n,s){const h=c.roles.text,d=c.roles.surface,u=c.roles.border||{},g=c.roles.primary,M=c.roles.secondary,O=_[n]||{},S=O.overrides||{},w=O.component_overrides||{},D=O.policies||{},b=Object.assign({},D,s||{}),v=b.tone_mode||V(),r={text:e.text,surface:e.surface,border:e.border||e.surface,primary:e.primary,secondary:v==="duo"?e.secondary:e.primary},o={text:{default:t(r.text,h.default_step),muted:"",inverse:L(h.inverse_token),link:"",link_hover:""},surface:{page:t(r.surface,d.page_step),surface:t(r.surface,d.surface_step),muted_text:t(r.surface,d.muted_text_step||10),tag:t(r.surface,d.tag_step),tag_hover:t(r.surface,d.tag_hover_step),border_subtle:""},border:{subtle:"",default:"",strong:""},action:{base:"",on:""},primary:{base:t(r.primary,g.base_step),strong:t(r.primary,g.strong_step),hover:t(r.primary,g.hover_step||g.strong_step),on:L(g.on_token)},secondary:{base:t(r.secondary,M.base_step),strong:t(r.secondary,M.strong_step)}};o.text.link=h.link_source?a(h.link_source,o):t(r.text,h.link_step),o.text.link_hover=h.link_hover_source?a(h.link_hover_source,o):t(r.text,h.link_hover_step),o.text.muted="color-mix(in oklch, "+L("gray-11")+" 60%, "+t(r.surface,d.surface_ink_strong_step||d.tag_text_step||11)+")",o.surface.border_subtle=d.border_subtle_source?a(d.border_subtle_source,o):t(r.surface,d.border_subtle_step),o.border.subtle=u.subtle_source?a(u.subtle_source,o):t(r.border,u.subtle_step||4),o.border.default=u.default_source?a(u.default_source,o):t(r.border,u.default_step||6),o.border.strong=u.strong_source?a(u.strong_source,o):t(r.border,u.strong_step||8),o.action.base=o.text.default,o.action.on=o.surface.page,v==="duo"&&(o.action.base=o.primary.base,o.action.on=o.primary.on);const E=x(b,"surface_profile","standard"),j=x(b,"form_policy","neutral"),y=x(b,"image_treatment","none"),m=window.ThemeDerive&&typeof window.ThemeDerive.derivePaletteTokens=="function"?window.ThemeDerive.derivePaletteTokens({roles:r,policies:{tone_mode:v,surface_profile:E,form_policy:j,image_treatment:y},component_overrides:w}):null;E==="deep"&&(o.surface.page=t(r.surface,2),o.surface.surface=t(r.surface,4),o.surface.tag=t(r.surface,4),o.surface.tag_hover=t(r.surface,5),o.surface.border_subtle=t(r.surface,5)),o.text.link=o.primary.strong,o.text.link_hover=o.primary.hover,J();const z=e=>m&&m[e]||"",i=(e,t)=>{p(e,z(e)||t)};i("--primary",o.primary.base),i("--primary-strong",o.primary.strong),i("--on-primary",o.primary.on),i("--action",o.action.base),i("--on-action",o.action.on),i("--secondary",o.secondary.base),i("--secondary-strong",o.secondary.strong),i("--on-secondary",o.text.default),i("--text-accent",a(h.accent_source,o)),i("--component-toc-active-indicator",o.primary.base),i("--component-section-headline-bg",o.primary.base),i("--text-default",o.text.default),i("--text-tag",t(r.surface,d.tag_text_step||11)),i("--surface-ink-strong",t(r.surface,d.surface_ink_strong_step||d.tag_text_step||11)),i("--text-muted",o.text.muted),i("--text-link",o.text.link),i("--text-link-hover",o.text.link_hover),i("--text-inverse",o.text.inverse),i("--surface-page",o.surface.page),i("--surface-default",o.surface.surface),i("--surface-tag",o.surface.tag),i("--surface-tag-hover",o.surface.tag_hover),i("--bg-page",o.surface.page),i("--bg-surface",o.surface.surface),i("--bg-tag",o.surface.tag),i("--bg-tag-hover",o.surface.tag_hover),i("--border-subtle",o.border.subtle),i("--border-default",o.border.default),i("--border-strong",o.border.strong),i("--state-focus",a(c.roles.state.focus_source,o)),i("--state-selected",a(c.roles.state.selected_source,o));const A=window.ThemeDerive&&window.ThemeDerive.deriveImageTokens;if(typeof A=="function"){const e=A({roles:r,policies:{image_treatment:y},mode:document.documentElement.getAttribute("data-mode")||"light"});Object.keys(e).forEach(t=>p(t,e[t]))}else y==="pantone-blend"?(p("--image-grayscale","100%"),p("--image-blend-mode","screen"),document.documentElement.getAttribute("data-mode")==="dark"?p("--image-background",t(r.surface,7)):p("--image-background",t(r.surface,12))):(p("--image-grayscale","0%"),p("--image-blend-mode","normal"),p("--image-background","transparent"));const F=w.nav_cta_bg_source||"primary.base",T=w.nav_cta_text_source||"primary.on";i("--component-nav-cta-bg",a(F,o)),i("--component-nav-cta-text",a(T,o));const f=c.roles.component.form;let k=f.bg_source?a(f.bg_source,o):t(r.surface,f.bg_step),C=f.placeholder_source?a(f.placeholder_source,o):t(r.surface,f.placeholder_step);j==="surface-derived"&&(k=t(r.surface,3),C=m&&m["--component-form-placeholder"]?m["--component-form-placeholder"]:o.text.muted),j!=="surface-derived"&&m&&m["--component-form-placeholder"]&&(C=m["--component-form-placeholder"]),i("--component-form-bg",k),p("--component-form-placeholder",C);const l=c.roles.component.newsletter,N=l.bg_source?a(l.bg_source,o):t(r.surface,l.bg_step),R=l.text_source?a(l.text_source,o):t(r.surface,l.text_step),P=l.illustration_bg_source?a(l.illustration_bg_source,o):t(r.surface,l.illustration_bg_step),H=l.button_bg_source?a(l.button_bg_source,o):t(r.surface,l.button_bg_step),I=l.button_text_source?a(l.button_text_source,o):t(r[l.button_text_role||"primary"],l.button_text_step);i("--component-newsletter-bg",N),i("--component-newsletter-text",R),i("--component-newsletter-illustration-bg",P),i("--component-newsletter-button-bg",H),i("--component-newsletter-button-text",I),Object.keys(S).forEach(e=>{const t="--"+e.replace(/_/g,"-"),n=xt(S[e],o);p(t,n)}),Ht(e,{tone_mode:v,surface_profile:E,form_policy:j,image_treatment:y})}function F(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Rt(e){if(!e.trim())return"";if(/^\s*#/.test(e))return'<span class="toml-comment">'+F(e)+"</span>";var t,n,s,i,a,r,c,o=e.match(/^\s*\[([^\]]+)\]\s*$/);return o?'<span class="toml-section-bracket">[</span><span class="toml-section">'+F(o[1])+'</span><span class="toml-section-bracket">]</span>':(t=e.match(/^(\s*)([A-Za-z0-9_.-]+)(\s*=\s*)(.*)$/),t?(i=F(t[1]||""),a='<span class="toml-key">'+F(t[2])+"</span>",r='<span class="toml-equals">'+F(t[3])+"</span>",n=t[4]||"",s="toml-value",/^".*"$/.test(n)&&(s="toml-string"),/^(true|false)$/.test(n)&&(s="toml-bool"),/^-?\d+(\.\d+)?$/.test(n)&&(s="toml-number"),c='<span class="'+s+'">'+F(n)+"</span>",i+a+r+c):F(e))}function Pt(e){return e.split(`
`).map(Rt).join(`
`)}function Ht(e,t){const n=["[roles]",'text = "'+e.text+'"','surface = "'+e.surface+'"','border = "'+(e.border||e.surface)+'"','primary = "'+e.primary+'"','secondary = "'+(V()==="duo"?e.secondary:e.primary)+'"',"","[policies]",'tone_mode = "'+(t.tone_mode||V())+'"','surface_profile = "'+(t.surface_profile||"standard")+'"','form_policy = "'+(t.form_policy||"neutral")+'"','image_treatment = "'+(t.image_treatment||"none")+'"',"","[overrides]","# add optional token overrides here","","[component_overrides]","# add optional component exceptions here"],s=Tt();s&&(n.push(""),n.push("# COTY per-year override patch"),n.push(s));const o=n.join(`
`);Me.value=o,Qe&&(Qe.innerHTML=Pt(o))}function $e(e,t){if(!e)return;e.innerHTML="",t.forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)})}function N(e){const t=_[e];if(!t||!t.roles)return;ee();const n=t.policies||{},s=x(n,"tone_mode","mono");M(E,s==="duo",{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"});const o=x(n,"surface_profile","standard");X.forEach(e=>{e.checked=e.value===o}),M(C,x(n,"form_policy","neutral")==="surface-derived",{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"}),Object.keys(r).forEach(e=>{const n=r[e];if(!n)return;if(t.roles[e]){n.value=t.roles[e];return}e==="border"&&(n.value=t.roles.surface||n.value)}),ie(),e==="pantone"?(J(),fe()):Ue(Se(),e,Oe(e)),We(),qe(),et()}function me(){const e=ke();if(!e||!e.roles)return!1;const t=e.roles,n=e.policies||{};return M(E,(n.tone_mode||"mono")==="duo",{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"}),X.forEach(e=>{e.checked=e.value===(n.surface_profile||"standard")}),M(C,(n.form_policy||"neutral")==="surface-derived",{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"}),Object.keys(r).forEach(e=>{const n=r[e];if(!n)return;if(t[e]){n.value=t[e];return}e==="border"&&t.surface&&(n.value=t.surface)}),ie(),i(),!0}Object.entries(r).forEach(([e,t])=>{$e(t,Ie),t.addEventListener("change",()=>{e==="primary"&&V()!=="duo"&&ie(),i()})}),E&&E.addEventListener("click",()=>{const e=!de(E);M(E,e,{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"}),ie(),i()}),X.forEach(e=>{e.addEventListener("change",()=>{i()})}),C&&C.addEventListener("click",()=>{const e=!de(C);M(C,e,{on:document.documentElement.lang==="sv"?"PÃ¥":"On",off:document.documentElement.lang==="sv"?"Av":"Off"}),i()}),St(),ft(),zt(),Dt(),d&&d.addEventListener("change",()=>{Z()});const q=Object.keys(_).filter(e=>e!=="pantone").sort();o.innerHTML="",q.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,o.appendChild(t)});const le=document.documentElement.getAttribute("data-palette")||"standard";o.value=q.includes(le)?le:q[0],B(le==="pantone"?"pantone":"palette"),Ze(),ze.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-tab")||"palette";B(t),re||G(t==="pantone"?"pantone":o.value),i()})}),o.addEventListener("change",()=>{if(ee(),h()!=="palette")return;!re&&h()==="palette"&&G(o.value),o.value==="custom"?me():N(o.value)}),k.addEventListener("click",()=>{Be(),J();const t=document.documentElement.getAttribute("data-palette")||"standard",e=q.includes(t)?t:q[0];o.value=e,B("palette"),G(e),N(e)}),Ae.addEventListener("click",async()=>{const e=Me.value;try{await navigator.clipboard.writeText(e)}catch{Me.select()}}),z&&z.addEventListener("click",()=>{if(h()!=="pantone")return;fe(),i()}),y&&y.addEventListener("click",()=>{if(h()==="pantone")return;const i=Se(),n=Oe(se()),s=ke()||{},t=window.ThemeDerive&&typeof window.ThemeDerive.derivePaletteTokens=="function"?window.ThemeDerive.derivePaletteTokens({roles:i,policies:n,component_overrides:s.component_overrides||{}}):{},e=window.ThemeDerive&&typeof window.ThemeDerive.derivePreview=="function"?window.ThemeDerive.derivePreview({roles:i,policies:n,component_overrides:s.component_overrides||{}}):null,a={version:2,saved_at:(new Date).toISOString(),roles:i,policies:n,overrides:s.overrides||{},component_overrides:s.component_overrides||{},preview:{primary:e&&e.primary||t["--primary-strong"]||t["--primary"]||"",surface:e&&e.surface||t["--surface-page"]||t["--bg-page"]||"",secondary:e&&e.secondary||t["--secondary-strong"]||t["--secondary"]||"",tone_mode:e&&e.toneMode||n.tone_mode||"mono"}};try{localStorage.setItem(He,JSON.stringify(a)),localStorage.setItem("theme-palette","custom")}catch{return}xe(),o.value="custom",document.documentElement.setAttribute("data-palette","custom"),window.ThemeActions&&typeof window.ThemeActions.refreshCustomPalette=="function"&&window.ThemeActions.refreshCustomPalette(),window.dispatchEvent(new Event("theme:custom-palette-updated")),window.Toast&&typeof window.Toast.show=="function"&&window.Toast.show(Mt,Ge,{icon:"icon-palette-micro"})}),xe(),ee(),Je(),le==="custom"&&h()==="palette"?(st()&&(o.value="custom"),me()):N(h()==="pantone"?"pantone":o.value),window.addEventListener("theme:palette-changed",e=>{const t=e&&e.detail?e.detail.palette:"";if(!t)return;re=!0,xe(),ee(),t==="pantone"?(B("pantone"),N("pantone")):_[t]&&t!=="pantone"?(B("palette"),o.value=t,N(t)):t==="custom"&&(B("palette"),o.querySelector('option[value="custom"]')&&(o.value="custom"),me()),re=!1}),window.addEventListener("theme:mode-changed",()=>{D(v()),P(f(v())),Y(),i()}),window.addEventListener("theme:coty-year-changed",e=>{const t=e&&e.detail?Number(e.detail.year):0;s&&t&&(s.value=String(t)),D(s?s.value:t),P(f(s?s.value:t)),i()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}();function initWritingTagFilter(){const o=new URLSearchParams(window.location.search),n=(o.get("tag")||"").trim().toLowerCase();if(!n)return;const e=window.location.pathname,t=e.endsWith("/")?e:`${e}/`,i=/(?:^|\/)writing\/$/.test(t)||/(?:^|\/)sv\/texter\/$/.test(t)||/(?:^|\/)post\/$/.test(t);if(!i)return;const s=document.querySelectorAll(".place-article > .article-card[data-tags]");if(!s.length)return;s.forEach(e=>{const t=e.closest(".place-article");if(!t)return;const s=(e.getAttribute("data-tags")||"").split(",").map(e=>e.trim().toLowerCase()).filter(Boolean),o=s.includes(n);t.hidden=!o})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initWritingTagFilter):initWritingTagFilter(),function(){const e=Array.from(document.querySelectorAll("[data-js]")).filter(e=>{const t=e.getAttribute("data-js")||"";return t.split(/\s+/).includes("tabs")});if(e.length===0)return;e.forEach(e=>{const t=Array.from(e.querySelectorAll(".tab-button[data-tab]")).filter(t=>{const n=t.closest("[data-js]"),s=n?n.getAttribute("data-js")||"":"";return n===e&&s.split(/\s+/).includes("tabs")}),s=Array.from(e.querySelectorAll(".tab-panel[data-panel]")).filter(t=>{const n=t.closest("[data-js]"),s=n?n.getAttribute("data-js")||"":"";return n===e&&s.split(/\s+/).includes("tabs")});if(t.length===0||s.length===0)return;const n=e.getAttribute("data-tabs-storage-key");function o(e){if(t.forEach(t=>{const n=t.dataset.tab===e;t.classList.toggle("is-active",n),t.setAttribute("aria-selected",n?"true":"false")}),s.forEach(t=>{const n=t.dataset.panel===e;t.classList.toggle("is-active",n)}),n)try{localStorage.setItem(n,e)}catch{}}if(t.forEach(e=>{e.hasAttribute("type")||e.setAttribute("type","button"),e.addEventListener("click",t=>{t.preventDefault(),o(e.dataset.tab)})}),n)try{const e=localStorage.getItem(n),s=Array.from(t).some(t=>t.dataset.tab===e);e&&s&&o(e)}catch{}})}(),function(){"use strict";var n=null,e=null,t=[];function f(e){var t=String(e||"").trim().replace("#","");return/^[0-9a-fA-F]{6}$/.test(t)?{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}:null}function h(e){var t=String(e||"").match(/hsl\(\s*([0-9.]+)\s*,\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*\)/i);return t?{h:Number(t[1]),s:Number(t[2])/100,l:Number(t[3])/100}:null}function u(e){var t=String(e||"").match(/oklch\(\s*([0-9.]+)%\s+([0-9.]+)\s+([0-9.]+)\s*\)/i);return t?{l:Number(t[1])/100,c:Number(t[2]),h:Number(t[3])}:null}function r(e){if(!e)return null;var n,o,i,r,c,l,a=e.h%360/360,s=e.s,t=e.l;return s===0?r=c=l=t:(o=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e},n=t<.5?t*(1+s):t+s-t*s,i=2*t-n,r=o(i,n,a+1/3),c=o(i,n,a),l=o(i,n,a-1/3)),{r:Math.round(r*255),g:Math.round(c*255),b:Math.round(l*255)}}function o(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function c(e){if(!e)return null;var d=e.h*(Math.PI/180),t=e.c*Math.cos(d),n=e.c*Math.sin(d),s=e.l+.3963377774*t+.2158037573*n,i=e.l-.1055613458*t-.0638541728*n,a=e.l-.0894841775*t-1.291485548*n,r=s*s*s,c=i*i*i,l=a*a*a,u=4.0767416621*r-3.3077115913*c+.2309699292*l,h=-1.2684380046*r+2.6097574011*c-.3413193965*l,m=-.0041960863*r-.7034186147*c+1.707614701*l;return{r:Math.round(Math.max(0,Math.min(1,o(u)))*255),g:Math.round(Math.max(0,Math.min(1,o(h)))*255),b:Math.round(Math.max(0,Math.min(1,o(m)))*255)}}function l(e){var t,n=h(e);return n?r(n):(t=u(e),t?c(t):null)}function d(e,t){if(!e||!t)return Number.POSITIVE_INFINITY;var n=e.r-t.r,s=e.g-t.g,o=e.b-t.b;return n*n+s*s+o*o}function a(e,t,n){var s,o,i,r,c,a=f(t);if(!a)return null;for(s=null,o=1;o<=12;o+=1)r=n+o,c=l(e[r]),i=d(a,c),(!s||i<s.distance)&&(s={step:o,distance:i});return s}function s(e,t,n){var o,i,a,c,r=n||{},s=document.createElement("div");return s.className="color-swatch",r.isPrimary&&s.classList.add("color-swatch--primary"),i=document.createElement("div"),i.className="color-swatch__visual",i.style.backgroundColor=t,o=document.createElement("div"),o.className="color-swatch__meta",c=document.createElement("code"),c.textContent=e,o.appendChild(c),r.isPrimary&&(a=document.createElement("span"),a.className="color-swatch__badge",a.textContent=r.primaryLabel||"Primary",o.appendChild(a)),s.appendChild(i),s.appendChild(o),s}function m(e,t,n,o){var i,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,C,E,x=t.getScaleForEntry(e,n);if(!x)return null;m=t.getSecondaryScaleForEntry(e,n),l=typeof t.getResolvedRolesForEntry=="function"?t.getResolvedRolesForEntry(e,n):null,r=a(x,e.primary_hex,"--coty-"),c=m?a(m,e.secondary_hex,"--coty-secondary-"):null,i=document.createElement("article"),i.className="pantone-year-card",f=document.createElement("div"),f.className="pantone-year-card__header",_=document.createElement("h5"),_.className="type-headline-small",_.textContent=e.year+" â€” "+e.name,b=document.createElement("p"),b.className="pantone-year-card__meta",O=e.primary_hex,e.secondary_hex&&(O+=" + "+e.secondary_hex),w="",l&&(C=l.requestedMode==="auto"?o?"auto":"auto":l.requestedMode,E=l.mode,w=" Â· mode: "+C+" -> "+E+" Â· anchor: --coty-"+l.anchor),b.textContent=O+" Â· "+(e.tone_mode==="duo"?"duo":"mono")+w,f.appendChild(_),f.appendChild(b),i.appendChild(f),g=document.createElement("p"),g.className="pantone-year-card__label",g.textContent=o?"Pantone source":"Pantone source",i.appendChild(g),h=document.createElement("div"),h.className="color-grid",h.appendChild(s("--pantone-primary-source",e.primary_hex,{isPrimary:!0,primaryLabel:o&&r?"NÃ¤rmast --coty-"+r.step:r?"Closest --coty-"+r.step:"Primary source"})),e.secondary_hex&&h.appendChild(s("--pantone-secondary-source",e.secondary_hex,{isPrimary:!0,primaryLabel:o&&c?"NÃ¤rmast --coty-secondary-"+c.step:c?"Closest --coty-secondary-"+c.step:"Secondary source"})),i.appendChild(h),p=document.createElement("p"),p.className="pantone-year-card__label",p.textContent=o?"PrimÃ¤r skala":"Primary scale",i.appendChild(p),v=document.createElement("div"),v.className="color-grid";for(u=1;u<=12;u+=1)v.appendChild(s("--coty-"+u,x["--coty-"+u],{isPrimary:Boolean(r&&u===r.step),primaryLabel:o?"NÃ¤rmast source":"Closest source"}));if(i.appendChild(v),m){j=document.createElement("p"),j.className="pantone-year-card__label",j.textContent=o?"SekundÃ¤r skala":"Secondary scale",i.appendChild(j),y=document.createElement("div"),y.className="color-grid";for(d=1;d<=12;d+=1)y.appendChild(s("--coty-secondary-"+d,m["--coty-secondary-"+d],{isPrimary:Boolean(c&&d===c.step),primaryLabel:o?"NÃ¤rmast source":"Closest source"}));i.appendChild(y)}return i}function i(){if(!n)return;if(!e||typeof e.getEntries!="function"||typeof e.getScaleForEntry!="function")return;if(!t||!t.length)return;var o=document.documentElement.getAttribute("data-mode")==="dark"?"dark":"light",i=document.documentElement.lang==="sv",s=document.createDocumentFragment();t.forEach(function(t){var n=m(t,e,o,i);n&&s.appendChild(n)}),n.innerHTML="",n.appendChild(s)}document.addEventListener("DOMContentLoaded",function(){if(n=document.querySelector('[data-js="ui-library-pantone-scales"]'),!n)return;if(e=window.CotyScaleActions,!e||typeof e.getEntries!="function"||typeof e.getScaleForEntry!="function")return;if(t=e.getEntries(),!t||!t.length)return;i(),window.addEventListener("theme:mode-changed",function(){i()})})}()