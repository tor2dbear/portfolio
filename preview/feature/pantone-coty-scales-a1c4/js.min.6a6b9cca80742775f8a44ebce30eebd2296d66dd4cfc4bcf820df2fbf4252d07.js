(function(){})(this,this.document),function(){let t=window.scrollY;const e=document.querySelector('[data-js="top-menu"]')||document.querySelector("#topmenu");if(!e)return;const n=e.offsetHeight,s=()=>e.classList.add("bottom-line"),o=()=>e.classList.remove("bottom-line");window.addEventListener("scroll",function(){t=window.scrollY,t>=n?s():o()})}(),function(){var e,i,a,d,u,h,m,f,p,g,v,l=document.documentElement,o=window,r=o.scrollY||l.scrollTop,s=0,c=0,n=0,t=document.getElementById("topmenu");if(!t)return;m=300,f=200,d=function(){e=o.scrollY||l.scrollTop,e>r?s=2:s=1,s!==c?i=p():n=e,r=e,i&&(c=s)},p=function(){return i=!0,document.getElementById("layout").classList.contains("active")?(n=e,t.classList.remove("hide")):s===2&&e<10?(n=e,t.classList.add("relative")):s===2&&e-n>m?(n=e,t.classList.add("hide"),t.classList.remove("relative")):s===1&&n-e>f?(n=e,t.classList.remove("hide"),t.classList.remove("relative")):i=!1,i},u=o.matchMedia("(max-width: 47.9375em)"),a=!1,g=function(){if(a)return;a=!0,r=o.scrollY||l.scrollTop,s=0,c=0,n=r,o.addEventListener("scroll",d)},v=function(){if(!a)return;a=!1,t.classList.remove("hide"),t.classList.remove("relative"),o.removeEventListener("scroll",d)},h=function(e){e.matches?g():v()},u.addEventListener("change",h),h(u)}(),function(){"use strict";var u="pending-toast",C=2500,g=50,e=null,t=null,s=null,i=null,a=null,l=null,n="",r=0,c=0,o=!1;function O(e){return e.getAttribute("href")||e.getAttribute("xlink:href")||e.href&&e.href.baseVal||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||""}function w(){for(var e,n=document.querySelectorAll("script[src]"),t=n.length-1;t>=0;t-=1){if(e=n[t].getAttribute("src")||n[t].src||"",!e)continue;if(e.indexOf("/js")!==-1||e.indexOf("js.")!==-1)try{return new URL("img/svg/sprite.svg?v=20260211b",e).toString()}catch{}}return"/img/svg/sprite.svg?v=20260211b"}function p(){if(n)return n;for(var e,s=document.querySelectorAll("svg use"),t=0;t<s.length;t+=1)if(e=O(s[t]),e&&e.indexOf("sprite.svg")!==-1){n=e.split("#")[0];break}return n||(n=w()),n}function m(){o=!1,r=0,c=0}function v(t){if(!e||!e.classList.contains("toast--visible"))return;if(!t.changedTouches||!t.changedTouches.length)return;o=!0,r=t.changedTouches[0].clientX,c=t.changedTouches[0].clientY}function b(e){if(!o||!e.changedTouches||!e.changedTouches.length)return;var t=e.changedTouches[0].clientY-c,n=e.changedTouches[0].clientX-r;t<0&&Math.abs(t)>Math.abs(n)&&e.preventDefault()}function j(e){if(!o||!e.changedTouches||!e.changedTouches.length)return;var t=e.changedTouches[0].clientY-c,n=e.changedTouches[0].clientX-r;m(),t<=-g&&Math.abs(t)>Math.abs(n)&&h()}function y(){return e||(e=document.createElement("div"),e.className="toast",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),t=document.createElement("span"),t.className="toast__icon",s=document.createElement("span"),s.className="toast__text",i=document.createElement("span"),i.className="toast__title",a=document.createElement("span"),a.className="toast__value",s.appendChild(i),s.appendChild(a),e.appendChild(t),e.appendChild(s),document.body.appendChild(e),e.addEventListener("touchstart",v,{passive:!0}),e.addEventListener("touchmove",b,{passive:!1}),e.addEventListener("touchend",j,{passive:!0}),e.addEventListener("touchcancel",m,{passive:!0}),e)}function _(n){if(!t)return;if(t.innerHTML="",!n){t.style.display="none",e.classList.add("toast--no-icon");return}t.style.display="",e.classList.remove("toast--no-icon");var o,a=p(),i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg");s.setAttribute("aria-hidden","true"),o=document.createElementNS(i,"use"),o.setAttribute("href",a+"#"+n),s.appendChild(o),t.appendChild(s)}function f(e,t,n){var o=n&&n.duration||C,r=n&&n.icon||"",s=y();clearTimeout(l),s.classList.remove("toast--hiding","toast--visible"),i.textContent=e||"",a.textContent=t||"",_(r),void s.offsetWidth,s.classList.add("toast--visible"),l=setTimeout(function(){h()},o)}function h(){if(!e)return;clearTimeout(l),e.classList.remove("toast--visible"),e.classList.add("toast--hiding");var t=function(){e.classList.remove("toast--hiding")};e.addEventListener("animationend",t,{once:!0}),setTimeout(t,400)}function x(e,t,n){try{localStorage.setItem(u,JSON.stringify({title:e||"",value:t||"",icon:n||""}))}catch{}}function d(){try{t=localStorage.getItem(u),t&&localStorage.removeItem(u)}catch{return}if(t)try{var t,o,e=JSON.parse(t),n=e.title||"",s=e.icon||"";e.category&&(o=document.querySelector('[data-toast-category="'+e.category+'"]'),o&&(n=o.getAttribute("data-toast-label")||n,s=o.getAttribute("data-toast-icon")||s)),setTimeout(function(){f(n,e.value,{icon:s})},300)}catch{}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):d(),window.addEventListener("pageshow",function(e){e.persisted&&d()}),window.Toast={show:f,hide:h,queue:x}}(),function(){"use strict";function t(e){return"var(--"+e+")"}function e(e,n){return t(e+"-"+n)}function s(e,n){if(!e)return"";if(e.indexOf(".")>-1){var o=e.split("."),s=o[0],i=o[1];if(n[s]&&n[s][i])return n[s][i]}return t(e)}function n(n){var i,d,u,r=n&&n.roles||{},l=n&&n.policies||{},h=n&&n.component_overrides||{},c=l.tone_mode||"mono",f=l.surface_profile||"standard",m=l.form_policy||"neutral",a={text:r.text||"gray",surface:r.surface||"gray",primary:r.primary||"gray",secondary:c==="duo"?r.secondary||r.primary||"gray":r.primary||"gray"},o={text:{default:e(a.text,12),inverse:t("white"),link:"",link_hover:"",accent:""},surface:{page:e(a.surface,1),surface:e(a.surface,2),tag:e(a.surface,3),tag_hover:e(a.surface,4),nav:"",border_subtle:"",ink_strong:e(a.surface,11)},primary:{base:e(a.primary,9),strong:e(a.primary,11),hover:e(a.primary,12),on:t("white")},secondary:{base:e(a.secondary,4),strong:e(a.secondary,8)}};return o.text.link=o.primary.strong,o.text.link_hover=o.primary.hover,o.text.accent=o.primary.strong,o.surface.nav=o.primary.base,o.surface.border_subtle=t("gray-4"),f==="deep"&&(o.surface.page=e(a.surface,2),o.surface.surface=e(a.surface,4),o.surface.tag=e(a.surface,4),o.surface.tag_hover=e(a.surface,5),o.surface.nav=e(a.surface,5),o.surface.border_subtle=e(a.surface,5)),i={},i["--accent-primary"]=o.primary.base,i["--accent-primary-strong"]=o.primary.strong,i["--accent-secondary"]=o.secondary.base,i["--accent-secondary-strong"]=o.secondary.strong,i["--brand-primary"]=o.primary.base,i["--text-accent"]=o.text.accent,i["--text-default"]=o.text.default,i["--text-tag"]=o.surface.ink_strong,i["--surface-ink-strong"]=o.surface.ink_strong,i["--text-muted"]="color-mix(in oklch, var(--gray-11) 60%, var(--surface-ink-strong))",i["--text-link"]=o.text.link,i["--text-link-hover"]=o.text.link_hover,i["--text-inverse"]=o.text.inverse,i["--text-nav"]=o.text.default,i["--bg-page"]=o.surface.page,i["--bg-surface"]=o.surface.surface,i["--bg-tag"]=o.surface.tag,i["--bg-tag-hover"]=o.surface.tag_hover,i["--bg-nav"]=o.surface.nav,i["--border-subtle"]=o.surface.border_subtle,i["--state-focus"]=o.primary.base,i["--state-selected"]=o.text.accent,i["--component-toc-active-indicator"]=c==="duo"?o.secondary.strong:o.primary.base,i["--component-section-headline-bg"]=c==="duo"?o.secondary.strong:o.primary.base,d=h.nav_cta_bg_source||"text.default",u=h.nav_cta_text_source||"surface.page",c==="duo"&&(d="primary.base",u="primary.on"),i["--component-nav-cta-bg"]=s(d,o),i["--component-nav-cta-text"]=s(u,o),i["--component-form-bg"]=m==="surface-derived"?e(a.surface,3):t("gray-2"),i["--component-form-placeholder"]=m==="surface-derived"?i["--text-muted"]:t("gray-10"),i["--component-newsletter-bg"]=e(a.surface,12),i["--component-newsletter-text"]=e(a.surface,2),i["--component-newsletter-illustration-bg"]=e(a.surface,3),i["--component-newsletter-button-bg"]=e(a.surface,4),i["--component-newsletter-button-text"]=e(a.primary,11),i}function o(e){var t=n(e);return{"--surface-ink-strong":t["--surface-ink-strong"],"--text-tag":t["--text-tag"],"--text-muted":t["--text-muted"],"--component-toc-active-indicator":t["--component-toc-active-indicator"],"--component-section-headline-bg":t["--component-section-headline-bg"],"--component-nav-cta-bg":t["--component-nav-cta-bg"],"--component-nav-cta-text":t["--component-nav-cta-text"],"--component-form-placeholder":t["--component-form-placeholder"]}}function i(e){var t=e&&e.roles||{},n=e&&e.policies||{},s=e&&e.mode||"light",o=n.image_treatment||"none",i=t.surface||"gray",a=s==="dark";return o==="pantone-blend"?{"--image-grayscale":"100%","--image-blend-mode":"screen","--image-background":"var(--"+i+"-"+(a?"7":"12")+")"}:{"--image-grayscale":"0%","--image-blend-mode":"normal","--image-background":"transparent"}}function a(e){var a=e&&e.roles||{},s=e&&e.policies||{},o=s.tone_mode||"mono",t=n(e||{}),i=t["--accent-primary-strong"]||t["--accent-primary"]||"var(--gray-11)",r=t["--bg-page"]||"var(--gray-2)",c=t["--accent-secondary-strong"]||t["--accent-secondary"]||i;return{primary:i,surface:r,secondary:c,toneMode:o,seg1:"1",seg2:"1",seg3:o==="duo"?"1":"0",roles:a,policies:s}}window.ThemeDerive={derivePaletteTokens:n,deriveRuntimeTokens:o,deriveImageTokens:i,derivePreview:a}}(),function(){"use strict";var h="theme-coty-year",O=["--accent-secondary","--accent-secondary-strong","--component-toc-active-indicator","--component-section-headline-bg"],a=[99.6,98.6,97,95.2,93,90,85,78,60,56,42,25],p=[9.6,11,14.5,17.3,20,23.7,30,41.8,59.8,56.1,77.3,94.9],g=[25,23,22,21,20,20,22,25,30,32,28,30],l=[12,14,16,18,20,22,25,30,38,36,70,60],f=[.2,.2,.25,.25,.3,.35,.45,.55,.8,.9,.75,.65],r=[.25,.3,.35,.4,.45,.5,.6,.75,.95,.9,1,.9];function c(e,t,n){return Math.max(t,Math.min(n,e))}function e(e){return Math.round(e*10)/10}function d(e){if(!e)return"";var t=String(e).trim().replace("#","");return t.length===3&&(t=t.split("").map(function(e){return e+e}).join("")),/^[0-9a-fA-F]{6}$/.test(t)?"#"+t.toUpperCase():""}function u(e){var t,n=d(e);return n?(t=n.slice(1),{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}):null}function i(t){var i,a=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(a,n,r),c=Math.min(a,n,r),o=0,l=0,d=(s+c)/2;if(s!==c){switch(i=s-c,l=d>.5?i/(2-s-c):i/(s+c),s){case a:o=(n-r)/i+(n<r?6:0);break;case n:o=(r-a)/i+2;break;default:o=(a-n)/i+4}o=o/6}return{h:Math.round(o*360),s:e(l*100),l:e(d*100)}}function m(t,n,s){return"hsl("+Math.round(t)+", "+e(n)+"%, "+e(s)+"%)"}function _(){var e,t=document.querySelector('[data-js="coty-data-json"]');if(!t)return null;try{return e=JSON.parse(t.textContent||"{}"),typeof e=="string"&&(e=JSON.parse(e)),!e||typeof e!="object"?null:Array.isArray(e.colors)?e:null}catch{return null}}function y(e){var t={};return e.forEach(function(e){var n=Number(e.year),s=d(e.hex);if(!n||!s)return;t[n]||(t[n]=[]),t[n].push({name:String(e.name||n),hex:s})}),Object.keys(t).map(function(e){var n,s,i=Number(e),o=t[i]||[];return o.length?(s=o[0],n=o[1]||null,{year:i,name:n?s.name+" + "+n.name:s.name,primary_name:s.name,primary_hex:s.hex,secondary_name:n?n.name:"",secondary_hex:n?n.hex:"",tone_mode:n?"duo":"mono",hex:s.hex}):null}).filter(Boolean).sort(function(e,t){return t.year-e.year})}function j(e,t){var n,s,o,h,v,b,j,y,_,w,d=u(e.primary_hex||e.hex);if(!d)return null;for(s=i(d),h=s.h,v=s.s,b=(v-30)*.25,j=t==="dark"?p:a,y=t==="dark"?l:g,_=t==="dark"?r:f,o={},n=0;n<12;n+=1)w=c(y[n]+b*_[n],6,95),o["--coty-"+(n+1)]=m(h,w,j[n]);return o}function v(e,t){if(!e.secondary_hex)return null;var n,s,o,h,v,b,j,y,_,w,d=u(e.secondary_hex);if(!d)return null;for(s=i(d),h=s.h,v=s.s,b=(v-30)*.25,j=t==="dark"?p:a,y=t==="dark"?l:g,_=t==="dark"?r:f,o={},n=0;n<12;n+=1)w=c(y[n]+b*_[n],6,95),o["--coty-secondary-"+(n+1)]=m(h,w,j[n]);return o}function b(){O.forEach(function(e){document.documentElement.style.removeProperty(e)})}function t(){var e=_(),t=e?y(e.colors):[],n=e&&Number(e.meta&&e.meta.default_year)?Number(e.meta.default_year):t[0]?t[0].year:2026;return{entries:t,defaultYear:n}}function o(e){var n=t(),s=Number(e),o=n.entries.find(function(e){return e.year===s});return o||n.entries.find(function(e){return e.year===n.defaultYear})||null}function s(e,t){var n,s,a,r,i=o(t);if(!i)return null;if(r=e==="dark"?"dark":"light",s=j(i,r),n=v(i,r),!s)return null;if(Object.keys(s).forEach(function(e){document.documentElement.style.setProperty(e,s[e])}),n)Object.keys(n).forEach(function(e){document.documentElement.style.setProperty(e,n[e])});else for(a=1;a<=12;a+=1)document.documentElement.style.removeProperty("--coty-secondary-"+a);return document.documentElement.setAttribute("data-coty-year",String(i.year)),document.documentElement.style.setProperty("--palette-coty-bg",s["--coty-2"]),document.documentElement.style.setProperty("--palette-coty-accent",s["--coty-11"]),document.documentElement.style.setProperty("--palette-coty-primary",s["--coty-11"]),document.documentElement.style.setProperty("--palette-coty-surface",s["--coty-2"]),document.documentElement.style.setProperty("--palette-coty-secondary",n?n["--coty-secondary-8"]:s["--coty-8"]),document.documentElement.style.setProperty("--palette-coty-seg1","1"),document.documentElement.style.setProperty("--palette-coty-seg2","1"),document.documentElement.style.setProperty("--palette-coty-seg3",n?"1":"0"),document.documentElement.style.setProperty("--palette-pantone-bg",s["--coty-2"]),document.documentElement.style.setProperty("--palette-pantone-accent",s["--coty-11"]),document.documentElement.style.setProperty("--palette-pantone-primary",s["--coty-11"]),document.documentElement.style.setProperty("--palette-pantone-surface",s["--coty-2"]),document.documentElement.style.setProperty("--palette-pantone-secondary",n?n["--coty-secondary-8"]:s["--coty-8"]),document.documentElement.style.setProperty("--palette-pantone-seg1","1"),document.documentElement.style.setProperty("--palette-pantone-seg2","1"),document.documentElement.style.setProperty("--palette-pantone-seg3",n?"1":"0"),n?(document.documentElement.style.setProperty("--accent-secondary",n["--coty-secondary-4"]),document.documentElement.style.setProperty("--accent-secondary-strong",n["--coty-secondary-8"]),document.documentElement.style.setProperty("--component-toc-active-indicator",n["--coty-secondary-8"]),document.documentElement.style.setProperty("--component-section-headline-bg",n["--coty-secondary-8"])):b(),i}function w(){var e=Number(localStorage.getItem(h));return e||null}function n(){var e,n=Number(document.documentElement.getAttribute("data-coty-year"));return n||(e=w(),e||t().defaultYear)}function x(e,t){var a,i=t||{},n=o(e);if(!n)return null;if(!i.skipStorage)try{localStorage.setItem(h,String(n.year))}catch{}return a=i.mode||document.documentElement.getAttribute("data-mode")||"light",s(a,n.year)}function C(){var e=n(),t=document.documentElement.getAttribute("data-mode")||"light";s(t,e)}window.CotyScaleActions={init:C,setYear:x,getCurrentYear:n,getEntry:o,getEntries:function(){return t().entries},getDefaultYear:function(){return t().defaultYear},applyForMode:function(e){return s(e,n())}}}(),function(){"use strict";let o,e,t,x,p,m,i,h,a="";const oe="theme-custom-palette",b="theme-coty-year";let r=[];function X(e){return e.getAttribute("href")||e.getAttribute("xlink:href")||e.href&&e.href.baseVal||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||""}function P(){const e=document.querySelectorAll("script[src]");for(let t=e.length-1;t>=0;t-=1){const n=e[t].getAttribute("src")||e[t].src||"";if(!n)continue;if(n.indexOf("/js")!==-1||n.indexOf("js.")!==-1)try{return new URL("img/svg/sprite.svg?v=20260211b",n).toString()}catch{}}return"/img/svg/sprite.svg?v=20260211b"}function ie(){if(a)return a;const e=document.querySelectorAll("svg use");for(let t=0;t<e.length;t+=1){const n=X(e[t]);if(n&&n.indexOf("sprite.svg")!==-1){a=n.split("#")[0];break}}return a||(a=P()),a}function H(){const e=document.documentElement.getAttribute("data-grid-overlay");return e!==null&&e!=="closing"}function q(e){return!!e&&!e.hasAttribute("hidden")&&!!window.matchMedia("(min-width: 30em)").matches&&H()}function Y(e){if(!e||e.__portalPlaceholder)return;const t=document.createComment("dropdown-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function $(e,t){if(!e||!t)return;const i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.width,a=window.innerWidth,n=8;let s=i.right-o;s<n&&(s=n),s+o>a-n&&(s=a-o-n),e.style.top=`${i.bottom+8}px`,e.style.left=`${Math.max(s,n)}px`,e.style.width=`${o}px`,e.style.right="auto",e.style.bottom="auto"}function K(e,t){if(!e)return;Y(e),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal"),e.style.position="fixed",$(e,t)}function R(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function u(){if(!e)return;if(q(e)){K(e,o);return}R(e)}function W(e){if(!e)return;if(!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function te(s){s&&s.stopPropagation();const i=e.hasAttribute("hidden");i?(Q(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),o.setAttribute("aria-expanded","true"),u()):n()}function n(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),o.setAttribute("aria-expanded","false"),u())}function Q(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"),W(e))}function c(){const e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-toggle"]'),n=document.querySelector('[data-js="settings-overlay"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function C(e){localStorage.setItem("theme-mode",e),O(e),S(e),n(),c();var t=document.querySelector('[data-js="footer-mode"]'),s=t?t.getAttribute("data-category"):"",o=t?t.getAttribute("data-label-"+e)||e:e,i=t?t.getAttribute("data-toast-icon"):"";window.Toast&&window.Toast.show(s,o,{icon:i})}function O(e){var n=e;if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-mode",e)}else document.documentElement.setAttribute("data-mode",e);Z(e),J(),ee(e);const t=window.CotyScaleActions||null;t&&typeof t.applyForMode=="function"&&t.applyForMode(document.documentElement.getAttribute("data-mode")||e),(document.documentElement.getAttribute("data-palette")||"standard")==="custom"&&f(),window.dispatchEvent(new CustomEvent("theme:mode-changed",{detail:{requestedMode:n,mode:document.documentElement.getAttribute("data-mode")||"light"}}))}function S(e){p.forEach(t=>{const n=t.getAttribute("data-mode");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function w(e){if(e==="custom"&&!L())return;localStorage.setItem("theme-palette",e),y(e),d(e),window.dispatchEvent(new CustomEvent("theme:palette-changed",{detail:{palette:e}})),n(),c();var t=document.querySelector('[data-js="footer-palette"]'),o=t?t.getAttribute("data-category"):"",s=t?t.getAttribute("data-label-"+e)||e:e,s=D(s,e),i=t?t.getAttribute("data-toast-icon"):"";window.Toast&&window.Toast.show(o,s,{icon:i})}function y(e){e==="custom"?f()||(g(),e="standard",localStorage.setItem("theme-palette",e)):g(),document.documentElement.setAttribute("data-palette",e),A(e)}function j(){return window.CotyScaleActions||null}function z(){const e=j();if(e&&typeof e.getCurrentYear=="function")return e.getCurrentYear();const t=Number(document.documentElement.getAttribute("data-coty-year"));if(t)return t;const n=Number(localStorage.getItem(b));return n||2026}function D(e,t){if(t!=="pantone")return e;const n=z();return e+" ("+n+")"}function d(e){m.forEach(t=>{const n=t.getAttribute("data-palette");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function v(){try{const t=localStorage.getItem(oe);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e.version>=2?!e.roles||typeof e.roles!="object"?null:e:!e.tokens||typeof e.tokens!="object"?null:e}catch{return null}}function L(){return Boolean(v())}function g(){r.forEach(e=>{document.documentElement.style.removeProperty(e)}),r=[]}function s(e,t){document.documentElement.style.setProperty(e,t),r.indexOf(e)===-1&&r.push(e)}function I(e){var n,o,t=window.ThemeDerive&&window.ThemeDerive.deriveImageTokens;if(typeof t=="function"){n=document.documentElement.getAttribute("data-mode")||"light",o=t({roles:e.roles||{},policies:e.policies||{},mode:n}),Object.entries(o).forEach(function(e){s(e[0],e[1])});return}s("--image-grayscale","0%"),s("--image-blend-mode","normal"),s("--image-background","transparent")}function B(e){var n,t=window.ThemeDerive&&window.ThemeDerive.deriveRuntimeTokens;if(typeof t!="function")return;n=t({roles:e.roles||{},policies:e.policies||{}}),Object.entries(n).forEach(function(e){var t=e[0],n=e[1];s(t,n)})}function V(e){return e?e.indexOf("--")===0?e:"--"+e.replace(/_/g,"-"):""}function N(e){var t=window.ThemeDerive&&window.ThemeDerive.derivePaletteTokens;return typeof t!="function"?null:!e||!e.roles?null:t({roles:e.roles,policies:e.policies||{},component_overrides:e.component_overrides||{}})}function E(e){var s,o,i,r,c,l,n=e.preview||{},a=window.ThemeDerive&&window.ThemeDerive.derivePreview,t=null;return typeof a=="function"&&e&&e.roles&&(t=a({roles:e.roles,policies:e.policies||{},component_overrides:e.component_overrides||{}})),s=N(e)||{},o=e.tokens||{},i=n.primary||n.accent||t&&t.primary||s["--accent-primary-strong"]||o["--accent-primary-strong"]||"var(--gray-11)",r=n.surface||n.bg||t&&t.surface||s["--bg-page"]||o["--bg-page"]||"var(--gray-2)",c=n.secondary||t&&t.secondary||s["--accent-secondary-strong"]||o["--accent-secondary-strong"]||i,l=n.tone_mode||t&&t.toneMode||e.policies&&e.policies.tone_mode||"mono",{primary:i,surface:r,secondary:c,toneMode:l}}function f(){const e=v();if(!e)return!1;if(g(),e.version>=2){var t,o=N(e)||{};Object.entries(o).forEach(function(e){var t=e[0],n=e[1];s(t,String(n))}),t=e.overrides||{},Object.keys(t).forEach(function(e){var o=V(e),n=t[e];if(!o||typeof n=="undefined"||n===null)return;s(o,String(n))})}else Object.entries(e.tokens).forEach(([e,t])=>{if(!e||typeof t=="undefined"||t===null)return;document.documentElement.style.setProperty(e,String(t)),r.push(e)});e.version>=2&&(B(e),I(e));const n=E(e);return document.documentElement.style.setProperty("--palette-custom-accent",n.primary),document.documentElement.style.setProperty("--palette-custom-bg",n.surface),!0}function T(){const e=v(),t=Boolean(e);if(t){const t=E(e),n=t.primary,s=t.surface,o=t.secondary,i=t.toneMode;document.documentElement.style.setProperty("--palette-custom-accent",n),document.documentElement.style.setProperty("--palette-custom-bg",s),document.documentElement.style.setProperty("--palette-custom-primary",n),document.documentElement.style.setProperty("--palette-custom-surface",s),document.documentElement.style.setProperty("--palette-custom-secondary",o),document.documentElement.style.setProperty("--palette-custom-seg1","1"),document.documentElement.style.setProperty("--palette-custom-seg2","1"),document.documentElement.style.setProperty("--palette-custom-seg3",i==="duo"?"1":"0")}const n=document.querySelectorAll('[data-role="palette-custom-option"]');n.forEach(e=>{t?e.removeAttribute("hidden"):e.setAttribute("hidden","")})}function F(){T();const e=document.documentElement.getAttribute("data-palette")||"standard";if(e==="custom"&&!f()){w("standard");return}d(e)}var U={refined:['400 1em "Playfair Display"'],expressive:['500 1em "Bricolage Grotesque"'],technical:['400 1em "JetBrains Mono"']};function M(e){localStorage.setItem("theme-typography",e),k(e);var i=document.querySelector('[data-js="typography-option"][data-typography="'+e+'"]'),t=i?i.getAttribute("aria-label"):e,a=document.querySelector('[data-toast-category="typography"]'),s=a?a.getAttribute("data-toast-label"):"",o=U[e];o&&o.length>0?Promise.all(o.map(function(e){return document.fonts.load(e)})).then(function(){l(e),n(),c(),window.Toast&&window.Toast.show(s,t)}).catch(function(){l(e),n(),c(),window.Toast&&window.Toast.show(s,t)}):(l(e),n(),c(),window.Toast&&window.Toast.show(s,t))}function l(e){document.documentElement.setAttribute("data-typography",e),ne(e)}function k(e){h.forEach(t=>{const n=t.getAttribute("data-typography");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function Z(){if(!x)return;x.innerHTML=`<svg width="24" height="24" aria-hidden="true">
      <use href="/img/svg/sprite.svg?v=20260212a#icon-theme-palette"></use>
    </svg>`}function J(){const e=document.querySelector('meta[name="theme-color"]');if(!e)return;const t=document.documentElement.getAttribute("data-mode");t==="dark"?e.setAttribute("content","#18181b"):e.setAttribute("content","#FFFFFF")}function ee(e){const t=document.querySelector('[data-js="footer-mode"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}function A(e){const t=document.querySelector('[data-js="footer-palette"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=D(n,e)}function ne(e){const t=document.querySelector('[data-js="footer-typography"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const e=localStorage.getItem("theme-mode")||"system";e==="system"&&O("system")});function se(e){if(!i)return;i.forEach(t=>{t.value=String(e)})}function _(e,t){const i=t||{},s=j();let n=null;if(s&&typeof s.setYear=="function")n=s.setYear(e);else{const t=Number(e)||2026;document.documentElement.setAttribute("data-coty-year",String(t)),n={year:t}}if(!n||!n.year)return;try{localStorage.setItem(b,String(n.year))}catch{}se(n.year);const o=document.documentElement.getAttribute("data-palette")||"standard";o!=="pantone"?(localStorage.setItem("theme-palette","pantone"),y("pantone"),d("pantone"),window.dispatchEvent(new CustomEvent("theme:palette-changed",{detail:{palette:"pantone"}}))):A(o),i.silent||window.dispatchEvent(new CustomEvent("theme:coty-year-changed",{detail:{year:n.year,name:n.name||""}}))}function G(){const e=j();if(!i||!i.length||!e||typeof e.getEntries!="function")return;const t=e.getEntries();if(!t||!t.length)return;i.forEach(e=>{e.innerHTML="",t.forEach(t=>{const n=document.createElement("option");n.value=String(t.year),n.textContent=String(t.year)+" — "+t.name,e.appendChild(n)}),e.addEventListener("change",function(){_(this.value)})});const n=Number(localStorage.getItem(b))||e.getCurrentYear();_(n,{silent:!0})}document.addEventListener("DOMContentLoaded",function(){o=document.querySelector('[data-js="theme-toggle"]'),e=document.querySelector('[data-js="theme-panel"]'),t=document.querySelector('[data-js="theme-overlay"]'),x=document.querySelector('[data-js="theme-icon"]'),p=document.querySelectorAll('[data-js="mode-option"]'),m=document.querySelectorAll('[data-js="palette-option"]'),i=document.querySelectorAll('[data-js="coty-year-theme"]'),h=document.querySelectorAll('[data-js="typography-option"]');const r=localStorage.getItem("theme-mode")||"system",a=localStorage.getItem("theme-palette")||"standard",c=localStorage.getItem("theme-typography")||"editorial",f=a==="coty"?"pantone":a,s=f==="custom"&&!L()?"standard":f;if(s!==a&&localStorage.setItem("theme-palette",s),O(r),window.CotyScaleActions&&typeof window.CotyScaleActions.init=="function"&&window.CotyScaleActions.init(),G(),T(),y(s),l(c),S(r),d(s),k(c),window.ThemeActions={setMode:C,setPalette:w,setTypography:M,getPaletteOrder:function(){const e=new Set,t=[];return m.forEach(n=>{if(n.hasAttribute("hidden"))return;const s=n.getAttribute("data-palette");s&&!e.has(s)&&(e.add(s),t.push(s))}),t},getTypographyOrder:function(){const e=new Set,t=[];return h.forEach(n=>{const s=n.getAttribute("data-typography");s&&!e.has(s)&&(e.add(s),t.push(s))}),t},setCotyYear:_,getCotyYear:z,refreshCustomPalette:F},window.addEventListener("theme:custom-palette-updated",F),o&&e){o.addEventListener("click",te),u(),t&&t.addEventListener("click",n),document.addEventListener("click",function(t){!o.contains(t.target)&&!e.contains(t.target)&&n()});const a=function(){e.hasAttribute("hidden")||u()};window.addEventListener("resize",a),window.addEventListener("scroll",a,{passive:!0});const r=new MutationObserver(function(){a()});r.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});let s=0,i=0;e.addEventListener("touchstart",function(n){s=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const o=i-s;if(o>0){n.preventDefault(),e.style.transform=`translateY(${o}px)`;const s=e.getBoundingClientRect().height,i=window.innerHeight-s-8,a=1-o/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-s;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?n():(e.style.transform="translateY(0)",t.style.opacity="1"),s=0,i=0})}p.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-mode");C(e)})}),m.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-palette");w(e)})}),h.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-typography");M(e)})})}),window.setTheme=C}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".language-toggle"),e=document.querySelector(".language-panel"),t=document.querySelector(".language-overlay");if(window.LanguageActions=window.LanguageActions||{setLanguage:function(){}},!n||!e)return;function j(e){if(!e)return;try{localStorage.setItem("pending-toast",JSON.stringify({category:"language",value:e.trim(),icon:"icon-language-micro"}))}catch{}}function c(e){if(!e)return;const t=e.getAttribute("data-language-href");if(!t)return;const n=e.getAttribute("data-language-name")||"";j(n),window.location.href=t}function b(e){if(!e)return;const t=document.querySelector(`input[type="radio"][data-language-code="${e}"][data-language-href]`);if(!t)return;c(t)}function g(){const e=document.documentElement.getAttribute("data-grid-overlay");return e!==null&&e!=="closing"}function f(){return!e.hasAttribute("hidden")&&!!window.matchMedia("(min-width: 30em)").matches&&g()}function h(){if(e.__portalPlaceholder)return;const t=document.createComment("dropdown-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function u(){const i=n.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.width,a=window.innerWidth,t=8;let s=i.right-o;s<t&&(s=t),s+o>a-t&&(s=a-o-t),e.style.top=`${i.bottom+8}px`,e.style.left=`${Math.max(s,t)}px`,e.style.width=`${o}px`,e.style.right="auto",e.style.bottom="auto"}function d(){h(),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal"),e.style.position="fixed",u()}function l(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.width="",e.style.right="",e.style.bottom=""}function a(){if(f()){d();return}l(e)}function m(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(p(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true"),a()):s()}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"),a())}function p(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"),l(e))}window.LanguageActions={setLanguage:b},n.addEventListener("click",m),a(),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()});const r=function(){e.hasAttribute("hidden")||a()};window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0});const v=new MutationObserver(function(){r()});v.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()}),document.querySelectorAll('input[type="radio"][data-language-href]').forEach(function(e){e.addEventListener("change",function(){c(e)})});let i=0,o=0;e&&t&&(e.addEventListener("touchstart",function(n){i=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){o=n.changedTouches[0].screenY;const s=o-i;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=o-i;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),i=0,o=0}))})}(),function(){"use strict";const e={PARAM_VIEW:"view",PARAM_REF:"ref",VIEW_CLIENT:"client",VIEW_EMPLOYER:"employer",LAYOUT_ID:"layout",CLASS_CLIENTPAGE:"clientpage",CLASS_EMPLOYERPAGE:"employerpage"};function u(){try{return new URLSearchParams(window.location.search)}catch(e){return console.error("Focus mode: Error parsing URL parameters",e),new URLSearchParams}}function s(){const s=u(),i=s.get(e.PARAM_VIEW),a=s.get("source"),n=window.location.pathname,r=n.includes("/clients/"),c=n.includes("/employer")||n.includes("/arbetsgivare");return i===e.VIEW_CLIENT||a==="client"||r?{type:e.VIEW_CLIENT,ref:s.get(e.PARAM_REF)||t(n,"clients")||o("clients")}:i===e.VIEW_EMPLOYER||c?{type:e.VIEW_EMPLOYER,ref:s.get(e.PARAM_REF)||t(n,"employers")||o("employers")}:null}function t(e,t){const s=new RegExp(`/${t}/([^/]+)`),n=e.match(s);return n?n[1]:null}function o(e){try{if(!document.referrer)return null;const n=new URL(document.referrer);return n.origin!==window.location.origin?null:t(n.pathname,e)}catch{return null}}function d(t){const n=document.getElementById(e.LAYOUT_ID);if(!n){console.warn("Focus mode: Layout element not found");return}t.type===e.VIEW_CLIENT?(n.classList.add(e.CLASS_CLIENTPAGE),console.log("Focus mode: Client mode activated",t.ref||"")):t.type===e.VIEW_EMPLOYER&&(n.classList.add(e.CLASS_EMPLOYERPAGE),console.log("Focus mode: Employer mode activated"))}function n(t){if(!t||!t.ref)return;const n=document.querySelector(".top-menu__item--contact .top-menu__link--button");if(!n)return;const a=window.location.pathname,c=a.startsWith("/sv/")?"/sv":"",l=t.type===e.VIEW_EMPLOYER?"employers":"clients",o=`${c}/${l}/${encodeURIComponent(t.ref)}/`,r=h(t),i=a.startsWith(o);i?n.setAttribute("href",`${o}?${r}#contact`):n.setAttribute("href",`${o}?${r}`);const s=n.querySelector(".top-menu__label--long"),d=n.querySelector('[data-focus-icon="contact-default"]'),u=n.querySelector('[data-focus-icon="contact-profile"]');if(s)if(i)s.textContent=s.getAttribute("data-focus-label")||s.getAttribute("data-focus-label-default")||s.textContent;else{const e=s.getAttribute("data-focus-label-template"),n=decodeURIComponent(t.ref).replace(/-/g," "),o=n.charAt(0).toUpperCase()+n.slice(1);s.textContent=e?e.replace("%s",o):s.textContent}i?n.classList.remove("is-focus-subpage"):n.classList.add("is-focus-subpage")}function h(t){const n=new URLSearchParams;return n.set(e.PARAM_VIEW,t.type),t.ref&&n.set(e.PARAM_REF,t.ref),n.toString()}function i(t){const n=document.querySelectorAll("a[href]");n.forEach(n=>{try{const o=n.getAttribute("href");if(!o||o.startsWith("#")||n.hasAttribute("data-focus-processed")||n.hasAttribute("data-focus-ignore")||n.closest('[data-focus-ignore="true"]'))return;const s=new URL(o,window.location.origin);if(s.origin!==window.location.origin)return;const i=new URLSearchParams(s.search);i.set(e.PARAM_VIEW,t.type),t.ref&&i.set(e.PARAM_REF,t.ref),s.search=i.toString(),n.setAttribute("href",s.pathname+s.search+s.hash),n.setAttribute("data-focus-processed","true")}catch{}})}function a(t){t.type===e.VIEW_CLIENT&&t.ref&&m(t.ref),t.type===e.VIEW_EMPLOYER&&t.ref&&f(t.ref)}function m(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back"]'),n=document.getElementById("client-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/clients/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function f(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back-employer"]'),n=document.getElementById("employer-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/employers/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function r(t){if(t.type!==e.VIEW_CLIENT||!t.ref)return;const n=`/clients/${encodeURIComponent(t.ref)}/`,s={"application-toc-letter":`${n}#letter`,"application-toc-portfolio":`${n}#portfolio`,"application-toc-cv":`${n}#cv`,"application-toc-download":`${n}#download`,"application-toc-contact":`${n}#contact`};Object.entries(s).forEach(([e,t])=>{const n=document.querySelector(`[data-js="${e}"]`);n&&n.setAttribute("href",t)})}function c(t){if(!t||!t.ref)return;if(t.type===e.VIEW_CLIENT){const s=document.querySelectorAll(".related-items__item.show-on-client"),e=document.querySelector(".related-items__title.show-on-client");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-clients")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}if(t.type===e.VIEW_EMPLOYER){const s=document.querySelectorAll(".related-items__item.show-on-employer"),e=document.querySelector(".related-items__title.show-on-employer");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-employers")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}}function l(){const e=s();if(!e){console.log("Focus mode: Standard mode (no focus context)");return}d(e),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{i(e),a(e),r(e),c(e),n(e)}):(i(e),a(e),r(e),c(e),n(e))}l(),window.FocusMode={getContext:s,refresh:l}}(),function(){"use strict";function t(){const t=getComputedStyle(document.documentElement),e=parseFloat(t.scrollPaddingTop);return Number.isFinite(e)?e:0}function e(e,n){const s=t(),o=parseFloat(getComputedStyle(e).paddingTop)||0,i=e.getBoundingClientRect().top+window.pageYOffset+o-s;window.scrollTo({top:i,behavior:n||"smooth"})}function n(n){setTimeout(()=>{const s=t(),o=n.getBoundingClientRect().top+window.pageYOffset-s,i=Math.abs(window.pageYOffset-o);i>2&&e(n,"auto")},200)}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll('a[href*="#"]');if(t.forEach(t=>{t.addEventListener("click",function(t){const n=this.getAttribute("href");if(!n||n==="#")return;try{const i=new URL(n,window.location.href),a=i.pathname===window.location.pathname||n.startsWith("#");if(!a)return;const s=n.includes("#")?n.split("#")[1]:null;if(!s)return;const o=document.getElementById(s);if(o){t.preventDefault(),window.history.pushState?window.location.hash!=="#"+s&&window.history.pushState(null,null,"#"+s):window.location.hash=s,e(o,"smooth"),o.setAttribute("tabindex","-1");try{o.focus({preventScroll:!0})}catch{}}}catch(e){console.warn("Smooth scroll: URL parsing failed",e)}})}),window.location.hash){const s=window.location.hash.slice(1),t=document.getElementById(s);t&&setTimeout(()=>{e(t,"smooth"),t.setAttribute("tabindex","-1");try{t.focus({preventScroll:!0})}catch{}n(t)},100)}})}(),function(){"use strict";const e=5e3,t=500;function n(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return e.split("|").map(e=>e.trim()).filter(Boolean)}}document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="role-swapper"]');if(!s)return;const r=s.getAttribute("data-suffix")||"",l=window.matchMedia("(prefers-reduced-motion: reduce)").matches,o=Array.from(s.querySelectorAll("[data-role]")),d=s.getAttribute("data-start");if(o.length){const r=Number(s.getAttribute("data-interval"))||e,c=Number(s.getAttribute("data-fade"))||t;let n=o.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0),d==="random"&&(n=Math.floor(Math.random()*o.length));const i=o.reduce((e,t)=>Math.max(e,t.textContent.trim().length),0);i>0&&(s.style.minWidth=`${i}ch`),o.forEach(e=>{e.style.transitionDuration=`${c}ms`});const a=e=>{o.forEach((t,n)=>{const s=n===e;t.classList.toggle("is-active",s),t.setAttribute("aria-hidden",s?"false":"true")})};if(a(n),o.length<2||l)return;window.setInterval(()=>{n=(n+1)%o.length,a(n)},r);return}const c=s.querySelector('[data-js="role-swapper-text"]')||s,a=n(s.getAttribute("data-roles"));if(a.length<2)return;const u=e=>{const t=e.trim();return r&&t.endsWith(r)?t.slice(0,-r.length):t};if(l)return;const h=Number(s.getAttribute("data-interval"))||e,m=Number(s.getAttribute("data-fade"))||t;let i=a.indexOf(u(c.textContent));d==="random"?(i=Math.floor(Math.random()*a.length),c.textContent=a[i]+r):(i<0&&(i=0),c.textContent.trim()||(c.textContent=a[i]+r));function f(){s.style.opacity="0",window.setTimeout(()=>{i=(i+1)%a.length,c.textContent=a[i]+r,s.style.opacity="1"},m)}window.setInterval(f,h)})}(),function(){const e=document.querySelector("[data-ui-library-tabs]");if(!e)return;const n=e.querySelectorAll(".tab-panel");function t(e){if(!e)return;const t=Array.from(e.children).filter(e=>e.matches("details"));if(t.length<2)return;t.sort((e,t)=>{const n=(e.dataset.sort||"").toLowerCase(),s=(t.dataset.sort||"").toLowerCase();return n.localeCompare(s,"en")}).forEach(t=>{e.appendChild(t)})}function s(){n.forEach(e=>t(e)),e.querySelectorAll("#panel-tokens .token-section").forEach(e=>{t(e)})}s();const o=e.querySelectorAll('[data-js="ui-library-toggle-demo"]');o.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("aria-pressed")==="true";e.setAttribute("aria-pressed",t?"false":"true")})});function i(){const t=window.getComputedStyle(document.documentElement),n=e.querySelectorAll("[data-token-value]");n.forEach(e=>{const n=e.getAttribute("data-token-value");if(!n)return;const s=t.getPropertyValue(n).trim();if(!s)return;e.textContent=s})}function a(){const t=e.querySelectorAll(".motion-demo-dot, .motion-distance-chip");t.forEach(e=>{e.classList.add("is-restarting"),void e.offsetWidth,e.classList.remove("is-restarting")})}const r=e.querySelectorAll('[data-js="motion-replay"]');r.forEach(e=>{e.addEventListener("click",()=>{a()})}),i()}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="settings-toggle"]'),e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]');if(!s||!e)return;function g(){return document.documentElement.hasAttribute("data-grid-overlay")}function p(e){if(!e||e.__portalPlaceholder)return;const t=document.createComment("settings-portal-anchor");e.parentNode.insertBefore(t,e),e.__portalPlaceholder=t}function c(e){if(!e||!e.classList.contains("dropdown-panel--portal"))return;const t=e.__portalPlaceholder;t&&t.parentNode&&(t.parentNode.insertBefore(e,t),t.remove()),e.__portalPlaceholder=null,e.classList.remove("dropdown-panel--portal"),e.style.position="",e.style.top="",e.style.left="",e.style.right="",e.style.bottom=""}function l(e){if(!e)return;p(e),e.parentNode!==document.body&&document.body.appendChild(e),e.classList.add("dropdown-panel--portal")}function a(){const n=e&&!e.hasAttribute("hidden");if(n&&g()){l(e),t&&l(t);return}c(e),t&&c(t)}function u(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function m(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function d(){if(!e)return;e.style.transform="",e.style.transition="",t&&(t.style.opacity="",t.style.transition="")}function n(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),s.setAttribute("aria-expanded","false"),d(),a())}function h(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(u(),m(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),s.setAttribute("aria-expanded","true"),d(),a()):n()}s.addEventListener("click",h),t&&t.addEventListener("click",n),document.addEventListener("click",function(t){!s.contains(t.target)&&!e.contains(t.target)&&n()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});const r=function(){e.hasAttribute("hidden")||a()};window.addEventListener("resize",r),window.addEventListener("scroll",r,{passive:!0});const f=new MutationObserver(function(){r()});f.observe(document.documentElement,{attributes:!0,attributeFilter:["data-grid-overlay"]});let i=0,o=0;e&&t&&(e.addEventListener("touchstart",function(n){i=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){o=n.changedTouches[0].screenY;const s=o-i;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=o-i;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?n():(e.style.transform="translateY(0)",t.style.opacity="1"),i=0,o=0}))})}(),function(){"use strict";const o=".reveal",t="is-revealed",n=e=>{if(window.requestAnimationFrame){window.requestAnimationFrame(()=>{window.requestAnimationFrame(e)});return}window.setTimeout(e,0)},e=e=>{if(e.classList.contains(t))return;n(()=>{e.classList.add(t)})},s=t=>{const s=t.querySelectorAll("img");if(!s.length){e(t);return}let n=0;s.forEach(s=>{if(s.complete)return;n+=1;const o=()=>{n-=1,n<=0&&e(t)};s.addEventListener("load",o,{once:!0}),s.addEventListener("error",o,{once:!0})}),n===0&&e(t)};document.addEventListener("DOMContentLoaded",function(){const u=document.querySelectorAll(".post-content > *");u.forEach(e=>{e.classList.contains("reveal")||e.classList.add("reveal")});const a=document.querySelectorAll(".application-page .about-cv.reveal");a.length&&n(()=>{a.forEach(t=>{e(t)})});const i=Array.from(document.querySelectorAll(o));if(!i.length)return;const h=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(h||!("IntersectionObserver"in window)){i.forEach(e=>e.classList.add(t));return}const m=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(!t.isIntersecting)return;t.target.classList.contains("reveal--immediate")?e(t.target):t.target.classList.contains("reveal--no-wait")?e(t.target):s(t.target),n.unobserve(t.target)})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),f=e=>{const t=e.getBoundingClientRect();return t.top<=window.innerHeight&&t.bottom>=0},r=e=>{const t=e.getBoundingClientRect();return t.height>0},p=e=>e.classList.contains("reveal--delay")||e.classList.contains("reveal--delay-2")||e.classList.contains("reveal--immediate")||e.style.getPropertyValue("--reveal-delay"),g=window.matchMedia&&window.matchMedia("(max-width: 43.125em)").matches,c=i.filter(f);let l=0;const d=new WeakMap;c.forEach(t=>{if(!g&&!p(t)){const e=t.closest(".post-content");if(e){const n=d.get(e)||0,s=Math.min(n*60,320);t.style.setProperty("--reveal-delay",`${s}ms`),r(t)&&d.set(e,n+1)}else{const e=Math.min(l*80,320);t.style.setProperty("--reveal-delay",`${e}ms`),r(t)&&(l+=1)}}t.classList.contains("reveal--immediate")?e(t):t.classList.contains("reveal--no-wait")?e(t):s(t)}),i.forEach(e=>{if(c.includes(e))return;m.observe(e)})})}(),function(){"use strict";var l=1e4,c=!1,o={en:{success:"Thank you for subscribing!",error:"Something went wrong. Please try again.",invalidEmail:"Please enter a valid email address.",alreadySubscribed:"You're already subscribed!",timeout:"Request timed out. Please try again."},sv:{success:"Tack för din prenumeration!",error:"Något gick fel. Försök igen.",invalidEmail:"Ange en giltig e-postadress.",alreadySubscribed:"Du prenumererar redan!",timeout:"Förfrågan tog för lång tid. Försök igen."}};function e(){c&&window.console&&console.log&&console.log.apply(console,["[Newsletter]"].concat(Array.prototype.slice.call(arguments)))}function r(){var e=document.documentElement.lang||"en";return e.indexOf("sv")===0?"sv":"en"}function t(e){var t=r();return o[t]&&o[t][e]||o.en[e]}function n(t,n,s){var o=t.querySelector(".mc-response--success")||t.querySelector("#mce-success-response"),i=t.querySelector(".mc-response--error")||t.querySelector("#mce-error-response");e("showResponse:",n,"isError:",s),o&&(o.style.display=s?"none":"block",s||(o.textContent=n)),i&&(i.style.display=s?"block":"none",s&&(i.textContent=n))}function d(e){for(var n=e.querySelectorAll(".mc-response, .response"),t=0;t<n.length;t++)n[t].style.display="none",n[t].textContent=""}function s(e,t){var s,n=e.querySelector('button[type="submit"], input[type="submit"]');n&&(n.disabled=t,t?(n.setAttribute("data-original-text",n.value||n.textContent),n.tagName==="INPUT"?n.value="...":n.textContent="..."):(s=n.getAttribute("data-original-text"),s&&(n.tagName==="INPUT"?n.value=s:n.textContent=s)))}function u(t,n,s){e("Building URL from:",t);var i,o=t;return o.indexOf("/subscribe/post?")!==-1?o=o.replace("/subscribe/post?","/subscribe/post-json?"):o.indexOf("/subscribe/post-json?")===-1&&o.indexOf("/subscribe/post-json")!==-1&&(o=o+"?"),o=o.replace(/[&?]c=[^&]*/g,""),o=o.replace(/&&/g,"&").replace(/\?&/g,"?").replace(/&$/g,"").replace(/\?$/g,""),i=o.indexOf("?")===-1?"?":"&",o=o+i+"c="+n,s&&(o=o+"&"+s),e("Final URL:",o),o}function i(t,n,s){e("Cleanup:",t),s&&clearTimeout(s);try{window[t]&&delete window[t]}catch{window[t]=void 0}n&&n.parentNode&&n.parentNode.removeChild(n)}function h(o){var a,r,c,h,m,f,p,g,v,b,y,_,w=o.querySelector('input[type="email"]'),j=w?w.value.trim():"";if(e("Submitting form, email:",j),!j||j.indexOf("@")===-1){n(o,t("invalidEmail"),!0);return}d(o),s(o,!0);for(b=[],p=o.querySelectorAll("input[name]"),m=0;m<p.length;m++){if(f=p[m],_=f.name,y=f.value,f.type==="submit")continue;b.push(encodeURIComponent(_)+"="+encodeURIComponent(y))}g=b.join("&"),e("Form params:",g),c="mc_resp_"+Date.now(),v=u(o.getAttribute("action"),c,g),r=document.createElement("script"),h=null,a=!1,window[c]=function(l){if(e("Callback received:",l),a){e("Already completed, ignoring");return}if(a=!0,s(o,!1),l&&l.result==="success")n(o,t("success"),!1),o.reset();else{var u,d=t("error");l&&l.msg&&(e("Error msg from Mailchimp:",l.msg),u=l.msg.toLowerCase(),u.indexOf("already subscribed")!==-1?d=t("alreadySubscribed"):u.indexOf("invalid")!==-1||u.indexOf("valid email")!==-1?d=t("invalidEmail"):d=l.msg.replace(/<[^>]*>/g,"").trim()),n(o,d,!0)}i(c,r,h)},h=setTimeout(function(){if(e("Timeout fired"),a)return;a=!0,s(o,!1),n(o,t("timeout"),!0),i(c,r,null)},l),r.onerror=function(l){if(e("Script error:",l),a)return;a=!0,s(o,!1),n(o,t("error"),!0),i(c,r,h)},e("Loading script:",v),r.src=v,document.body.appendChild(r)}function a(){var t,n=document.querySelectorAll("form[data-mc-form]");e("Found",n.length,"newsletter forms");for(t=0;t<n.length;t++)(function(e){e.addEventListener("submit",function(t){t.preventDefault(),h(e)})})(n[t])}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()}(),function(){function e(e,t){e.forEach(e=>{const n=e.getAttribute("data-toc-link")===t;e.classList.toggle("is-active",n),n?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")})}function t(){const o=document.querySelector(".toc");if(!o)return;const t=Array.from(o.querySelectorAll("[data-toc-link]"));if(!t.length)return;const i=Array.from(document.querySelectorAll("[data-toc-section]")),a=new Set(t.map(e=>e.getAttribute("data-toc-link"))),n=window.location.hash.replace("#","");if(n&&a.has(n))e(t,n);else{const n=t[0].getAttribute("data-toc-link");n&&e(t,n)}if(!("IntersectionObserver"in window)||!i.length)return;if(typeof IntersectionObserver!="function")return;let r=null;const s=new IntersectionObserver(n=>{n.forEach(n=>{if(!n.isIntersecting)return;const s=n.target.getAttribute("data-toc-section");if(!s||s===r||!a.has(s))return;r=s,e(t,s)})},{root:null,rootMargin:"0px 0px -60% 0px",threshold:.1});if(!s||typeof s.observe!="function")return;i.forEach(e=>s.observe(e))}document.addEventListener("DOMContentLoaded",t)}(),function(){const t=document.querySelector('[data-js="brand-loop"]');if(!t)return;const R=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(R)return;const v=t.getAttribute("data-curl-random");if(v===null||v==="false"||v==="0")return;const w=t.getAttribute("data-curl-base"),y=t.getAttribute("data-curl-variants");if(!w||!y)return;let c,r;try{c=atob(w),r=JSON.parse(atob(y))}catch{return}if(!Array.isArray(r)||r.length===0)return;const o=(e,t)=>{const n=Number.parseFloat(e);return Number.isFinite(n)?n:t},L=o(t.getAttribute("data-curl-base-min"),10),k=o(t.getAttribute("data-curl-base-max"),10),N=o(t.getAttribute("data-curl-transition-min"),.5),z=o(t.getAttribute("data-curl-transition-max"),.5),T=o(t.getAttribute("data-curl-alt-min"),2),F=o(t.getAttribute("data-curl-alt-max"),2),x=Math.max(2,Math.round(o(t.getAttribute("data-curl-dynamic-steps"),4))),p=(e,t)=>{const n=Math.min(e,t),s=Math.max(e,t);return n+Math.random()*(s-n)},M=e=>{const t=e.slice();for(let e=t.length-1;e>0;e-=1){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t},S=.2,A=e=>{if(l.length<2)return null;const t=l.filter(t=>t!==e);return t.length?t[Math.floor(Math.random()*t.length)]:null},j=e=>Number.isFinite(e.transition)?e.transition:p(N,z),h=r.find(e=>e.role==="bridge"||e.bridge===!0),l=h?r.filter(e=>e!==h):r;if(l.length===0)return;const i=h?h.d:null,O=M(l);let e=0;const C=[0],d=[c],_=[],a="0 0 1 1",m="0.42 0 1 1",g="0 0 0.58 1",s=(e,t,n=a)=>{d.push(e),C.push(t),_.push(n)},f=({variant:t,includeBaseHold:n,returnToBase:o,startFromBridge:r,transitionOut:l})=>{const f=n?p(L,k):0,h=j(t),v=p(T,F),u=t.d,b=t.d_alt||t.d;if(f>0&&(e+=f,s(c,e,a)),i){const t=d[d.length-1];(n||t===c)&&(e+=h,s(i,e,m)),e+=h,s(u,e,g)}else r?(e+=h,s(u,e,g)):(e+=h,s(u,e,a));if(t.type==="dynamic"){const t=v/x;for(let n=0;n<x;n+=1)e+=t,s(n%2===0?b:u,e,a)}else e+=v,s(u,e,a);if(o){const n=l??j(t);i?(e+=n,s(i,e,m),e+=n,s(c,e,g)):(e+=n,s(c,e,a))}else if(i){const n=l??j(t);e+=n,s(i,e,m)}},u=O.map(()=>Math.random()<S);if(l.length>1&&!u.some(Boolean)&&(u[Math.floor(Math.random()*u.length)]=!0),O.forEach((e,t)=>{const s=u[t],n=s?A(e):null;if(!n){f({variant:e,includeBaseHold:!0,returnToBase:!0,startFromBridge:!1});return}f({variant:e,includeBaseHold:!0,returnToBase:!1,startFromBridge:!1}),f({variant:n,includeBaseHold:!1,returnToBase:!0,startFromBridge:Boolean(i)})}),e<=0)return;const D=C.map(t=>(t/e).toFixed(6)),b=t.querySelector(".brand__mark-loop-path");if(!b)return;const E=b.querySelector("animate");E&&E.remove();const n=document.createElementNS("http://www.w3.org/2000/svg","animate");n.setAttribute("attributeName","d"),n.setAttribute("dur",`${e.toFixed(1)}s`),n.setAttribute("begin","0s"),n.setAttribute("repeatCount","indefinite"),n.setAttribute("calcMode","spline"),n.setAttribute("keyTimes",D.join(";")),n.setAttribute("keySplines",_.join(";")),n.setAttribute("values",d.join(";")),b.appendChild(n),typeof n.beginElement=="function"&&n.beginElement()}(),function(){var t="grid-overlay",e=!1;function n(){return document.documentElement.hasAttribute("data-grid-overlay")&&!e}function c(n){if(e=!1,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay",""),localStorage.setItem(t,"true"),s(!0),n&&window.Toast){var i=document.querySelector('[data-js="grid-toggle"]'),a=i?i.getAttribute("data-toast-title"):"Grid",r=i?i.getAttribute("data-toast-on"):"";window.Toast.show(a,r,{icon:"icon-grid-micro"})}o(!0)}function l(n){if(e)return;if(e=!0,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay","closing"),s(!1),n&&window.Toast){var a,i=document.querySelector('[data-js="grid-toggle"]'),r=i?i.getAttribute("data-toast-title"):"Grid",c=i?i.getAttribute("data-toast-off"):"";window.Toast.show(r,c,{icon:"icon-grid-micro"})}o(!1),a=document.querySelector(".grid-overlay__col:first-child"),a?(a.addEventListener("animationend",function(){document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1},{once:!0}),setTimeout(function(){e&&(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)},600)):(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)}function i(){n()?l(!0):c(!0)}function a(){if(!window.matchMedia("(max-width: 29.9375em)").matches)return;var e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]'),n=document.querySelector('[data-js="settings-toggle"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),e.style.transform="",e.style.transition=""),t&&!t.hasAttribute("hidden")&&(t.setAttribute("hidden",""),t.style.opacity="",t.style.transition=""),n&&n.setAttribute("aria-expanded","false")}function s(e){var t=document.querySelectorAll('[data-js="grid-toggle"]');t.forEach(function(t){t.setAttribute("aria-pressed",String(e))})}function o(e){var t,s,o,n=document.querySelector('[data-js="footer-grid"]');if(!n)return;t=document.querySelector('[data-js="grid-toggle"]'),s=t?t.getAttribute("data-toast-title"):"Grid",o=e?t?t.getAttribute("data-toast-on"):"":t?t.getAttribute("data-toast-off"):"",n.textContent=s+" "+o}function r(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.setProperty("--scrollbar-width",e+"px")}r(),window.addEventListener("resize",r),localStorage.getItem(t)==="true"&&document.documentElement.setAttribute("data-grid-overlay",""),document.addEventListener("DOMContentLoaded",function(){s(n()),o(n()),document.querySelectorAll('[data-js="grid-toggle"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i(),a()})})}),window.GridOverlayActions={toggle:function(){i(),a()},isActive:n}}(),function(){"use strict";var d=900,t=null,s=null,e=null;function y(){var e=document.querySelectorAll("[data-shortcut]");e.forEach(function(e){if(e.getAttribute("data-shortcut-rendered")==="true")return;var t,n=(e.getAttribute("data-shortcut")||"").trim();if(!n)return;if(t=n.split(/\s+/).filter(Boolean),t.length===0)return;e.textContent="",t.forEach(function(t){var n=document.createElement("span");n.className="shortcut-key",n.textContent=t,e.appendChild(n)}),e.setAttribute("data-shortcut-rendered","true")})}function u(e){if(!e)return!1;var t=e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="textarea"||t==="select"||Boolean(e.isContentEditable)}function l(){return e||(e=document.createElement("div"),e.className="chord-hud",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("hidden",""),document.body.appendChild(e),e)}function m(e){var t=l();function n(e,n){t.textContent="";var s,o=document.createElement("span");o.className="chord-hud__label",o.textContent=e,t.appendChild(o),s=document.createElement("span"),s.className="chord-hud__keys",n.forEach(function(e){var t=document.createElement("span");t.className="shortcut-key",t.textContent=e,s.appendChild(t)}),t.appendChild(s)}e==="T"&&n("Theme +",["L","D","S"]),e==="L"&&n("Language +",["E","S"]),e==="P"&&n("Palette +",["1","2","3","4","5"]),e==="F"&&n("Typography +",["1","2","3","4"]),t.removeAttribute("hidden")}function c(){if(!e)return;e.setAttribute("hidden","")}function n(){t=null,s&&(window.clearTimeout(s),s=null),c()}function a(e){t=e,m(e),s&&window.clearTimeout(s),s=window.setTimeout(n,d)}function o(){return window.ThemeActions||null}function h(){return window.GridOverlayActions||null}function r(){return window.LanguageActions||null}function f(e){var n,s,t=o();if(!t||typeof t.setPalette!="function"||typeof t.getPaletteOrder!="function")return;s=t.getPaletteOrder(),n=s[e],n&&t.setPalette(n)}function p(e){var n,s,t=o();if(!t||typeof t.setTypography!="function"||typeof t.getTypographyOrder!="function")return;s=t.getTypographyOrder().filter(function(e){return e!=="system"}),n=s[e],n&&t.setTypography(n)}function g(e){if(e==="G"){var t=h();return t&&typeof t.toggle=="function"&&t.toggle(),!0}return(e==="T"||e==="L"||e==="P"||e==="F")&&(a(e),!0)}function v(e){var s=o(),i=r();return t==="T"&&s&&typeof s.setMode=="function"?(e==="L"&&s.setMode("light"),e==="D"&&s.setMode("dark"),e==="S"&&s.setMode("system"),n(),!0):t==="L"&&i&&typeof i.setLanguage=="function"?(e==="E"&&i.setLanguage("en"),e==="S"&&i.setLanguage("sv"),n(),!0):t==="P"?(e>="1"&&e<="5"&&f(Number(e)-1),n(),!0):t==="F"?(e>="1"&&e<="4"&&p(Number(e)-1),n(),!0):(n(),!1)}function b(e){return!e||!e.key?"":e.key.length!==1?"":e.key.toUpperCase()}function j(e){if(e.defaultPrevented)return;if(e.repeat)return;if(u(e.target))return;if(e.key==="Escape"){t&&(e.preventDefault(),n());return}if(e.metaKey||e.ctrlKey||e.altKey)return;var s=b(e);if(!s)return;if(!t){g(s)&&e.preventDefault();return}v(s)&&e.preventDefault()}function i(){y(),document.addEventListener("keydown",j)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i,{once:!0}):i()}(),function(){function e(){const n=document.querySelector('[data-js="palette-generator-root"]');if(!n)return;const L=n.querySelector('[data-js="palette-baseline-json"]'),S=n.querySelector('[data-js="palette-presets-json"]');if(!L||!S)return;let i,c;try{i=JSON.parse(L.textContent||"{}"),c=JSON.parse(S.textContent||"{}"),typeof i=="string"&&(i=JSON.parse(i)),typeof c=="string"&&(c=JSON.parse(c))}catch{return}const H=["gray","iris","green","amber","cloud","coty","teal","blue","purple","orange","red"],a={text:n.querySelector('select[data-role="text"]'),surface:n.querySelector('select[data-role="surface"]'),primary:n.querySelector('select[data-role="primary"]'),secondary:n.querySelector('select[data-role="secondary"]')},e=n.querySelector('[data-js="palette-preset"]'),m=n.querySelector('[data-js="tone-mode"]'),s={surface_profile:n.querySelector('[data-js="policy-surface-profile"]'),form_policy:n.querySelector('[data-js="policy-form-policy"]'),image_treatment:n.querySelector('[data-js="policy-image-treatment"]')},u=n.querySelector('[data-js="coty-year"]'),W=n.querySelector('[data-js="palette-reset"]'),D=n.querySelector('[data-js="palette-save"]'),P=n.querySelector('[data-js="palette-copy"]'),y=n.querySelector('[data-js="palette-export"]'),A=n.querySelector('[data-js="palette-export-code"]'),U=n.getAttribute("data-toast-palette-saved")||"Palette saved",T=n.getAttribute("data-palette-custom-label")||"Custom palette",O=new Set,z={},M="theme-custom-palette";let w=!1;function g(e){return"var(--"+e+")"}function t(e,t){return g(e+"-"+t)}function r(e,t){document.documentElement.style.setProperty(e,t),O.add(e),z[e]=t}function N(){O.forEach(e=>{document.documentElement.style.removeProperty(e),delete z[e]}),O.clear()}function o(e,t){if(!e)return"";if(e.indexOf(".")>-1){const s=e.split("."),n=s[0],o=s[1];if(t[n]&&t[n][o])return t[n][o]}return g(e)}function q(e,t){return typeof e!="string"?String(e):e.indexOf(".")>-1?o(e,t):e.indexOf("(")>-1?e:g(e)}function h(){return{text:a.text.value,surface:a.surface.value,primary:a.primary.value,secondary:a.secondary.value}}function v(){return m&&m.value||"mono"}function k(){try{const t=localStorage.getItem(M);if(!t)return null;const e=JSON.parse(t);return!e||typeof e!="object"?null:e}catch{return null}}function F(){return Boolean(k())}function K(e){if(window.ThemeActions&&typeof window.ThemeActions.setPalette=="function"){window.ThemeActions.setPalette(e);return}document.documentElement.setAttribute("data-palette",e);try{localStorage.setItem("theme-palette",e)}catch{}}function E(){if(!e)return;const n=F(),t=e.querySelector('option[value="custom"]');if(n&&!t){const t=document.createElement("option");t.value="custom",t.textContent=T,e.appendChild(t)}if(!n&&t){const n=e.value==="custom";t.remove(),n&&(e.value=e.options.length?e.options[0].value:"")}}function d(e){const n=c[e]||{},t=n.policies||{};return{tone_mode:v(),surface_profile:s.surface_profile&&s.surface_profile.value||l(t,"surface_profile","standard"),form_policy:s.form_policy&&s.form_policy.value||l(t,"form_policy","neutral"),image_treatment:s.image_treatment&&s.image_treatment.value||l(t,"image_treatment","none")}}function l(e,t,n){return!e||typeof e[t]=="undefined"?n:e[t]}function b(){const t=v();if(!a.secondary||!a.primary)return;const e=t==="duo";a.secondary.disabled=!e,e||(a.secondary.value=a.primary.value)}function R(){if(!u)return;const t=window.CotyScaleActions;if(!t||typeof t.getEntries!="function"){u.disabled=!0;return}const n=t.getEntries();u.innerHTML="",n.forEach(e=>{const t=document.createElement("option");t.value=String(e.year),t.textContent=String(e.year)+" — "+e.name,u.appendChild(t)}),u.value=String(t.getCurrentYear()),u.addEventListener("change",()=>{const n=Number(u.value);window.ThemeActions&&typeof window.ThemeActions.setCotyYear=="function"?window.ThemeActions.setCotyYear(n):typeof t.setYear=="function"&&t.setYear(n),f(h(),e.value,d(e.value))})}function f(e,n,s){const f=i.roles.text,h=i.roles.surface,j=i.roles.primary,z=i.roles.secondary,k=c[n]||{},M=k.overrides||{},E=k.component_overrides||{},L=k.policies||{},w=Object.assign({},L,s||{}),S=w.tone_mode||v(),d={text:e.text,surface:e.surface,primary:e.primary,secondary:S==="duo"?e.secondary:e.primary},a={text:{default:t(d.text,f.default_step),muted:"",inverse:g(f.inverse_token),link:"",link_hover:""},surface:{page:t(d.surface,h.page_step),surface:t(d.surface,h.surface_step),muted_text:t(d.surface,h.muted_text_step||10),tag:t(d.surface,h.tag_step),tag_hover:t(d.surface,h.tag_hover_step),nav:"",border_subtle:""},primary:{base:t(d.primary,j.base_step),strong:t(d.primary,j.strong_step),hover:t(d.primary,j.hover_step||j.strong_step),on:g(j.on_token)},secondary:{base:t(d.secondary,z.base_step),strong:t(d.secondary,z.strong_step)}};a.text.link=f.link_source?o(f.link_source,a):t(d.text,f.link_step),a.text.link_hover=f.link_hover_source?o(f.link_hover_source,a):t(d.text,f.link_hover_step),a.text.muted="color-mix(in oklch, "+g("gray-11")+" 60%, "+t(d.surface,h.surface_ink_strong_step||h.tag_text_step||11)+")",a.surface.nav=h.nav_source?o(h.nav_source,a):t(d.surface,h.nav_step),a.surface.border_subtle=h.border_subtle_source?o(h.border_subtle_source,a):t(d.surface,h.border_subtle_step);const A=l(w,"surface_profile","standard"),_=l(w,"form_policy","neutral"),y=l(w,"image_treatment","none"),p=window.ThemeDerive&&typeof window.ThemeDerive.derivePaletteTokens=="function"?window.ThemeDerive.derivePaletteTokens({roles:d,policies:{tone_mode:S,surface_profile:A,form_policy:_,image_treatment:y},component_overrides:E}):null;A==="deep"&&(a.surface.page=t(d.surface,2),a.surface.surface=t(d.surface,4),a.surface.tag=t(d.surface,4),a.surface.tag_hover=t(d.surface,5),a.surface.nav=t(d.surface,5),a.surface.border_subtle=t(d.surface,5)),a.text.link=a.primary.strong,a.text.link_hover=a.primary.hover,N();const D=e=>p&&p[e]||"",u=(e,t)=>{r(e,D(e)||t)};u("--accent-primary",a.primary.base),u("--accent-primary-strong",a.primary.strong),u("--accent-secondary",a.secondary.base),u("--accent-secondary-strong",a.secondary.strong),u("--brand-primary",a.primary.base),u("--text-accent",o(f.accent_source,a)),u("--component-toc-active-indicator",a.primary.base),u("--component-section-headline-bg",a.primary.base),u("--text-default",a.text.default),u("--text-tag",t(d.surface,h.tag_text_step||11)),u("--surface-ink-strong",t(d.surface,h.surface_ink_strong_step||h.tag_text_step||11)),u("--text-muted",a.text.muted),u("--text-link",a.text.link),u("--text-link-hover",a.text.link_hover),u("--text-inverse",a.text.inverse),u("--text-nav",a.text.default),u("--bg-page",a.surface.page),u("--bg-surface",a.surface.surface),u("--bg-tag",a.surface.tag),u("--bg-tag-hover",a.surface.tag_hover),u("--bg-nav",a.surface.nav),u("--border-subtle",a.surface.border_subtle),u("--state-focus",o(i.roles.state.focus_source,a)),u("--state-selected",o(i.roles.state.selected_source,a));const F=window.ThemeDerive&&window.ThemeDerive.deriveImageTokens;if(typeof F=="function"){const e=F({roles:d,policies:{image_treatment:y},mode:document.documentElement.getAttribute("data-mode")||"light"});Object.keys(e).forEach(t=>r(t,e[t]))}else y==="pantone-blend"?(r("--image-grayscale","100%"),r("--image-blend-mode","screen"),document.documentElement.getAttribute("data-mode")==="dark"?r("--image-background",t(d.surface,7)):r("--image-background",t(d.surface,12))):(r("--image-grayscale","0%"),r("--image-blend-mode","normal"),r("--image-background","transparent"));let x=i.roles.component.nav_cta.bg_source,O=i.roles.component.nav_cta.text_source;x=E.nav_cta_bg_source||x,O=E.nav_cta_text_source||O,u("--component-nav-cta-bg",o(x,a)),u("--component-nav-cta-text",o(O,a));const b=i.roles.component.form;let T=b.bg_source?o(b.bg_source,a):t(d.surface,b.bg_step),C=b.placeholder_source?o(b.placeholder_source,a):t(d.surface,b.placeholder_step);_==="surface-derived"&&(T=t(d.surface,3),C=p&&p["--component-form-placeholder"]?p["--component-form-placeholder"]:a.text.muted),_!=="surface-derived"&&p&&p["--component-form-placeholder"]&&(C=p["--component-form-placeholder"]),u("--component-form-bg",T),r("--component-form-placeholder",C);const m=i.roles.component.newsletter,R=m.bg_source?o(m.bg_source,a):t(d.surface,m.bg_step),P=m.text_source?o(m.text_source,a):t(d.surface,m.text_step),H=m.illustration_bg_source?o(m.illustration_bg_source,a):t(d.surface,m.illustration_bg_step),I=m.button_bg_source?o(m.button_bg_source,a):t(d.surface,m.button_bg_step),B=m.button_text_source?o(m.button_text_source,a):t(d[m.button_text_role||"primary"],m.button_text_step);u("--component-newsletter-bg",R),u("--component-newsletter-text",P),u("--component-newsletter-illustration-bg",H),u("--component-newsletter-button-bg",I),u("--component-newsletter-button-text",B),Object.keys(M).forEach(e=>{const t="--"+e.replace(/_/g,"-"),n=q(M[e],a);r(t,n)}),V(e,{tone_mode:S,surface_profile:A,form_policy:_,image_treatment:y})}function p(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function I(e){if(!e.trim())return"";if(/^\s*#/.test(e))return'<span class="toml-comment">'+p(e)+"</span>";var t,n,s,i,a,r,c,o=e.match(/^\s*\[([^\]]+)\]\s*$/);return o?'<span class="toml-section-bracket">[</span><span class="toml-section">'+p(o[1])+'</span><span class="toml-section-bracket">]</span>':(t=e.match(/^(\s*)([A-Za-z0-9_.-]+)(\s*=\s*)(.*)$/),t?(i=p(t[1]||""),a='<span class="toml-key">'+p(t[2])+"</span>",r='<span class="toml-equals">'+p(t[3])+"</span>",n=t[4]||"",s="toml-value",/^".*"$/.test(n)&&(s="toml-string"),/^(true|false)$/.test(n)&&(s="toml-bool"),/^-?\d+(\.\d+)?$/.test(n)&&(s="toml-number"),c='<span class="'+s+'">'+p(n)+"</span>",i+a+r+c):p(e))}function B(e){return e.split(`
`).map(I).join(`
`)}function V(e,t){const n=["[roles]",'text = "'+e.text+'"','surface = "'+e.surface+'"','primary = "'+e.primary+'"','secondary = "'+(v()==="duo"?e.secondary:e.primary)+'"',"","[policies]",'tone_mode = "'+(t.tone_mode||v())+'"','surface_profile = "'+(t.surface_profile||"standard")+'"','form_policy = "'+(t.form_policy||"neutral")+'"','image_treatment = "'+(t.image_treatment||"none")+'"',"","[overrides]","# add optional token overrides here","","[component_overrides]","# add optional component exceptions here"].join(`
`);y.value=n,A&&(A.innerHTML=B(n))}function $(e,t){if(!e)return;e.innerHTML="",t.forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)})}function j(e){const t=c[e];if(!t||!t.roles)return;const n=t.policies||{},o=l(n,"tone_mode","mono");m&&(m.value=o),s.surface_profile&&(s.surface_profile.value=l(n,"surface_profile","standard")),s.form_policy&&(s.form_policy.value=l(n,"form_policy","neutral")),s.image_treatment&&(s.image_treatment.value=l(n,"image_treatment","none")),Object.keys(a).forEach(e=>{const n=a[e];if(!n)return;n.value=t.roles[e]||n.value}),b(),f(h(),e,d(e))}function C(){const t=k();if(!t||!t.roles)return!1;const o=t.roles,n=t.policies||{};return m&&(m.value=n.tone_mode||"mono"),s.surface_profile&&(s.surface_profile.value=n.surface_profile||"standard"),s.form_policy&&(s.form_policy.value=n.form_policy||"neutral"),s.image_treatment&&(s.image_treatment.value=n.image_treatment||"none"),Object.keys(a).forEach(e=>{const t=a[e];if(!t)return;o[e]&&(t.value=o[e])}),b(),f(h(),e.value,d(e.value)),!0}Object.entries(a).forEach(([t,n])=>{$(n,H),n.addEventListener("change",()=>{t==="primary"&&v()!=="duo"&&b(),f(h(),e.value,d(e.value))})}),m&&m.addEventListener("change",()=>{b(),f(h(),e.value,d(e.value))}),Object.values(s).forEach(t=>{if(!t)return;t.addEventListener("change",()=>{f(h(),e.value,d(e.value))})}),R();const x=Object.keys(c).sort();e.innerHTML="",x.forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)});const _=document.documentElement.getAttribute("data-palette")||"standard";e.value=c[_]?_:x[0],e.addEventListener("change",()=>{w||K(e.value),e.value==="custom"?C():j(e.value)}),W.addEventListener("click",()=>{N();const t=document.documentElement.getAttribute("data-palette")||"standard",n=c[t]?t:x[0];e.value=n,j(n)}),P.addEventListener("click",async()=>{const e=y.value;try{await navigator.clipboard.writeText(e)}catch{y.select()}}),D&&D.addEventListener("click",()=>{const i=h(),s=d(e.value),o=k()||{},n=window.ThemeDerive&&typeof window.ThemeDerive.derivePaletteTokens=="function"?window.ThemeDerive.derivePaletteTokens({roles:i,policies:s,component_overrides:o.component_overrides||{}}):{},t=window.ThemeDerive&&typeof window.ThemeDerive.derivePreview=="function"?window.ThemeDerive.derivePreview({roles:i,policies:s,component_overrides:o.component_overrides||{}}):null,a={version:2,saved_at:(new Date).toISOString(),roles:i,policies:s,overrides:o.overrides||{},component_overrides:o.component_overrides||{},preview:{primary:t&&t.primary||n["--accent-primary-strong"]||n["--accent-primary"]||"",surface:t&&t.surface||n["--bg-page"]||"",secondary:t&&t.secondary||n["--accent-secondary-strong"]||n["--accent-secondary"]||"",tone_mode:t&&t.toneMode||s.tone_mode||"mono"}};try{localStorage.setItem(M,JSON.stringify(a)),localStorage.setItem("theme-palette","custom")}catch{return}E(),e.value="custom",document.documentElement.setAttribute("data-palette","custom"),window.ThemeActions&&typeof window.ThemeActions.refreshCustomPalette=="function"&&window.ThemeActions.refreshCustomPalette(),window.dispatchEvent(new Event("theme:custom-palette-updated")),window.Toast&&typeof window.Toast.show=="function"&&window.Toast.show(U,T,{icon:"icon-palette-micro"})}),E(),_==="custom"?(F()&&(e.value="custom"),C()):j(e.value),window.addEventListener("theme:palette-changed",t=>{const n=t&&t.detail?t.detail.palette:"";if(!n)return;w=!0,E(),c[n]?(e.value=n,j(n)):n==="custom"&&(e.querySelector('option[value="custom"]')&&(e.value="custom"),C()),w=!1}),window.addEventListener("theme:mode-changed",()=>{f(h(),e.value,d(e.value))}),window.addEventListener("theme:coty-year-changed",t=>{const n=t&&t.detail?Number(t.detail.year):0;u&&n&&(u.value=String(n)),f(h(),e.value,d(e.value))})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}();function initWritingTagFilter(){const o=new URLSearchParams(window.location.search),n=(o.get("tag")||"").trim().toLowerCase();if(!n)return;const e=window.location.pathname,t=e.endsWith("/")?e:`${e}/`,i=/(?:^|\/)writing\/$/.test(t)||/(?:^|\/)sv\/texter\/$/.test(t)||/(?:^|\/)post\/$/.test(t);if(!i)return;const s=document.querySelectorAll(".place-article > .article-card[data-tags]");if(!s.length)return;s.forEach(e=>{const t=e.closest(".place-article");if(!t)return;const s=(e.getAttribute("data-tags")||"").split(",").map(e=>e.trim().toLowerCase()).filter(Boolean),o=s.includes(n);t.hidden=!o})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initWritingTagFilter):initWritingTagFilter(),function(){const e=Array.from(document.querySelectorAll("[data-js]")).filter(e=>{const t=e.getAttribute("data-js")||"";return t.split(/\s+/).includes("tabs")});if(e.length===0)return;e.forEach(e=>{const t=Array.from(e.querySelectorAll(".tab-button[data-tab]")).filter(t=>{const n=t.closest("[data-js]"),s=n?n.getAttribute("data-js")||"":"";return n===e&&s.split(/\s+/).includes("tabs")}),s=Array.from(e.querySelectorAll(".tab-panel[data-panel]")).filter(t=>{const n=t.closest("[data-js]"),s=n?n.getAttribute("data-js")||"":"";return n===e&&s.split(/\s+/).includes("tabs")});if(t.length===0||s.length===0)return;const n=e.getAttribute("data-tabs-storage-key");function o(e){if(t.forEach(t=>{const n=t.dataset.tab===e;t.classList.toggle("is-active",n),t.setAttribute("aria-selected",n?"true":"false")}),s.forEach(t=>{const n=t.dataset.panel===e;t.classList.toggle("is-active",n)}),n)try{localStorage.setItem(n,e)}catch{}}if(t.forEach(e=>{e.hasAttribute("type")||e.setAttribute("type","button"),e.addEventListener("click",t=>{t.preventDefault(),o(e.dataset.tab)})}),n)try{const e=localStorage.getItem(n),s=Array.from(t).some(t=>t.dataset.tab===e);e&&s&&o(e)}catch{}})}()