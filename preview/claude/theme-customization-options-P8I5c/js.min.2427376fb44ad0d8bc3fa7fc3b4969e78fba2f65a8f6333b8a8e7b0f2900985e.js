(function(){})(this,this.document),function(){let t=window.scrollY;const e=document.querySelector('[data-js="top-menu"]')||document.querySelector("#topmenu");if(!e)return;const n=e.offsetHeight,s=()=>e.classList.add("bottom-line"),o=()=>e.classList.remove("bottom-line");window.addEventListener("scroll",function(){t=window.scrollY,t>=n?s():o()})}(),function(){var e,i,a,d,u,h,m,f,p,g,v,l=document.documentElement,o=window,r=o.scrollY||l.scrollTop,s=0,c=0,n=0,t=document.getElementById("topmenu");if(!t)return;m=300,f=200,d=function(){e=o.scrollY||l.scrollTop,e>r?s=2:s=1,s!==c?i=p():n=e,r=e,i&&(c=s)},p=function(){return i=!0,document.getElementById("layout").classList.contains("active")?(n=e,t.classList.remove("hide")):s===2&&e<10?(n=e,t.classList.add("relative")):s===2&&e-n>m?(n=e,t.classList.add("hide"),t.classList.remove("relative")):s===1&&n-e>f?(n=e,t.classList.remove("hide"),t.classList.remove("relative")):i=!1,i},u=o.matchMedia("(max-width: 47.9375em)"),a=!1,g=function(){if(a)return;a=!0,r=o.scrollY||l.scrollTop,s=0,c=0,n=r,o.addEventListener("scroll",d)},v=function(){if(!a)return;a=!1,t.classList.remove("hide"),t.classList.remove("relative"),o.removeEventListener("scroll",d)},h=function(e){e.matches?g():v()},u.addEventListener("change",h),h(u)}(),function(){"use strict";let s,e,t,l,r,d,c;function b(n){n&&n.stopPropagation();const o=e.hasAttribute("hidden");o?(j(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),s.setAttribute("aria-expanded","true")):(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),s.setAttribute("aria-expanded","false"))}function n(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),s.setAttribute("aria-expanded","false"))}function j(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function o(){const e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-toggle"]'),n=document.querySelector('[data-js="settings-overlay"]');e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function u(e){localStorage.setItem("theme-mode",e),a(e),m(e),n(),o()}function a(e){if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-mode",e)}else document.documentElement.setAttribute("data-mode",e);_(e),w(),O(e)}function m(e){r.forEach(t=>{const n=t.getAttribute("data-mode");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function y(e){localStorage.setItem("theme-palette",e),p(e),h(e),n(),o()}function p(e){document.documentElement.setAttribute("data-palette",e),x(e)}function h(e){d.forEach(t=>{const n=t.getAttribute("data-palette");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}var v={refined:['400 1em "Playfair Display"'],expressive:['500 1em "Bricolage Grotesque"']};function g(e){localStorage.setItem("theme-typography",e),f(e);var t=v[e];t&&t.length>0?Promise.all(t.map(function(e){return document.fonts.load(e)})).then(function(){i(e),n(),o()}).catch(function(){i(e),n(),o()}):(i(e),n(),o())}function i(e){document.documentElement.setAttribute("data-typography",e),C(e)}function f(e){c.forEach(t=>{const n=t.getAttribute("data-typography");n===e?(t.classList.add("active"),t.setAttribute("aria-current","true")):(t.classList.remove("active"),t.removeAttribute("aria-current"))})}function _(e){if(!l)return;let t="";e==="light"?t="icon-light":e==="dark"?t="icon-dark":e==="system"&&(t="icon-system"),l.innerHTML=`<svg width="24" height="24" aria-hidden="true">
      <use href="/img/svg/sprite.svg#${t}"></use>
    </svg>`}function w(){const e=document.querySelector('meta[name="theme-color"]');if(!e)return;const t=document.documentElement.getAttribute("data-mode");t==="dark"?e.setAttribute("content","#18181b"):e.setAttribute("content","#FFFFFF")}function O(e){const t=document.querySelector('[data-js="footer-mode"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}function x(e){const t=document.querySelector('[data-js="footer-palette"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}function C(e){const t=document.querySelector('[data-js="footer-typography"]');if(!t)return;const n=t.getAttribute(`data-label-${e}`)||e;t.textContent=n}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const e=localStorage.getItem("theme-mode")||"system";e==="system"&&a("system")}),document.addEventListener("DOMContentLoaded",function(){s=document.querySelector('[data-js="theme-toggle"]'),e=document.querySelector('[data-js="theme-panel"]'),t=document.querySelector('[data-js="theme-overlay"]'),l=document.querySelector('[data-js="theme-icon"]'),r=document.querySelectorAll('[data-js="mode-option"]'),d=document.querySelectorAll('[data-js="palette-option"]'),c=document.querySelectorAll('[data-js="typography-option"]');const o=localStorage.getItem("theme-mode")||"system",v=localStorage.getItem("theme-palette")||"standard",j=localStorage.getItem("theme-typography")||"editorial";if(a(o),p(v),i(j),m(o),h(v),f(j),s&&e){s.addEventListener("click",b),t&&t.addEventListener("click",n),document.addEventListener("click",function(t){!s.contains(t.target)&&!e.contains(t.target)&&n()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n()});let o=0,i=0;e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?n():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0})}r.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-mode");u(e)})}),d.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-palette");y(e)})}),c.forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-typography");g(e)})})}),window.setTheme=u}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".language-toggle"),e=document.querySelector(".language-panel"),t=document.querySelector(".language-overlay");if(!n||!e)return;function a(s){s.stopPropagation();const o=e.hasAttribute("hidden");o?(r(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true")):(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"))}function r(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}n.addEventListener("click",a),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()});let o=0,i=0;e&&t&&(e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0}))})}(),function(){"use strict";const e={PARAM_VIEW:"view",PARAM_REF:"ref",VIEW_CLIENT:"client",VIEW_EMPLOYER:"employer",LAYOUT_ID:"layout",CLASS_CLIENTPAGE:"clientpage",CLASS_EMPLOYERPAGE:"employerpage"};function u(){try{return new URLSearchParams(window.location.search)}catch(e){return console.error("Focus mode: Error parsing URL parameters",e),new URLSearchParams}}function s(){const s=u(),i=s.get(e.PARAM_VIEW),a=s.get("source"),n=window.location.pathname,r=n.includes("/clients/"),c=n.includes("/employer")||n.includes("/arbetsgivare");return i===e.VIEW_CLIENT||a==="client"||r?{type:e.VIEW_CLIENT,ref:s.get(e.PARAM_REF)||t(n,"clients")||o("clients")}:i===e.VIEW_EMPLOYER||c?{type:e.VIEW_EMPLOYER,ref:s.get(e.PARAM_REF)||t(n,"employers")||o("employers")}:null}function t(e,t){const s=new RegExp(`/${t}/([^/]+)`),n=e.match(s);return n?n[1]:null}function o(e){try{if(!document.referrer)return null;const n=new URL(document.referrer);return n.origin!==window.location.origin?null:t(n.pathname,e)}catch{return null}}function d(t){const n=document.getElementById(e.LAYOUT_ID);if(!n){console.warn("Focus mode: Layout element not found");return}t.type===e.VIEW_CLIENT?(n.classList.add(e.CLASS_CLIENTPAGE),console.log("Focus mode: Client mode activated",t.ref||"")):t.type===e.VIEW_EMPLOYER&&(n.classList.add(e.CLASS_EMPLOYERPAGE),console.log("Focus mode: Employer mode activated"))}function n(t){if(!t||!t.ref)return;const n=document.querySelector(".top-menu__item--contact .top-menu__link--button");if(!n)return;const a=window.location.pathname,c=a.startsWith("/sv/")?"/sv":"",l=t.type===e.VIEW_EMPLOYER?"employers":"clients",o=`${c}/${l}/${encodeURIComponent(t.ref)}/`,r=h(t),i=a.startsWith(o);i?n.setAttribute("href",`${o}?${r}#contact`):n.setAttribute("href",`${o}?${r}`);const s=n.querySelector(".top-menu__label--long"),d=n.querySelector('[data-focus-icon="contact-default"]'),u=n.querySelector('[data-focus-icon="contact-profile"]');if(s)if(i)s.textContent=s.getAttribute("data-focus-label")||s.getAttribute("data-focus-label-default")||s.textContent;else{const e=s.getAttribute("data-focus-label-template"),n=decodeURIComponent(t.ref).replace(/-/g," "),o=n.charAt(0).toUpperCase()+n.slice(1);s.textContent=e?e.replace("%s",o):s.textContent}i?n.classList.remove("is-focus-subpage"):n.classList.add("is-focus-subpage")}function h(t){const n=new URLSearchParams;return n.set(e.PARAM_VIEW,t.type),t.ref&&n.set(e.PARAM_REF,t.ref),n.toString()}function i(t){const n=document.querySelectorAll("a[href]");n.forEach(n=>{try{const o=n.getAttribute("href");if(!o||o.startsWith("#")||n.hasAttribute("data-focus-processed")||n.hasAttribute("data-focus-ignore")||n.closest('[data-focus-ignore="true"]'))return;const s=new URL(o,window.location.origin);if(s.origin!==window.location.origin)return;const i=new URLSearchParams(s.search);i.set(e.PARAM_VIEW,t.type),t.ref&&i.set(e.PARAM_REF,t.ref),s.search=i.toString(),n.setAttribute("href",s.pathname+s.search+s.hash),n.setAttribute("data-focus-processed","true")}catch{}})}function a(t){t.type===e.VIEW_CLIENT&&t.ref&&m(t.ref),t.type===e.VIEW_EMPLOYER&&t.ref&&f(t.ref)}function m(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back"]'),n=document.getElementById("client-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/clients/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function f(e){const t=document.querySelectorAll('[data-js="application-breadcrumb-back-employer"]'),n=document.getElementById("employer-breadcrumb-back"),s=t.length?Array.from(t):n?[n]:[];if(!s.length)return;const o=`/employers/${encodeURIComponent(e)}/`,i=decodeURIComponent(e).replace(/-/g," ");s.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);const t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("class","application-breadcrumb__link"),t.textContent=i,e.appendChild(t)})}function r(t){if(t.type!==e.VIEW_CLIENT||!t.ref)return;const n=`/clients/${encodeURIComponent(t.ref)}/`,s={"application-toc-letter":`${n}#letter`,"application-toc-portfolio":`${n}#portfolio`,"application-toc-cv":`${n}#cv`,"application-toc-download":`${n}#download`,"application-toc-contact":`${n}#contact`};Object.entries(s).forEach(([e,t])=>{const n=document.querySelector(`[data-js="${e}"]`);n&&n.setAttribute("href",t)})}function c(t){if(!t||!t.ref)return;if(t.type===e.VIEW_CLIENT){const s=document.querySelectorAll(".related-items__item.show-on-client"),e=document.querySelector(".related-items__title.show-on-client");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-clients")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}if(t.type===e.VIEW_EMPLOYER){const s=document.querySelectorAll(".related-items__item.show-on-employer"),e=document.querySelector(".related-items__title.show-on-employer");let n=0;s.forEach(e=>{const o=(e.getAttribute("data-employers")||"").split(",").map(e=>e.trim()).filter(Boolean),s=o.includes(t.ref);e.style.display=s?"":"none",s&&(n+=1)}),e&&(e.style.display=n>0?"":"none")}}function l(){const e=s();if(!e){console.log("Focus mode: Standard mode (no focus context)");return}d(e),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{i(e),a(e),r(e),c(e),n(e)}):(i(e),a(e),r(e),c(e),n(e))}l(),window.FocusMode={getContext:s,refresh:l}}(),function(){"use strict";function t(){const t=getComputedStyle(document.documentElement),e=parseFloat(t.scrollPaddingTop);return Number.isFinite(e)?e:0}function e(e,n){const s=t(),o=parseFloat(getComputedStyle(e).paddingTop)||0,i=e.getBoundingClientRect().top+window.pageYOffset+o-s;window.scrollTo({top:i,behavior:n||"smooth"})}function n(n){setTimeout(()=>{const s=t(),o=n.getBoundingClientRect().top+window.pageYOffset-s,i=Math.abs(window.pageYOffset-o);i>2&&e(n,"auto")},200)}document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll('a[href*="#"]');if(t.forEach(t=>{t.addEventListener("click",function(t){const n=this.getAttribute("href");if(!n||n==="#")return;try{const i=new URL(n,window.location.href),a=i.pathname===window.location.pathname||n.startsWith("#");if(!a)return;const s=n.includes("#")?n.split("#")[1]:null;if(!s)return;const o=document.getElementById(s);if(o){t.preventDefault(),window.history.pushState?window.location.hash!=="#"+s&&window.history.pushState(null,null,"#"+s):window.location.hash=s,e(o,"smooth"),o.setAttribute("tabindex","-1");try{o.focus({preventScroll:!0})}catch{}}}catch(e){console.warn("Smooth scroll: URL parsing failed",e)}})}),window.location.hash){const s=window.location.hash.slice(1),t=document.getElementById(s);t&&setTimeout(()=>{e(t,"smooth"),t.setAttribute("tabindex","-1");try{t.focus({preventScroll:!0})}catch{}n(t)},100)}})}(),function(){"use strict";const e=5e3,t=500;function n(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return e.split("|").map(e=>e.trim()).filter(Boolean)}}document.addEventListener("DOMContentLoaded",function(){const s=document.querySelector('[data-js="role-swapper"]');if(!s)return;const r=s.getAttribute("data-suffix")||"",l=window.matchMedia("(prefers-reduced-motion: reduce)").matches,o=Array.from(s.querySelectorAll("[data-role]")),d=s.getAttribute("data-start");if(o.length){const r=Number(s.getAttribute("data-interval"))||e,c=Number(s.getAttribute("data-fade"))||t;let n=o.findIndex(e=>e.classList.contains("is-active"));n<0&&(n=0),d==="random"&&(n=Math.floor(Math.random()*o.length));const i=o.reduce((e,t)=>Math.max(e,t.textContent.trim().length),0);i>0&&(s.style.minWidth=`${i}ch`),o.forEach(e=>{e.style.transitionDuration=`${c}ms`});const a=e=>{o.forEach((t,n)=>{const s=n===e;t.classList.toggle("is-active",s),t.setAttribute("aria-hidden",s?"false":"true")})};if(a(n),o.length<2||l)return;window.setInterval(()=>{n=(n+1)%o.length,a(n)},r);return}const c=s.querySelector('[data-js="role-swapper-text"]')||s,a=n(s.getAttribute("data-roles"));if(a.length<2)return;const u=e=>{const t=e.trim();return r&&t.endsWith(r)?t.slice(0,-r.length):t};if(l)return;const h=Number(s.getAttribute("data-interval"))||e,m=Number(s.getAttribute("data-fade"))||t;let i=a.indexOf(u(c.textContent));d==="random"?(i=Math.floor(Math.random()*a.length),c.textContent=a[i]+r):(i<0&&(i=0),c.textContent.trim()||(c.textContent=a[i]+r));function f(){s.style.opacity="0",window.setTimeout(()=>{i=(i+1)%a.length,c.textContent=a[i]+r,s.style.opacity="1"},m)}window.setInterval(f,h)})}(),function(){const e=document.querySelector('[data-js="ui-library-tabs"]');if(!e)return;const t=e.querySelectorAll(".tab-button"),s=e.querySelectorAll(".tab-panel");function n(e){t.forEach(t=>{const n=t.dataset.tab===e;t.classList.toggle("is-active",n),t.setAttribute("aria-selected",n?"true":"false")}),s.forEach(t=>{const n=t.dataset.panel===e;t.classList.toggle("is-active",n)});try{localStorage.setItem("ui-library-active-tab",e)}catch{}}function o(){try{const e=localStorage.getItem("ui-library-active-tab");e&&n(e)}catch{}}t.forEach(e=>{e.addEventListener("click",t=>{const s=e.dataset.tab;n(s)})}),o()}(),function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector('[data-js="settings-toggle"]'),e=document.querySelector('[data-js="settings-panel"]'),t=document.querySelector('[data-js="settings-overlay"]');if(!n||!e)return;function r(){const e=document.querySelector(".theme-panel"),t=document.querySelector(".theme-toggle"),n=document.querySelector(".theme-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function c(){const e=document.querySelector(".language-panel"),t=document.querySelector(".language-toggle"),n=document.querySelector(".language-overlay");e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),n&&n.setAttribute("hidden",""),t&&t.setAttribute("aria-expanded","false"))}function a(){if(!e)return;e.style.transform="",e.style.transition="",t&&(t.style.opacity="",t.style.transition="")}function s(){e&&!e.hasAttribute("hidden")&&(e.setAttribute("hidden",""),t&&t.setAttribute("hidden",""),n.setAttribute("aria-expanded","false"),a())}function l(o){o.stopPropagation();const i=e.hasAttribute("hidden");i?(r(),c(),e.removeAttribute("hidden"),t&&t.removeAttribute("hidden"),n.setAttribute("aria-expanded","true"),a()):s()}n.addEventListener("click",l),t&&t.addEventListener("click",s),document.addEventListener("click",function(t){!n.contains(t.target)&&!e.contains(t.target)&&s()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&s()});let o=0,i=0;e&&t&&(e.addEventListener("touchstart",function(n){o=n.changedTouches[0].screenY,e.style.transition="none",t.style.transition="none"}),e.addEventListener("touchmove",function(n){i=n.changedTouches[0].screenY;const s=i-o;if(s>0){n.preventDefault(),e.style.transform=`translateY(${s}px)`;const o=e.getBoundingClientRect().height,i=window.innerHeight-o-8,a=1-s/i;t.style.opacity=Math.max(a,0)}}),e.addEventListener("touchend",function(){const a=i-o;e.style.transition="transform 0.3s ease-in-out",t.style.transition="opacity 0.3s ease-in-out",a>50?s():(e.style.transform="translateY(0)",t.style.opacity="1"),o=0,i=0}))})}(),function(){"use strict";const o=".reveal",t="is-revealed",n=e=>{if(window.requestAnimationFrame){window.requestAnimationFrame(()=>{window.requestAnimationFrame(e)});return}window.setTimeout(e,0)},e=e=>{if(e.classList.contains(t))return;n(()=>{e.classList.add(t)})},s=t=>{const s=t.querySelectorAll("img");if(!s.length){e(t);return}let n=0;s.forEach(s=>{if(s.complete)return;n+=1;const o=()=>{n-=1,n<=0&&e(t)};s.addEventListener("load",o,{once:!0}),s.addEventListener("error",o,{once:!0})}),n===0&&e(t)};document.addEventListener("DOMContentLoaded",function(){const u=document.querySelectorAll(".application-page .about-cv.reveal");u.length&&n(()=>{u.forEach(t=>{e(t)})});const v=document.querySelectorAll(".post-content"),c=new Set;v.forEach(e=>{Array.from(e.children).forEach(e=>{e.classList.contains("reveal")||e.classList.add("reveal"),c.add(e)})});const i=Array.from(document.querySelectorAll(o));if(!i.length)return;const g=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(g||!("IntersectionObserver"in window)){i.forEach(e=>e.classList.add(t));return}const p=new IntersectionObserver((t,n)=>{t.forEach(t=>{if(!t.isIntersecting)return;t.target.classList.contains("reveal--immediate")?e(t.target):t.target.classList.contains("reveal--no-wait")?e(t.target):s(t.target),n.unobserve(t.target)})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),h=e=>{const t=e.getBoundingClientRect();return t.top<=window.innerHeight&&t.bottom>=0},a=e=>{const t=e.getBoundingClientRect();return t.height>0},m=e=>e.classList.contains("reveal--delay")||e.classList.contains("reveal--delay-2")||e.classList.contains("reveal--immediate")||e.style.getPropertyValue("--reveal-delay"),f=window.matchMedia&&window.matchMedia("(max-width: 43.125em)").matches,d=i.filter(h);let l=0,r=0;d.forEach(t=>{if(!f&&!m(t)){const e=c.has(t);if(e){const e=Math.min(r*60,360);t.style.setProperty("--reveal-delay",`${e}ms`),a(t)&&(r+=1)}else{const e=Math.min(l*80,320);t.style.setProperty("--reveal-delay",`${e}ms`),a(t)&&(l+=1)}}t.classList.contains("reveal--immediate")?e(t):t.classList.contains("reveal--no-wait")?e(t):s(t)}),i.forEach(e=>{if(d.includes(e))return;p.observe(e)})})}(),function(){"use strict";var l=1e4,c=!1,o={en:{success:"Thank you for subscribing!",error:"Something went wrong. Please try again.",invalidEmail:"Please enter a valid email address.",alreadySubscribed:"You're already subscribed!",timeout:"Request timed out. Please try again."},sv:{success:"Tack för din prenumeration!",error:"Något gick fel. Försök igen.",invalidEmail:"Ange en giltig e-postadress.",alreadySubscribed:"Du prenumererar redan!",timeout:"Förfrågan tog för lång tid. Försök igen."}};function e(){c&&window.console&&console.log&&console.log.apply(console,["[Newsletter]"].concat(Array.prototype.slice.call(arguments)))}function r(){var e=document.documentElement.lang||"en";return e.indexOf("sv")===0?"sv":"en"}function t(e){var t=r();return o[t]&&o[t][e]||o.en[e]}function n(t,n,s){var o=t.querySelector(".mc-response--success")||t.querySelector("#mce-success-response"),i=t.querySelector(".mc-response--error")||t.querySelector("#mce-error-response");e("showResponse:",n,"isError:",s),o&&(o.style.display=s?"none":"block",s||(o.textContent=n)),i&&(i.style.display=s?"block":"none",s&&(i.textContent=n))}function d(e){for(var n=e.querySelectorAll(".mc-response, .response"),t=0;t<n.length;t++)n[t].style.display="none",n[t].textContent=""}function s(e,t){var s,n=e.querySelector('button[type="submit"], input[type="submit"]');n&&(n.disabled=t,t?(n.setAttribute("data-original-text",n.value||n.textContent),n.tagName==="INPUT"?n.value="...":n.textContent="..."):(s=n.getAttribute("data-original-text"),s&&(n.tagName==="INPUT"?n.value=s:n.textContent=s)))}function u(t,n,s){e("Building URL from:",t);var i,o=t;return o.indexOf("/subscribe/post?")!==-1?o=o.replace("/subscribe/post?","/subscribe/post-json?"):o.indexOf("/subscribe/post-json?")===-1&&o.indexOf("/subscribe/post-json")!==-1&&(o=o+"?"),o=o.replace(/[&?]c=[^&]*/g,""),o=o.replace(/&&/g,"&").replace(/\?&/g,"?").replace(/&$/g,"").replace(/\?$/g,""),i=o.indexOf("?")===-1?"?":"&",o=o+i+"c="+n,s&&(o=o+"&"+s),e("Final URL:",o),o}function i(t,n,s){e("Cleanup:",t),s&&clearTimeout(s);try{window[t]&&delete window[t]}catch{window[t]=void 0}n&&n.parentNode&&n.parentNode.removeChild(n)}function h(o){var a,r,c,h,m,f,p,g,v,b,y,_,w=o.querySelector('input[type="email"]'),j=w?w.value.trim():"";if(e("Submitting form, email:",j),!j||j.indexOf("@")===-1){n(o,t("invalidEmail"),!0);return}d(o),s(o,!0);for(b=[],p=o.querySelectorAll("input[name]"),m=0;m<p.length;m++){if(f=p[m],_=f.name,y=f.value,f.type==="submit")continue;b.push(encodeURIComponent(_)+"="+encodeURIComponent(y))}g=b.join("&"),e("Form params:",g),c="mc_resp_"+Date.now(),v=u(o.getAttribute("action"),c,g),r=document.createElement("script"),h=null,a=!1,window[c]=function(l){if(e("Callback received:",l),a){e("Already completed, ignoring");return}if(a=!0,s(o,!1),l&&l.result==="success")n(o,t("success"),!1),o.reset();else{var u,d=t("error");l&&l.msg&&(e("Error msg from Mailchimp:",l.msg),u=l.msg.toLowerCase(),u.indexOf("already subscribed")!==-1?d=t("alreadySubscribed"):u.indexOf("invalid")!==-1||u.indexOf("valid email")!==-1?d=t("invalidEmail"):d=l.msg.replace(/<[^>]*>/g,"").trim()),n(o,d,!0)}i(c,r,h)},h=setTimeout(function(){if(e("Timeout fired"),a)return;a=!0,s(o,!1),n(o,t("timeout"),!0),i(c,r,null)},l),r.onerror=function(l){if(e("Script error:",l),a)return;a=!0,s(o,!1),n(o,t("error"),!0),i(c,r,h)},e("Loading script:",v),r.src=v,document.body.appendChild(r)}function a(){var t,n=document.querySelectorAll("form[data-mc-form]");e("Found",n.length,"newsletter forms");for(t=0;t<n.length;t++)(function(e){e.addEventListener("submit",function(t){t.preventDefault(),h(e)})})(n[t])}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()}(),function(){function e(e,t){e.forEach(e=>{const n=e.getAttribute("data-toc-link")===t;e.classList.toggle("is-active",n),n?e.setAttribute("aria-current","true"):e.removeAttribute("aria-current")})}function t(){const o=document.querySelector(".toc");if(!o)return;const t=Array.from(o.querySelectorAll("[data-toc-link]"));if(!t.length)return;const i=Array.from(document.querySelectorAll("[data-toc-section]")),a=new Set(t.map(e=>e.getAttribute("data-toc-link"))),n=window.location.hash.replace("#","");if(n&&a.has(n))e(t,n);else{const n=t[0].getAttribute("data-toc-link");n&&e(t,n)}if(!("IntersectionObserver"in window)||!i.length)return;if(typeof IntersectionObserver!="function")return;let r=null;const s=new IntersectionObserver(n=>{n.forEach(n=>{if(!n.isIntersecting)return;const s=n.target.getAttribute("data-toc-section");if(!s||s===r||!a.has(s))return;r=s,e(t,s)})},{root:null,rootMargin:"0px 0px -60% 0px",threshold:.1});if(!s||typeof s.observe!="function")return;i.forEach(e=>s.observe(e))}document.addEventListener("DOMContentLoaded",t)}(),function(){const t=document.querySelector('[data-js="brand-loop"]');if(!t)return;const R=typeof window.matchMedia=="function"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(R)return;const v=t.getAttribute("data-curl-random");if(v===null||v==="false"||v==="0")return;const w=t.getAttribute("data-curl-base"),y=t.getAttribute("data-curl-variants");if(!w||!y)return;let c,r;try{c=atob(w),r=JSON.parse(atob(y))}catch{return}if(!Array.isArray(r)||r.length===0)return;const o=(e,t)=>{const n=Number.parseFloat(e);return Number.isFinite(n)?n:t},L=o(t.getAttribute("data-curl-base-min"),10),k=o(t.getAttribute("data-curl-base-max"),10),N=o(t.getAttribute("data-curl-transition-min"),.5),z=o(t.getAttribute("data-curl-transition-max"),.5),T=o(t.getAttribute("data-curl-alt-min"),2),F=o(t.getAttribute("data-curl-alt-max"),2),x=Math.max(2,Math.round(o(t.getAttribute("data-curl-dynamic-steps"),4))),p=(e,t)=>{const n=Math.min(e,t),s=Math.max(e,t);return n+Math.random()*(s-n)},M=e=>{const t=e.slice();for(let e=t.length-1;e>0;e-=1){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t},S=.2,A=e=>{if(l.length<2)return null;const t=l.filter(t=>t!==e);return t.length?t[Math.floor(Math.random()*t.length)]:null},j=e=>Number.isFinite(e.transition)?e.transition:p(N,z),h=r.find(e=>e.role==="bridge"||e.bridge===!0),l=h?r.filter(e=>e!==h):r;if(l.length===0)return;const i=h?h.d:null,O=M(l);let e=0;const C=[0],d=[c],_=[],a="0 0 1 1",m="0.42 0 1 1",g="0 0 0.58 1",s=(e,t,n=a)=>{d.push(e),C.push(t),_.push(n)},f=({variant:t,includeBaseHold:n,returnToBase:o,startFromBridge:r,transitionOut:l})=>{const f=n?p(L,k):0,h=j(t),v=p(T,F),u=t.d,b=t.d_alt||t.d;if(f>0&&(e+=f,s(c,e,a)),i){const t=d[d.length-1];(n||t===c)&&(e+=h,s(i,e,m)),e+=h,s(u,e,g)}else r?(e+=h,s(u,e,g)):(e+=h,s(u,e,a));if(t.type==="dynamic"){const t=v/x;for(let n=0;n<x;n+=1)e+=t,s(n%2===0?b:u,e,a)}else e+=v,s(u,e,a);if(o){const n=l??j(t);i?(e+=n,s(i,e,m),e+=n,s(c,e,g)):(e+=n,s(c,e,a))}else if(i){const n=l??j(t);e+=n,s(i,e,m)}},u=O.map(()=>Math.random()<S);if(l.length>1&&!u.some(Boolean)&&(u[Math.floor(Math.random()*u.length)]=!0),O.forEach((e,t)=>{const s=u[t],n=s?A(e):null;if(!n){f({variant:e,includeBaseHold:!0,returnToBase:!0,startFromBridge:!1});return}f({variant:e,includeBaseHold:!0,returnToBase:!1,startFromBridge:!1}),f({variant:n,includeBaseHold:!1,returnToBase:!0,startFromBridge:Boolean(i)})}),e<=0)return;const D=C.map(t=>(t/e).toFixed(6)),b=t.querySelector(".brand__mark-loop-path");if(!b)return;const E=b.querySelector("animate");E&&E.remove();const n=document.createElementNS("http://www.w3.org/2000/svg","animate");n.setAttribute("attributeName","d"),n.setAttribute("dur",`${e.toFixed(1)}s`),n.setAttribute("begin","0s"),n.setAttribute("repeatCount","indefinite"),n.setAttribute("calcMode","spline"),n.setAttribute("keyTimes",D.join(";")),n.setAttribute("keySplines",_.join(";")),n.setAttribute("values",d.join(";")),b.appendChild(n),typeof n.beginElement=="function"&&n.beginElement()}(),function(){var t="grid-overlay",e=!1;function s(){return document.documentElement.hasAttribute("data-grid-overlay")&&!e}function a(){e=!1,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay",""),localStorage.setItem(t,"true"),n(!0)}function r(){if(e)return;e=!0,document.documentElement.setAttribute("data-grid-animate",""),document.documentElement.setAttribute("data-grid-overlay","closing"),n(!1);var s=document.querySelector(".grid-overlay__col:first-child");s?(s.addEventListener("animationend",function(){document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1},{once:!0}),setTimeout(function(){e&&(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)},600)):(document.documentElement.removeAttribute("data-grid-overlay"),document.documentElement.removeAttribute("data-grid-animate"),localStorage.removeItem(t),e=!1)}function o(){s()?r():a()}function n(e){var t=document.querySelectorAll('[data-js="grid-toggle"]');t.forEach(function(t){t.setAttribute("aria-pressed",String(e))})}function i(){var e=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.setProperty("--scrollbar-width",e+"px")}i(),window.addEventListener("resize",i),localStorage.getItem(t)==="true"&&document.documentElement.setAttribute("data-grid-overlay",""),document.addEventListener("DOMContentLoaded",function(){/Mac|iPhone|iPad|iPod/.test(navigator.userAgent)&&document.querySelectorAll(".toggle-switch__shortcut, kbd").forEach(function(e){e.textContent.trim()==="Ctrl+G"&&(e.textContent="⌘G")}),n(s()),document.querySelectorAll('[data-js="grid-toggle"]').forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),o()})}),document.addEventListener("keydown",function(e){var t=e.metaKey||e.ctrlKey;t&&e.key==="g"&&!e.shiftKey&&!e.altKey&&(e.preventDefault(),o())})})}()