{{- $translations := .Translations -}}
{{- if gt (len $translations) 0 -}}
<div class="language-dropdown">
  <button
    class="language-toggle"
    aria-label="{{ i18n "lang_select_title" }}"
    aria-expanded="false"
    aria-haspopup="true"
  >
    <div class="language-icon">
      <svg width="20" height="20" aria-hidden="true">
        <use href="{{ "/img/svg/sprite.svg?v=20260211b" | relURL }}#icon-language"></use>
      </svg>
    </div>
  </button>

  <div class="language-panel" hidden>
    <div class="language-list">
      {{- range .Translations -}}
        <a
          href="{{ .RelPermalink }}"
          class="language-option"
          lang="{{ .Language.Lang }}"
          hreflang="{{ .Language.Lang }}"
        >
          <span class="language-radio" aria-hidden="true"></span>
          <span class="language-name">{{ .Language.LanguageName }}</span>
        </a>
      {{- end -}}

      {{- /* Current language (shown but not clickable) */ -}}
      <span class="language-option language-option--current" aria-current="true">
        <span class="language-radio" aria-hidden="true"></span>
        <span class="language-name">{{ .Language.LanguageName }}</span>
      </span>

    </div>
  </div>
  <div class="language-overlay" hidden></div>
</div>
{{- end -}}
