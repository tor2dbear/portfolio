<div class="theme-dropdown">
  <button
    class="theme-toggle"
    aria-label="{{ i18n "Settings" }}"
    aria-expanded="false"
    aria-haspopup="true"
    data-js="theme-toggle"
  >
    <svg class="theme-icon" data-js="theme-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <!-- Icon will be dynamically loaded based on current theme -->
    </svg>
  </button>

  <div class="theme-panel" hidden data-js="theme-panel">
    <div class="theme-section">
      <h3 class="theme-section-title">{{ i18n "mode" }}</h3>
      <div class="theme-options">
        <button
          class="theme-option"
          data-mode="light"
          data-js="mode-option"
          aria-label="{{ i18n "light_mode" }}"
        >
          <svg class="theme-option-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
            <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41M16.24 7.76l1.41-1.41" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>{{ i18n "light_mode" }}</span>
        </button>

        <button
          class="theme-option"
          data-mode="dark"
          data-js="mode-option"
          aria-label="{{ i18n "dark_mode" }}"
        >
          <svg class="theme-option-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>{{ i18n "dark_mode" }}</span>
        </button>

        <button
          class="theme-option"
          data-mode="system"
          data-js="mode-option"
          aria-label="{{ i18n "system_mode" }}"
        >
          <svg class="theme-option-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 8.5v7c0-1.93-1.57-3.5-3.5-3.5S5 13.57 5 15.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
            <path d="M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M4.93 19.07l1.41-1.41M16.24 7.76l1.41-1.41" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>{{ i18n "system_mode" }}</span>
        </button>
      </div>
    </div>

    <div class="theme-divider"></div>

    <div class="theme-section">
      <h3 class="theme-section-title">{{ i18n "palette" }}</h3>
      <div class="theme-options">
        <button
          class="theme-option theme-option--palette"
          data-palette="standard"
          data-js="palette-option"
          aria-label="Standard"
        >
          <span class="palette-preview palette-preview--standard">
            <span class="palette-preview-segment" style="background: var(--iris-9);"></span>
            <span class="palette-preview-segment" style="background: var(--gray-12);"></span>
          </span>
          <span>Standard</span>
        </button>

        <button
          class="theme-option theme-option--palette"
          data-palette="pantone"
          data-js="palette-option"
          aria-label="Pantone"
        >
          <span class="palette-preview palette-preview--pantone">
            <span class="palette-preview-segment" style="background: #C13B4E;"></span>
            <span class="palette-preview-segment" style="background: var(--gray-12);"></span>
          </span>
          <span>Pantone</span>
        </button>
      </div>
    </div>
  </div>
</div>
